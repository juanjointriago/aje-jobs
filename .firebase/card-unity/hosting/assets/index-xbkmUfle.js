(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function W1(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var qd={exports:{}},Ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv;function ew(){if(Fv)return Ll;Fv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:a,key:f,ref:o!==void 0?o:null,props:u}}return Ll.Fragment=e,Ll.jsx=n,Ll.jsxs=n,Ll}var Gv;function tw(){return Gv||(Gv=1,qd.exports=ew()),qd.exports}var ee=tw(),Fd={exports:{}},He={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v;function nw(){if($v)return He;$v=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function b(D){return D===null||typeof D!="object"?null:(D=S&&D[S]||D["@@iterator"],typeof D=="function"?D:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,J={};function X(D,te,he){this.props=D,this.context=te,this.refs=J,this.updater=he||M}X.prototype.isReactComponent={},X.prototype.setState=function(D,te){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,te,"setState")},X.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Y(){}Y.prototype=X.prototype;function oe(D,te,he){this.props=D,this.context=te,this.refs=J,this.updater=he||M}var se=oe.prototype=new Y;se.constructor=oe,L(se,X.prototype),se.isPureReactComponent=!0;var ge=Array.isArray,de={H:null,A:null,T:null,S:null,V:null},V=Object.prototype.hasOwnProperty;function x(D,te,he,le,we,ze){return he=ze.ref,{$$typeof:i,type:D,key:te,ref:he!==void 0?he:null,props:ze}}function A(D,te){return x(D.type,te,void 0,void 0,void 0,D.props)}function R(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function N(D){var te={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(he){return te[he]})}var k=/\/+/g;function U(D,te){return typeof D=="object"&&D!==null&&D.key!=null?N(""+D.key):te.toString(36)}function C(){}function Be(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(C,C):(D.status="pending",D.then(function(te){D.status==="pending"&&(D.status="fulfilled",D.value=te)},function(te){D.status==="pending"&&(D.status="rejected",D.reason=te)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function We(D,te,he,le,we){var ze=typeof D;(ze==="undefined"||ze==="boolean")&&(D=null);var xe=!1;if(D===null)xe=!0;else switch(ze){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(D.$$typeof){case i:case e:xe=!0;break;case E:return xe=D._init,We(xe(D._payload),te,he,le,we)}}if(xe)return we=we(D),xe=le===""?"."+U(D,0):le,ge(we)?(he="",xe!=null&&(he=xe.replace(k,"$&/")+"/"),We(we,te,he,"",function(Qn){return Qn})):we!=null&&(R(we)&&(we=A(we,he+(we.key==null||D&&D.key===we.key?"":(""+we.key).replace(k,"$&/")+"/")+xe)),te.push(we)),1;xe=0;var Pt=le===""?".":le+":";if(ge(D))for(var gt=0;gt<D.length;gt++)le=D[gt],ze=Pt+U(le,gt),xe+=We(le,te,he,ze,we);else if(gt=b(D),typeof gt=="function")for(D=gt.call(D),gt=0;!(le=D.next()).done;)le=le.value,ze=Pt+U(le,gt++),xe+=We(le,te,he,ze,we);else if(ze==="object"){if(typeof D.then=="function")return We(Be(D),te,he,le,we);throw te=String(D),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return xe}function G(D,te,he){if(D==null)return D;var le=[],we=0;return We(D,le,"","",function(ze){return te.call(he,ze,we++)}),le}function ce(D){if(D._status===-1){var te=D._result;te=te(),te.then(function(he){(D._status===0||D._status===-1)&&(D._status=1,D._result=he)},function(he){(D._status===0||D._status===-1)&&(D._status=2,D._result=he)}),D._status===-1&&(D._status=0,D._result=te)}if(D._status===1)return D._result.default;throw D._result}var pe=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Ue(){}return He.Children={map:G,forEach:function(D,te,he){G(D,function(){te.apply(this,arguments)},he)},count:function(D){var te=0;return G(D,function(){te++}),te},toArray:function(D){return G(D,function(te){return te})||[]},only:function(D){if(!R(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},He.Component=X,He.Fragment=n,He.Profiler=o,He.PureComponent=oe,He.StrictMode=a,He.Suspense=g,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=de,He.__COMPILER_RUNTIME={__proto__:null,c:function(D){return de.H.useMemoCache(D)}},He.cache=function(D){return function(){return D.apply(null,arguments)}},He.cloneElement=function(D,te,he){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var le=L({},D.props),we=D.key,ze=void 0;if(te!=null)for(xe in te.ref!==void 0&&(ze=void 0),te.key!==void 0&&(we=""+te.key),te)!V.call(te,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&te.ref===void 0||(le[xe]=te[xe]);var xe=arguments.length-2;if(xe===1)le.children=he;else if(1<xe){for(var Pt=Array(xe),gt=0;gt<xe;gt++)Pt[gt]=arguments[gt+2];le.children=Pt}return x(D.type,we,void 0,void 0,ze,le)},He.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},He.createElement=function(D,te,he){var le,we={},ze=null;if(te!=null)for(le in te.key!==void 0&&(ze=""+te.key),te)V.call(te,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(we[le]=te[le]);var xe=arguments.length-2;if(xe===1)we.children=he;else if(1<xe){for(var Pt=Array(xe),gt=0;gt<xe;gt++)Pt[gt]=arguments[gt+2];we.children=Pt}if(D&&D.defaultProps)for(le in xe=D.defaultProps,xe)we[le]===void 0&&(we[le]=xe[le]);return x(D,ze,void 0,void 0,null,we)},He.createRef=function(){return{current:null}},He.forwardRef=function(D){return{$$typeof:m,render:D}},He.isValidElement=R,He.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:ce}},He.memo=function(D,te){return{$$typeof:p,type:D,compare:te===void 0?null:te}},He.startTransition=function(D){var te=de.T,he={};de.T=he;try{var le=D(),we=de.S;we!==null&&we(he,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Ue,pe)}catch(ze){pe(ze)}finally{de.T=te}},He.unstable_useCacheRefresh=function(){return de.H.useCacheRefresh()},He.use=function(D){return de.H.use(D)},He.useActionState=function(D,te,he){return de.H.useActionState(D,te,he)},He.useCallback=function(D,te){return de.H.useCallback(D,te)},He.useContext=function(D){return de.H.useContext(D)},He.useDebugValue=function(){},He.useDeferredValue=function(D,te){return de.H.useDeferredValue(D,te)},He.useEffect=function(D,te,he){var le=de.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(D,te)},He.useId=function(){return de.H.useId()},He.useImperativeHandle=function(D,te,he){return de.H.useImperativeHandle(D,te,he)},He.useInsertionEffect=function(D,te){return de.H.useInsertionEffect(D,te)},He.useLayoutEffect=function(D,te){return de.H.useLayoutEffect(D,te)},He.useMemo=function(D,te){return de.H.useMemo(D,te)},He.useOptimistic=function(D,te){return de.H.useOptimistic(D,te)},He.useReducer=function(D,te,he){return de.H.useReducer(D,te,he)},He.useRef=function(D){return de.H.useRef(D)},He.useState=function(D){return de.H.useState(D)},He.useSyncExternalStore=function(D,te,he){return de.H.useSyncExternalStore(D,te,he)},He.useTransition=function(){return de.H.useTransition()},He.version="19.1.0",He}var Yv;function qm(){return Yv||(Yv=1,Fd.exports=nw()),Fd.exports}var Q=qm();const gs=W1(Q);var Gd={exports:{}},kl={},$d={exports:{}},Yd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv;function rw(){return Kv||(Kv=1,function(i){function e(G,ce){var pe=G.length;G.push(ce);e:for(;0<pe;){var Ue=pe-1>>>1,D=G[Ue];if(0<o(D,ce))G[Ue]=ce,G[pe]=D,pe=Ue;else break e}}function n(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var ce=G[0],pe=G.pop();if(pe!==ce){G[0]=pe;e:for(var Ue=0,D=G.length,te=D>>>1;Ue<te;){var he=2*(Ue+1)-1,le=G[he],we=he+1,ze=G[we];if(0>o(le,pe))we<D&&0>o(ze,le)?(G[Ue]=ze,G[we]=pe,Ue=we):(G[Ue]=le,G[he]=pe,Ue=he);else if(we<D&&0>o(ze,pe))G[Ue]=ze,G[we]=pe,Ue=we;else break e}}return ce}function o(G,ce){var pe=G.sortIndex-ce.sortIndex;return pe!==0?pe:G.id-ce.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var g=[],p=[],E=1,S=null,b=3,M=!1,L=!1,J=!1,X=!1,Y=typeof setTimeout=="function"?setTimeout:null,oe=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function ge(G){for(var ce=n(p);ce!==null;){if(ce.callback===null)a(p);else if(ce.startTime<=G)a(p),ce.sortIndex=ce.expirationTime,e(g,ce);else break;ce=n(p)}}function de(G){if(J=!1,ge(G),!L)if(n(g)!==null)L=!0,V||(V=!0,U());else{var ce=n(p);ce!==null&&We(de,ce.startTime-G)}}var V=!1,x=-1,A=5,R=-1;function N(){return X?!0:!(i.unstable_now()-R<A)}function k(){if(X=!1,V){var G=i.unstable_now();R=G;var ce=!0;try{e:{L=!1,J&&(J=!1,oe(x),x=-1),M=!0;var pe=b;try{t:{for(ge(G),S=n(g);S!==null&&!(S.expirationTime>G&&N());){var Ue=S.callback;if(typeof Ue=="function"){S.callback=null,b=S.priorityLevel;var D=Ue(S.expirationTime<=G);if(G=i.unstable_now(),typeof D=="function"){S.callback=D,ge(G),ce=!0;break t}S===n(g)&&a(g),ge(G)}else a(g);S=n(g)}if(S!==null)ce=!0;else{var te=n(p);te!==null&&We(de,te.startTime-G),ce=!1}}break e}finally{S=null,b=pe,M=!1}ce=void 0}}finally{ce?U():V=!1}}}var U;if(typeof se=="function")U=function(){se(k)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Be=C.port2;C.port1.onmessage=k,U=function(){Be.postMessage(null)}}else U=function(){Y(k,0)};function We(G,ce){x=Y(function(){G(i.unstable_now())},ce)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function(G){switch(b){case 1:case 2:case 3:var ce=3;break;default:ce=b}var pe=b;b=ce;try{return G()}finally{b=pe}},i.unstable_requestPaint=function(){X=!0},i.unstable_runWithPriority=function(G,ce){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var pe=b;b=G;try{return ce()}finally{b=pe}},i.unstable_scheduleCallback=function(G,ce,pe){var Ue=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Ue+pe:Ue):pe=Ue,G){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=pe+D,G={id:E++,callback:ce,priorityLevel:G,startTime:pe,expirationTime:D,sortIndex:-1},pe>Ue?(G.sortIndex=pe,e(p,G),n(g)===null&&G===n(p)&&(J?(oe(x),x=-1):J=!0,We(de,pe-Ue))):(G.sortIndex=D,e(g,G),L||M||(L=!0,V||(V=!0,U()))),G},i.unstable_shouldYield=N,i.unstable_wrapCallback=function(G){var ce=b;return function(){var pe=b;b=ce;try{return G.apply(this,arguments)}finally{b=pe}}}}(Yd)),Yd}var Qv;function iw(){return Qv||(Qv=1,$d.exports=rw()),$d.exports}var Kd={exports:{}},pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv;function aw(){if(Xv)return pn;Xv=1;var i=qm();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:p,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,pn.createPortal=function(g,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,E)},pn.flushSync=function(g){var p=f.T,E=a.p;try{if(f.T=null,a.p=2,g)return g()}finally{f.T=p,a.p=E,a.d.f()}},pn.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(g,p))},pn.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},pn.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var E=p.as,S=m(E,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,M=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?a.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:b,fetchPriority:M}):E==="script"&&a.d.X(g,{crossOrigin:S,integrity:b,fetchPriority:M,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},pn.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=m(p.as,p.crossOrigin);a.d.M(g,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(g)},pn.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,S=m(E,p.crossOrigin);a.d.L(g,E,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},pn.preloadModule=function(g,p){if(typeof g=="string")if(p){var E=m(p.as,p.crossOrigin);a.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(g)},pn.requestFormReset=function(g){a.d.r(g)},pn.unstable_batchedUpdates=function(g,p){return g(p)},pn.useFormState=function(g,p,E){return f.H.useFormState(g,p,E)},pn.useFormStatus=function(){return f.H.useHostTransitionStatus()},pn.version="19.1.0",pn}var Zv;function eE(){if(Zv)return Kd.exports;Zv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Kd.exports=aw(),Kd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv;function sw(){if(Jv)return kl;Jv=1;var i=iw(),e=qm(),n=eE();function a(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(a(188))}function g(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(a(188));return r!==t?null:t}for(var s=t,l=r;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return m(h),t;if(d===l)return m(h),r;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===s){_=!0,s=h,l=d;break}if(T===l){_=!0,l=h,s=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===s){_=!0,s=d,l=h;break}if(T===l){_=!0,l=d,s=h;break}T=T.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:r}function p(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=p(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),oe=Symbol.for("react.consumer"),se=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Be(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case L:return"Fragment";case X:return"Profiler";case J:return"StrictMode";case de:return"Suspense";case V:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case se:return(t.displayName||"Context")+".Provider";case oe:return(t._context.displayName||"Context")+".Consumer";case ge:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return r=t.displayName||null,r!==null?r:Be(t.type)||"Memo";case A:r=t._payload,t=t._init;try{return Be(t(r))}catch{}}return null}var We=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Ue=[],D=-1;function te(t){return{current:t}}function he(t){0>D||(t.current=Ue[D],Ue[D]=null,D--)}function le(t,r){D++,Ue[D]=t.current,t.current=r}var we=te(null),ze=te(null),xe=te(null),Pt=te(null);function gt(t,r){switch(le(xe,r),le(ze,t),le(we,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?vv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=vv(r),t=_v(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}he(we),le(we,t)}function Qn(){he(we),he(ze),he(xe)}function wt(t){t.memoizedState!==null&&le(Pt,t);var r=we.current,s=_v(r,t.type);r!==s&&(le(ze,t),le(we,s))}function fn(t){ze.current===t&&(he(we),he(ze)),Pt.current===t&&(he(Pt),Nl._currentValue=pe)}var Ar=Object.prototype.hasOwnProperty,ei=i.unstable_scheduleCallback,Tn=i.unstable_cancelCallback,La=i.unstable_shouldYield,As=i.unstable_requestPaint,bn=i.unstable_now,Uo=i.unstable_getCurrentPriorityLevel,ka=i.unstable_ImmediatePriority,Oi=i.unstable_UserBlockingPriority,ti=i.unstable_NormalPriority,gr=i.unstable_LowPriority,Xn=i.unstable_IdlePriority,Mi=i.log,Vi=i.unstable_setDisableYieldValue,ut=null,qe=null;function dn(t){if(typeof Mi=="function"&&Vi(t),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(ut,t)}catch{}}var Lt=Math.clz32?Math.clz32:Rr,Rs=Math.log,Zn=Math.LN2;function Rr(t){return t>>>=0,t===0?32:31-(Rs(t)/Zn|0)|0}var Cr=256,xr=4194304;function Pn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ni(t,r,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Pn(l):(_&=T,_!==0?h=Pn(_):s||(s=T&~t,s!==0&&(h=Pn(s))))):(T=l&~d,T!==0?h=Pn(T):_!==0?h=Pn(_):s||(s=l&~t,s!==0&&(h=Pn(s)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,s=r&-r,d>=s||d===32&&(s&4194048)!==0)?r:h}function Jn(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Pi(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ri(){var t=Cr;return Cr<<=1,(Cr&4194048)===0&&(Cr=256),t}function Ua(){var t=xr;return xr<<=1,(xr&62914560)===0&&(xr=4194304),t}function Wn(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function pr(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Li(t,r,s,l,h,d){var _=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,F=t.hiddenUpdates;for(s=_&~s;0<s;){var W=31-Lt(s),re=1<<W;T[W]=0,I[W]=-1;var $=F[W];if($!==null)for(F[W]=null,W=0;W<$.length;W++){var K=$[W];K!==null&&(K.lane&=-536870913)}s&=~re}l!==0&&wn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~r))}function wn(t,r,s){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Lt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function Ir(t,r){var s=t.entangledLanes|=r;for(t=t.entanglements;s;){var l=31-Lt(s),h=1<<l;h&r|t[l]&r&&(t[l]|=r),s&=~h}}function Dr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ki(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function O(){var t=ce.p;return t!==0?t:(t=window.event,t===void 0?32:Uv(t.type))}function j(t,r){var s=ce.p;try{return ce.p=t,r()}finally{ce.p=s}}var q=Math.random().toString(36).slice(2),ie="__reactFiber$"+q,ue="__reactProps$"+q,ye="__reactContainer$"+q,Re="__reactEvents$"+q,_e="__reactListeners$"+q,be="__reactHandles$"+q,Te="__reactResources$"+q,Ne="__reactMarker$"+q;function Ce(t){delete t[ie],delete t[ue],delete t[Re],delete t[_e],delete t[be]}function Me(t){var r=t[ie];if(r)return r;for(var s=t.parentNode;s;){if(r=s[ye]||s[ie]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(t=wv(t);t!==null;){if(s=t[ie])return s;t=wv(t)}return r}t=s,s=t.parentNode}return null}function Qe(t){if(t=t[ie]||t[ye]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function ht(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(a(33))}function ot(t){var r=t[Te];return r||(r=t[Te]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function et(t){t[Ne]=!0}var Ge=new Set,er={};function Ft(t,r){Sn(t,r),Sn(t+"Capture",r)}function Sn(t,r){for(er[t]=r,t=0;t<r.length;t++)Ge.add(r[t])}var rn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nr={},Ln={};function Ui(t){return Ar.call(Ln,t)?!0:Ar.call(Nr,t)?!1:rn.test(t)?Ln[t]=!0:(Nr[t]=!0,!1)}function mn(t,r,s){if(Ui(r))if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+s)}}function An(t,r,s){if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+s)}}function Le(t,r,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(r,s,""+l)}}var kt,kn;function Dn(t){if(kt===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);kt=r&&r[1]||"",kn=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+kt+t+kn}var Or=!1;function Et(t,r){if(!t||Or)return"";Or=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(K){var $=K}Reflect.construct(t,[],re)}else{try{re.call()}catch(K){$=K}t.call(re.prototype)}}else{try{throw Error()}catch(K){$=K}(re=t())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(K){if(K&&$&&typeof K.stack=="string")return[K.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var I=_.split(`
`),F=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===F.length)for(l=I.length-1,h=F.length-1;1<=l&&0<=h&&I[l]!==F[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==F[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==F[h]){var W=`
`+I[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=h);break}}}finally{Or=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Dn(s):""}function tr(t){switch(t.tag){case 26:case 27:case 5:return Dn(t.type);case 16:return Dn("Lazy");case 13:return Dn("Suspense");case 19:return Dn("SuspenseList");case 0:case 15:return Et(t.type,!1);case 11:return Et(t.type.render,!1);case 1:return Et(t.type,!0);case 31:return Dn("Activity");default:return""}}function ii(t){try{var r="";do r+=tr(t),t=t.return;while(t);return r}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function an(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zo(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function $h(t){var r=zo(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(t,r,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Cs(t){t._valueTracker||(t._valueTracker=$h(t))}function jo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var s=r.getValue(),l="";return t&&(l=zo(t)?t.checked?"true":"false":t.value),t=l,t!==s?(r.setValue(t),!0):!1}function za(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Yh=/[\n"\\]/g;function Ut(t){return t.replace(Yh,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Un(t,r,s,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+an(r)):t.value!==""+an(r)&&(t.value=""+an(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?zi(t,_,an(r)):s!=null?zi(t,_,an(s)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+an(T):t.removeAttribute("name")}function ja(t,r,s,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;s=s!=null?""+an(s):"",r=r!=null?""+an(r):s,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function zi(t,r,s){r==="number"&&za(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function ai(t,r,s,l){if(t=t.options,r){r={};for(var h=0;h<s.length;h++)r["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=r.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+an(s),r=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function pt(t,r,s){if(r!=null&&(r=""+an(r),r!==t.value&&(t.value=r),s==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=s!=null?""+an(s):""}function Ba(t,r,s,l){if(r==null){if(l!=null){if(s!=null)throw Error(a(92));if(We(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),r=s}s=an(r),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function nr(t,r){if(r){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=r;return}}t.textContent=r}var Ha=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bu(t,r,s){var l=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,s):typeof s!="number"||s===0||Ha.has(r)?r==="float"?t.cssFloat=s:t[r]=(""+s).trim():t[r]=s+"px"}function Bo(t,r,s){if(r!=null&&typeof r!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&s[h]!==l&&bu(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&bu(t,d,r[d])}function Ho(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xs(t){return Qh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var si=null;function rr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var oi=null,li=null;function qo(t){var r=Qe(t);if(r&&(t=r.stateNode)){var s=t[ue]||null;e:switch(t=r.stateNode,r.type){case"input":if(Un(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Ut(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var l=s[r];if(l!==t&&l.form===t.form){var h=l[ue]||null;if(!h)throw Error(a(90));Un(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<s.length;r++)l=s[r],l.form===t.form&&jo(l)}break e;case"textarea":pt(t,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&ai(t,!!s.multiple,r,!1)}}}var Mr=!1;function wu(t,r,s){if(Mr)return t(r,s);Mr=!0;try{var l=t(r);return l}finally{if(Mr=!1,(oi!==null||li!==null)&&(pc(),oi&&(r=oi,t=li,li=oi=null,qo(r),t)))for(r=0;r<t.length;r++)qo(t[r])}}function qa(t,r){var s=t.stateNode;if(s===null)return null;var l=s[ue]||null;if(l===null)return null;s=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,r,typeof s));return s}var yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ir=!1;if(yr)try{var Fa={};Object.defineProperty(Fa,"passive",{get:function(){ir=!0}}),window.addEventListener("test",Fa,Fa),window.removeEventListener("test",Fa,Fa)}catch{ir=!1}var Vr=null,ji=null,ui=null;function Fo(){if(ui)return ui;var t,r=ji,s=r.length,l,h="value"in Vr?Vr.value:Vr.textContent,d=h.length;for(t=0;t<s&&r[t]===h[t];t++);var _=s-t;for(l=1;l<=_&&r[s-l]===h[d-l];l++);return ui=h.slice(t,1<l?1-l:void 0)}function Pr(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Lr(){return!0}function Go(){return!1}function Zt(t){function r(s,l,h,d,_){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Lr:Go,this.isPropagationStopped=Go,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Lr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Lr)},persist:function(){},isPersistent:Lr}),r}var ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Is=Zt(ft),Ga=E({},ft,{view:0,detail:0}),Su=Zt(Ga),Ds,Ns,kr,$a=E({},Ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==kr&&(kr&&t.type==="mousemove"?(Ds=t.screenX-kr.screenX,Ns=t.screenY-kr.screenY):Ns=Ds=0,kr=t),Ds)},movementY:function(t){return"movementY"in t?t.movementY:Ns}}),ar=Zt($a),Au=E({},$a,{dataTransfer:0}),Xh=Zt(Au),Ya=E({},Ga,{relatedTarget:0}),Os=Zt(Ya),$o=E({},ft,{animationName:0,elapsedTime:0,pseudoElement:0}),Ms=Zt($o),Ru=E({},ft,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Vs=Zt(Ru),Zh=E({},ft,{data:0}),Yo=Zt(Zh),Ka={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ko(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=xu[t])?!!r[t]:!1}function Qa(){return Ko}var Iu=E({},Ga,{key:function(t){if(t.key){var r=Ka[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Pr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Cu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qa,charCode:function(t){return t.type==="keypress"?Pr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ps=Zt(Iu),Du=E({},$a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qo=Zt(Du),ci=E({},Ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qa}),Nu=Zt(ci),Ou=E({},ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mu=Zt(Ou),Vu=E({},$a,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ls=Zt(Vu),Rn=E({},ft,{newState:0,oldState:0}),Pu=Zt(Rn),Lu=[9,13,27,32],Ur=yr&&"CompositionEvent"in window,c=null;yr&&"documentMode"in document&&(c=document.documentMode);var y=yr&&"TextEvent"in window&&!c,v=yr&&(!Ur||c&&8<c&&11>=c),w=" ",B=!1;function Z(t,r){switch(t){case"keyup":return Lu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fe(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var tt=!1;function Gt(t,r){switch(t){case"compositionend":return fe(r);case"keypress":return r.which!==32?null:(B=!0,w);case"textInput":return t=r.data,t===w&&B?null:t;default:return null}}function nt(t,r){if(tt)return t==="compositionend"||!Ur&&Z(t,r)?(t=Fo(),ui=ji=Vr=null,tt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var Jt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $t(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Jt[t.type]:r==="textarea"}function hi(t,r,s,l){oi?li?li.push(l):li=[l]:oi=l,r=bc(r,"onChange"),0<r.length&&(s=new Is("onChange","change",null,s,l),t.push({event:s,listeners:r}))}var sn=null,zr=null;function Xo(t){dv(t,0)}function ku(t){var r=ht(t);if(jo(r))return t}function Vg(t,r){if(t==="change")return r}var Pg=!1;if(yr){var Jh;if(yr){var Wh="oninput"in document;if(!Wh){var Lg=document.createElement("div");Lg.setAttribute("oninput","return;"),Wh=typeof Lg.oninput=="function"}Jh=Wh}else Jh=!1;Pg=Jh&&(!document.documentMode||9<document.documentMode)}function kg(){sn&&(sn.detachEvent("onpropertychange",Ug),zr=sn=null)}function Ug(t){if(t.propertyName==="value"&&ku(zr)){var r=[];hi(r,zr,t,rr(t)),wu(Xo,r)}}function Ib(t,r,s){t==="focusin"?(kg(),sn=r,zr=s,sn.attachEvent("onpropertychange",Ug)):t==="focusout"&&kg()}function Db(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ku(zr)}function Nb(t,r){if(t==="click")return ku(r)}function Ob(t,r){if(t==="input"||t==="change")return ku(r)}function Mb(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var zn=typeof Object.is=="function"?Object.is:Mb;function Zo(t,r){if(zn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),l=Object.keys(r);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!Ar.call(r,h)||!zn(t[h],r[h]))return!1}return!0}function zg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jg(t,r){var s=zg(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=r&&l>=r)return{node:s,offset:r-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=zg(s)}}function Bg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Bg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Hg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=za(t.document);r instanceof t.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)t=r.contentWindow;else break;r=za(t.document)}return r}function ef(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var Vb=yr&&"documentMode"in document&&11>=document.documentMode,ks=null,tf=null,Jo=null,nf=!1;function qg(t,r,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;nf||ks==null||ks!==za(l)||(l=ks,"selectionStart"in l&&ef(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Jo&&Zo(Jo,l)||(Jo=l,l=bc(tf,"onSelect"),0<l.length&&(r=new Is("onSelect","select",null,r,s),t.push({event:r,listeners:l}),r.target=ks)))}function Xa(t,r){var s={};return s[t.toLowerCase()]=r.toLowerCase(),s["Webkit"+t]="webkit"+r,s["Moz"+t]="moz"+r,s}var Us={animationend:Xa("Animation","AnimationEnd"),animationiteration:Xa("Animation","AnimationIteration"),animationstart:Xa("Animation","AnimationStart"),transitionrun:Xa("Transition","TransitionRun"),transitionstart:Xa("Transition","TransitionStart"),transitioncancel:Xa("Transition","TransitionCancel"),transitionend:Xa("Transition","TransitionEnd")},rf={},Fg={};yr&&(Fg=document.createElement("div").style,"AnimationEvent"in window||(delete Us.animationend.animation,delete Us.animationiteration.animation,delete Us.animationstart.animation),"TransitionEvent"in window||delete Us.transitionend.transition);function Za(t){if(rf[t])return rf[t];if(!Us[t])return t;var r=Us[t],s;for(s in r)if(r.hasOwnProperty(s)&&s in Fg)return rf[t]=r[s];return t}var Gg=Za("animationend"),$g=Za("animationiteration"),Yg=Za("animationstart"),Pb=Za("transitionrun"),Lb=Za("transitionstart"),kb=Za("transitioncancel"),Kg=Za("transitionend"),Qg=new Map,af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");af.push("scrollEnd");function vr(t,r){Qg.set(t,r),Ft(r,[t])}var Xg=new WeakMap;function sr(t,r){if(typeof t=="object"&&t!==null){var s=Xg.get(t);return s!==void 0?s:(r={value:t,source:r,stack:ii(r)},Xg.set(t,r),r)}return{value:t,source:r,stack:ii(r)}}var or=[],zs=0,sf=0;function Uu(){for(var t=zs,r=sf=zs=0;r<t;){var s=or[r];or[r++]=null;var l=or[r];or[r++]=null;var h=or[r];or[r++]=null;var d=or[r];if(or[r++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Zg(s,h,d)}}function zu(t,r,s,l){or[zs++]=t,or[zs++]=r,or[zs++]=s,or[zs++]=l,sf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function of(t,r,s,l){return zu(t,r,s,l),ju(t)}function js(t,r){return zu(t,null,null,r),ju(t)}function Zg(t,r,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-Lt(s),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=s|536870912),d):null}function ju(t){if(50<wl)throw wl=0,dd=null,Error(a(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Bs={};function Ub(t,r,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(t,r,s,l){return new Ub(t,r,s,l)}function lf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fi(t,r){var s=t.alternate;return s===null?(s=jn(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Jg(t,r){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,r=s.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Bu(t,r,s,l,h,d){var _=0;if(l=t,typeof t=="function")lf(t)&&(_=1);else if(typeof t=="string")_=j1(t,s,we.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=jn(31,s,r,h),t.elementType=R,t.lanes=d,t;case L:return Ja(s.children,h,d,r);case J:_=8,h|=24;break;case X:return t=jn(12,s,r,h|2),t.elementType=X,t.lanes=d,t;case de:return t=jn(13,s,r,h),t.elementType=de,t.lanes=d,t;case V:return t=jn(19,s,r,h),t.elementType=V,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Y:case se:_=10;break e;case oe:_=9;break e;case ge:_=11;break e;case x:_=14;break e;case A:_=16,l=null;break e}_=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return r=jn(_,s,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function Ja(t,r,s,l){return t=jn(7,t,l,r),t.lanes=s,t}function uf(t,r,s){return t=jn(6,t,null,r),t.lanes=s,t}function cf(t,r,s){return r=jn(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Hs=[],qs=0,Hu=null,qu=0,lr=[],ur=0,Wa=null,di=1,mi="";function es(t,r){Hs[qs++]=qu,Hs[qs++]=Hu,Hu=t,qu=r}function Wg(t,r,s){lr[ur++]=di,lr[ur++]=mi,lr[ur++]=Wa,Wa=t;var l=di;t=mi;var h=32-Lt(l)-1;l&=~(1<<h),s+=1;var d=32-Lt(r)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,di=1<<32-Lt(r)+h|s<<h|l,mi=d+t}else di=1<<d|s<<h|l,mi=t}function hf(t){t.return!==null&&(es(t,1),Wg(t,1,0))}function ff(t){for(;t===Hu;)Hu=Hs[--qs],Hs[qs]=null,qu=Hs[--qs],Hs[qs]=null;for(;t===Wa;)Wa=lr[--ur],lr[ur]=null,mi=lr[--ur],lr[ur]=null,di=lr[--ur],lr[ur]=null}var Cn=null,xt=null,ct=!1,ts=null,jr=!1,df=Error(a(519));function ns(t){var r=Error(a(418,""));throw tl(sr(r,t)),df}function ep(t){var r=t.stateNode,s=t.type,l=t.memoizedProps;switch(r[ie]=t,r[ue]=l,s){case"dialog":Ze("cancel",r),Ze("close",r);break;case"iframe":case"object":case"embed":Ze("load",r);break;case"video":case"audio":for(s=0;s<Al.length;s++)Ze(Al[s],r);break;case"source":Ze("error",r);break;case"img":case"image":case"link":Ze("error",r),Ze("load",r);break;case"details":Ze("toggle",r);break;case"input":Ze("invalid",r),ja(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Cs(r);break;case"select":Ze("invalid",r);break;case"textarea":Ze("invalid",r),Ba(r,l.value,l.defaultValue,l.children),Cs(r)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||l.suppressHydrationWarning===!0||yv(r.textContent,s)?(l.popover!=null&&(Ze("beforetoggle",r),Ze("toggle",r)),l.onScroll!=null&&Ze("scroll",r),l.onScrollEnd!=null&&Ze("scrollend",r),l.onClick!=null&&(r.onclick=wc),r=!0):r=!1,r||ns(t)}function tp(t){for(Cn=t.return;Cn;)switch(Cn.tag){case 5:case 13:jr=!1;return;case 27:case 3:jr=!0;return;default:Cn=Cn.return}}function Wo(t){if(t!==Cn)return!1;if(!ct)return tp(t),ct=!0,!1;var r=t.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Id(t.type,t.memoizedProps)),s=!s),s&&xt&&ns(t),tp(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(r===0){xt=Er(t.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++;t=t.nextSibling}xt=null}}else r===27?(r=xt,na(t.type)?(t=Md,Md=null,xt=t):xt=r):xt=Cn?Er(t.stateNode.nextSibling):null;return!0}function el(){xt=Cn=null,ct=!1}function np(){var t=ts;return t!==null&&(Mn===null?Mn=t:Mn.push.apply(Mn,t),ts=null),t}function tl(t){ts===null?ts=[t]:ts.push(t)}var mf=te(null),rs=null,gi=null;function Bi(t,r,s){le(mf,r._currentValue),r._currentValue=s}function pi(t){t._currentValue=mf.current,he(mf)}function gf(t,r,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===s)break;t=t.return}}function pf(t,r,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var I=0;I<r.length;I++)if(T.context===r[I]){d.lanes|=s,T=d.alternate,T!==null&&(T.lanes|=s),gf(d.return,s,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(a(341));_.lanes|=s,d=_.alternate,d!==null&&(d.lanes|=s),gf(_,s,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function nl(t,r,s,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var T=h.type;zn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===Pt.current){if(_=h.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}h=h.return}t!==null&&pf(r,t,s,l),r.flags|=262144}function Fu(t){for(t=t.firstContext;t!==null;){if(!zn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function is(t){rs=t,gi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function gn(t){return rp(rs,t)}function Gu(t,r){return rs===null&&is(t),rp(t,r)}function rp(t,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},gi===null){if(t===null)throw Error(a(308));gi=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else gi=gi.next=r;return s}var zb=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(s){return s()})}},jb=i.unstable_scheduleCallback,Bb=i.unstable_NormalPriority,Yt={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yf(){return{controller:new zb,data:new Map,refCount:0}}function rl(t){t.refCount--,t.refCount===0&&jb(Bb,function(){t.controller.abort()})}var il=null,vf=0,Fs=0,Gs=null;function Hb(t,r){if(il===null){var s=il=[];vf=0,Fs=Ed(),Gs={status:"pending",value:void 0,then:function(l){s.push(l)}}}return vf++,r.then(ip,ip),r}function ip(){if(--vf===0&&il!==null){Gs!==null&&(Gs.status="fulfilled");var t=il;il=null,Fs=0,Gs=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function qb(t,r){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<s.length;h++)(0,s[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var ap=G.S;G.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Hb(t,r),ap!==null&&ap(t,r)};var as=te(null);function _f(){var t=as.current;return t!==null?t:bt.pooledCache}function $u(t,r){r===null?le(as,as.current):le(as,r.pool)}function sp(){var t=_f();return t===null?null:{parent:Yt._currentValue,pool:t}}var al=Error(a(460)),op=Error(a(474)),Yu=Error(a(542)),Ef={then:function(){}};function lp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ku(){}function up(t,r,s){switch(s=t[s],s===void 0?t.push(r):s!==r&&(r.then(Ku,Ku),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,hp(t),t;default:if(typeof r.status=="string")r.then(Ku,Ku);else{if(t=bt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,hp(t),t}throw sl=r,al}}var sl=null;function cp(){if(sl===null)throw Error(a(459));var t=sl;return sl=null,t}function hp(t){if(t===al||t===Yu)throw Error(a(483))}var Hi=!1;function Tf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function qi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Fi(t,r,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(dt&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=ju(t),Zg(t,null,s),r}return zu(t,l,r,s),ju(t)}function ol(t,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,Ir(t,s)}}function wf(t,r){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,s=s.next}while(s!==null);d===null?h=d=r:d=d.next=r}else h=d=r;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}var Sf=!1;function ll(){if(Sf){var t=Gs;if(t!==null)throw t}}function ul(t,r,s,l){Sf=!1;var h=t.updateQueue;Hi=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,F=I.next;I.next=null,_===null?d=F:_.next=F,_=I;var W=t.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==_&&(T===null?W.firstBaseUpdate=F:T.next=F,W.lastBaseUpdate=I))}if(d!==null){var re=h.baseState;_=0,W=F=I=null,T=d;do{var $=T.lane&-536870913,K=$!==T.lane;if(K?(rt&$)===$:(l&$)===$){$!==0&&$===Fs&&(Sf=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ve=t,Ie=T;$=r;var _t=s;switch(Ie.tag){case 1:if(Ve=Ie.payload,typeof Ve=="function"){re=Ve.call(_t,re,$);break e}re=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=Ie.payload,$=typeof Ve=="function"?Ve.call(_t,re,$):Ve,$==null)break e;re=E({},re,$);break e;case 2:Hi=!0}}$=T.callback,$!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[$]:K.push($))}else K={lane:$,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(F=W=K,I=re):W=W.next=K,_|=$;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;K=T,T=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);W===null&&(I=re),h.baseState=I,h.firstBaseUpdate=F,h.lastBaseUpdate=W,d===null&&(h.shared.lanes=0),Ji|=_,t.lanes=_,t.memoizedState=re}}function fp(t,r){if(typeof t!="function")throw Error(a(191,t));t.call(r)}function dp(t,r){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)fp(s[t],r)}var $s=te(null),Qu=te(0);function mp(t,r){t=wi,le(Qu,t),le($s,r),wi=t|r.baseLanes}function Af(){le(Qu,wi),le($s,$s.current)}function Rf(){wi=Qu.current,he($s),he(Qu)}var Gi=0,Fe=null,yt=null,zt=null,Xu=!1,Ys=!1,ss=!1,Zu=0,cl=0,Ks=null,Fb=0;function Dt(){throw Error(a(321))}function Cf(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!zn(t[s],r[s]))return!1;return!0}function xf(t,r,s,l,h,d){return Gi=d,Fe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,G.H=t===null||t.memoizedState===null?Zp:Jp,ss=!1,d=s(l,h),ss=!1,Ys&&(d=pp(r,s,l,h)),gp(t),d}function gp(t){G.H=rc;var r=yt!==null&&yt.next!==null;if(Gi=0,zt=yt=Fe=null,Xu=!1,cl=0,Ks=null,r)throw Error(a(300));t===null||Wt||(t=t.dependencies,t!==null&&Fu(t)&&(Wt=!0))}function pp(t,r,s,l){Fe=t;var h=0;do{if(Ys&&(Ks=null),cl=0,Ys=!1,25<=h)throw Error(a(301));if(h+=1,zt=yt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=Zb,d=r(s,l)}while(Ys);return d}function Gb(){var t=G.H,r=t.useState()[0];return r=typeof r.then=="function"?hl(r):r,t=t.useState()[0],(yt!==null?yt.memoizedState:null)!==t&&(Fe.flags|=1024),r}function If(){var t=Zu!==0;return Zu=0,t}function Df(t,r,s){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~s}function Nf(t){if(Xu){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Xu=!1}Gi=0,zt=yt=Fe=null,Ys=!1,cl=Zu=0,Ks=null}function Nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Fe.memoizedState=zt=t:zt=zt.next=t,zt}function jt(){if(yt===null){var t=Fe.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var r=zt===null?Fe.memoizedState:zt.next;if(r!==null)zt=r,yt=t;else{if(t===null)throw Fe.alternate===null?Error(a(467)):Error(a(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},zt===null?Fe.memoizedState=zt=t:zt=zt.next=t}return zt}function Of(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(t){var r=cl;return cl+=1,Ks===null&&(Ks=[]),t=up(Ks,t,r),r=Fe,(zt===null?r.memoizedState:zt.next)===null&&(r=r.alternate,G.H=r===null||r.memoizedState===null?Zp:Jp),t}function Ju(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hl(t);if(t.$$typeof===se)return gn(t)}throw Error(a(438,String(t)))}function Mf(t){var r=null,s=Fe.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var l=Fe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=Of(),Fe.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(t),l=0;l<t;l++)s[l]=N;return r.index++,s}function yi(t,r){return typeof r=="function"?r(t):r}function Wu(t){var r=jt();return Vf(r,yt,t)}function Vf(t,r,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var T=_=null,I=null,F=r,W=!1;do{var re=F.lane&-536870913;if(re!==F.lane?(rt&re)===re:(Gi&re)===re){var $=F.revertLane;if($===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),re===Fs&&(W=!0);else if((Gi&$)===$){F=F.next,$===Fs&&(W=!0);continue}else re={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(T=I=re,_=d):I=I.next=re,Fe.lanes|=$,Ji|=$;re=F.action,ss&&s(d,re),d=F.hasEagerState?F.eagerState:s(d,re)}else $={lane:re,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(T=I=$,_=d):I=I.next=$,Fe.lanes|=re,Ji|=re;F=F.next}while(F!==null&&F!==r);if(I===null?_=d:I.next=T,!zn(d,t.memoizedState)&&(Wt=!0,W&&(s=Gs,s!==null)))throw s;t.memoizedState=d,t.baseState=_,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Pf(t){var r=jt(),s=r.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,d=r.memoizedState;if(h!==null){s.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);zn(d,r.memoizedState)||(Wt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),s.lastRenderedState=d}return[d,l]}function yp(t,r,s){var l=Fe,h=jt(),d=ct;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=r();var _=!zn((yt||h).memoizedState,s);_&&(h.memoizedState=s,Wt=!0),h=h.queue;var T=Ep.bind(null,l,h,t);if(fl(2048,8,T,[t]),h.getSnapshot!==r||_||zt!==null&&zt.memoizedState.tag&1){if(l.flags|=2048,Qs(9,ec(),_p.bind(null,l,h,s,r),null),bt===null)throw Error(a(349));d||(Gi&124)!==0||vp(l,r,s)}return s}function vp(t,r,s){t.flags|=16384,t={getSnapshot:r,value:s},r=Fe.updateQueue,r===null?(r=Of(),Fe.updateQueue=r,r.stores=[t]):(s=r.stores,s===null?r.stores=[t]:s.push(t))}function _p(t,r,s,l){r.value=s,r.getSnapshot=l,Tp(r)&&bp(t)}function Ep(t,r,s){return s(function(){Tp(r)&&bp(t)})}function Tp(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!zn(t,s)}catch{return!0}}function bp(t){var r=js(t,2);r!==null&&Gn(r,t,2)}function Lf(t){var r=Nn();if(typeof t=="function"){var s=t;if(t=s(),ss){dn(!0);try{s()}finally{dn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:t},r}function wp(t,r,s,l){return t.baseState=s,Vf(t,yt,typeof l=="function"?l:yi)}function $b(t,r,s,l,h){if(nc(t))throw Error(a(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};G.T!==null?s(!0):d.isTransition=!1,l(d),s=r.pending,s===null?(d.next=r.pending=d,Sp(r,d)):(d.next=s.next,r.pending=s.next=d)}}function Sp(t,r){var s=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=G.T,_={};G.T=_;try{var T=s(h,l),I=G.S;I!==null&&I(_,T),Ap(t,r,T)}catch(F){kf(t,r,F)}finally{G.T=d}}else try{d=s(h,l),Ap(t,r,d)}catch(F){kf(t,r,F)}}function Ap(t,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Rp(t,r,l)},function(l){return kf(t,r,l)}):Rp(t,r,s)}function Rp(t,r,s){r.status="fulfilled",r.value=s,Cp(r),t.state=s,r=t.pending,r!==null&&(s=r.next,s===r?t.pending=null:(s=s.next,r.next=s,Sp(t,s)))}function kf(t,r,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=s,Cp(r),r=r.next;while(r!==l)}t.action=null}function Cp(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function xp(t,r){return r}function Ip(t,r){if(ct){var s=bt.formState;if(s!==null){e:{var l=Fe;if(ct){if(xt){t:{for(var h=xt,d=jr;h.nodeType!==8;){if(!d){h=null;break t}if(h=Er(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){xt=Er(h.nextSibling),l=h.data==="F!";break e}}ns(l)}l=!1}l&&(r=s[0])}}return s=Nn(),s.memoizedState=s.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xp,lastRenderedState:r},s.queue=l,s=Kp.bind(null,Fe,l),l.dispatch=s,l=Lf(!1),d=Hf.bind(null,Fe,!1,l.queue),l=Nn(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,s=$b.bind(null,Fe,h,d,s),h.dispatch=s,l.memoizedState=t,[r,s,!1]}function Dp(t){var r=jt();return Np(r,yt,t)}function Np(t,r,s){if(r=Vf(t,r,xp)[0],t=Wu(yi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=hl(r)}catch(_){throw _===al?Yu:_}else l=r;r=jt();var h=r.queue,d=h.dispatch;return s!==r.memoizedState&&(Fe.flags|=2048,Qs(9,ec(),Yb.bind(null,h,s),null)),[l,d,t]}function Yb(t,r){t.action=r}function Op(t){var r=jt(),s=yt;if(s!==null)return Np(r,s,t);jt(),r=r.memoizedState,s=jt();var l=s.queue.dispatch;return s.memoizedState=t,[r,l,!1]}function Qs(t,r,s,l){return t={tag:t,create:s,deps:l,inst:r,next:null},r=Fe.updateQueue,r===null&&(r=Of(),Fe.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,r.lastEffect=t),t}function ec(){return{destroy:void 0,resource:void 0}}function Mp(){return jt().memoizedState}function tc(t,r,s,l){var h=Nn();l=l===void 0?null:l,Fe.flags|=t,h.memoizedState=Qs(1|r,ec(),s,l)}function fl(t,r,s,l){var h=jt();l=l===void 0?null:l;var d=h.memoizedState.inst;yt!==null&&l!==null&&Cf(l,yt.memoizedState.deps)?h.memoizedState=Qs(r,d,s,l):(Fe.flags|=t,h.memoizedState=Qs(1|r,d,s,l))}function Vp(t,r){tc(8390656,8,t,r)}function Pp(t,r){fl(2048,8,t,r)}function Lp(t,r){return fl(4,2,t,r)}function kp(t,r){return fl(4,4,t,r)}function Up(t,r){if(typeof r=="function"){t=t();var s=r(t);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function zp(t,r,s){s=s!=null?s.concat([t]):null,fl(4,4,Up.bind(null,r,t),s)}function Uf(){}function jp(t,r){var s=jt();r=r===void 0?null:r;var l=s.memoizedState;return r!==null&&Cf(r,l[1])?l[0]:(s.memoizedState=[t,r],t)}function Bp(t,r){var s=jt();r=r===void 0?null:r;var l=s.memoizedState;if(r!==null&&Cf(r,l[1]))return l[0];if(l=t(),ss){dn(!0);try{t()}finally{dn(!1)}}return s.memoizedState=[l,r],l}function zf(t,r,s){return s===void 0||(Gi&1073741824)!==0?t.memoizedState=r:(t.memoizedState=s,t=Fy(),Fe.lanes|=t,Ji|=t,s)}function Hp(t,r,s,l){return zn(s,r)?s:$s.current!==null?(t=zf(t,s,l),zn(t,r)||(Wt=!0),t):(Gi&42)===0?(Wt=!0,t.memoizedState=s):(t=Fy(),Fe.lanes|=t,Ji|=t,r)}function qp(t,r,s,l,h){var d=ce.p;ce.p=d!==0&&8>d?d:8;var _=G.T,T={};G.T=T,Hf(t,!1,r,s);try{var I=h(),F=G.S;if(F!==null&&F(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var W=qb(I,l);dl(t,r,W,Fn(t))}else dl(t,r,l,Fn(t))}catch(re){dl(t,r,{then:function(){},status:"rejected",reason:re},Fn())}finally{ce.p=d,G.T=_}}function Kb(){}function jf(t,r,s,l){if(t.tag!==5)throw Error(a(476));var h=Fp(t).queue;qp(t,h,r,pe,s===null?Kb:function(){return Gp(t),s(l)})}function Fp(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:pe},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:s},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Gp(t){var r=Fp(t).next.queue;dl(t,r,{},Fn())}function Bf(){return gn(Nl)}function $p(){return jt().memoizedState}function Yp(){return jt().memoizedState}function Qb(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var s=Fn();t=qi(s);var l=Fi(r,t,s);l!==null&&(Gn(l,r,s),ol(l,r,s)),r={cache:yf()},t.payload=r;return}r=r.return}}function Xb(t,r,s){var l=Fn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},nc(t)?Qp(r,s):(s=of(t,r,s,l),s!==null&&(Gn(s,t,l),Xp(s,r,l)))}function Kp(t,r,s){var l=Fn();dl(t,r,s,l)}function dl(t,r,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(nc(t))Qp(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,T=d(_,s);if(h.hasEagerState=!0,h.eagerState=T,zn(T,_))return zu(t,r,h,0),bt===null&&Uu(),!1}catch{}finally{}if(s=of(t,r,h,l),s!==null)return Gn(s,t,l),Xp(s,r,l),!0}return!1}function Hf(t,r,s,l){if(l={lane:2,revertLane:Ed(),action:l,hasEagerState:!1,eagerState:null,next:null},nc(t)){if(r)throw Error(a(479))}else r=of(t,s,l,2),r!==null&&Gn(r,t,2)}function nc(t){var r=t.alternate;return t===Fe||r!==null&&r===Fe}function Qp(t,r){Ys=Xu=!0;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}function Xp(t,r,s){if((s&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,Ir(t,s)}}var rc={readContext:gn,use:Ju,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt},Zp={readContext:gn,use:Ju,useCallback:function(t,r){return Nn().memoizedState=[t,r===void 0?null:r],t},useContext:gn,useEffect:Vp,useImperativeHandle:function(t,r,s){s=s!=null?s.concat([t]):null,tc(4194308,4,Up.bind(null,r,t),s)},useLayoutEffect:function(t,r){return tc(4194308,4,t,r)},useInsertionEffect:function(t,r){tc(4,2,t,r)},useMemo:function(t,r){var s=Nn();r=r===void 0?null:r;var l=t();if(ss){dn(!0);try{t()}finally{dn(!1)}}return s.memoizedState=[l,r],l},useReducer:function(t,r,s){var l=Nn();if(s!==void 0){var h=s(r);if(ss){dn(!0);try{s(r)}finally{dn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Xb.bind(null,Fe,t),[l.memoizedState,t]},useRef:function(t){var r=Nn();return t={current:t},r.memoizedState=t},useState:function(t){t=Lf(t);var r=t.queue,s=Kp.bind(null,Fe,r);return r.dispatch=s,[t.memoizedState,s]},useDebugValue:Uf,useDeferredValue:function(t,r){var s=Nn();return zf(s,t,r)},useTransition:function(){var t=Lf(!1);return t=qp.bind(null,Fe,t.queue,!0,!1),Nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,s){var l=Fe,h=Nn();if(ct){if(s===void 0)throw Error(a(407));s=s()}else{if(s=r(),bt===null)throw Error(a(349));(rt&124)!==0||vp(l,r,s)}h.memoizedState=s;var d={value:s,getSnapshot:r};return h.queue=d,Vp(Ep.bind(null,l,d,t),[t]),l.flags|=2048,Qs(9,ec(),_p.bind(null,l,d,s,r),null),s},useId:function(){var t=Nn(),r=bt.identifierPrefix;if(ct){var s=mi,l=di;s=(l&~(1<<32-Lt(l)-1)).toString(32)+s,r=""+r+"R"+s,s=Zu++,0<s&&(r+="H"+s.toString(32)),r+=""}else s=Fb++,r=""+r+"r"+s.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:Bf,useFormState:Ip,useActionState:Ip,useOptimistic:function(t){var r=Nn();r.memoizedState=r.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=Hf.bind(null,Fe,!0,s),s.dispatch=r,[t,r]},useMemoCache:Mf,useCacheRefresh:function(){return Nn().memoizedState=Qb.bind(null,Fe)}},Jp={readContext:gn,use:Ju,useCallback:jp,useContext:gn,useEffect:Pp,useImperativeHandle:zp,useInsertionEffect:Lp,useLayoutEffect:kp,useMemo:Bp,useReducer:Wu,useRef:Mp,useState:function(){return Wu(yi)},useDebugValue:Uf,useDeferredValue:function(t,r){var s=jt();return Hp(s,yt.memoizedState,t,r)},useTransition:function(){var t=Wu(yi)[0],r=jt().memoizedState;return[typeof t=="boolean"?t:hl(t),r]},useSyncExternalStore:yp,useId:$p,useHostTransitionStatus:Bf,useFormState:Dp,useActionState:Dp,useOptimistic:function(t,r){var s=jt();return wp(s,yt,t,r)},useMemoCache:Mf,useCacheRefresh:Yp},Zb={readContext:gn,use:Ju,useCallback:jp,useContext:gn,useEffect:Pp,useImperativeHandle:zp,useInsertionEffect:Lp,useLayoutEffect:kp,useMemo:Bp,useReducer:Pf,useRef:Mp,useState:function(){return Pf(yi)},useDebugValue:Uf,useDeferredValue:function(t,r){var s=jt();return yt===null?zf(s,t,r):Hp(s,yt.memoizedState,t,r)},useTransition:function(){var t=Pf(yi)[0],r=jt().memoizedState;return[typeof t=="boolean"?t:hl(t),r]},useSyncExternalStore:yp,useId:$p,useHostTransitionStatus:Bf,useFormState:Op,useActionState:Op,useOptimistic:function(t,r){var s=jt();return yt!==null?wp(s,yt,t,r):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Mf,useCacheRefresh:Yp},Xs=null,ml=0;function ic(t){var r=ml;return ml+=1,Xs===null&&(Xs=[]),up(Xs,t,r)}function gl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function ac(t,r){throw r.$$typeof===S?Error(a(525)):(t=Object.prototype.toString.call(r),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Wp(t){var r=t._init;return r(t._payload)}function ey(t){function r(z,P){if(t){var H=z.deletions;H===null?(z.deletions=[P],z.flags|=16):H.push(P)}}function s(z,P){if(!t)return null;for(;P!==null;)r(z,P),P=P.sibling;return null}function l(z){for(var P=new Map;z!==null;)z.key!==null?P.set(z.key,z):P.set(z.index,z),z=z.sibling;return P}function h(z,P){return z=fi(z,P),z.index=0,z.sibling=null,z}function d(z,P,H){return z.index=H,t?(H=z.alternate,H!==null?(H=H.index,H<P?(z.flags|=67108866,P):H):(z.flags|=67108866,P)):(z.flags|=1048576,P)}function _(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function T(z,P,H,ne){return P===null||P.tag!==6?(P=uf(H,z.mode,ne),P.return=z,P):(P=h(P,H),P.return=z,P)}function I(z,P,H,ne){var Ee=H.type;return Ee===L?W(z,P,H.props.children,ne,H.key):P!==null&&(P.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===A&&Wp(Ee)===P.type)?(P=h(P,H.props),gl(P,H),P.return=z,P):(P=Bu(H.type,H.key,H.props,null,z.mode,ne),gl(P,H),P.return=z,P)}function F(z,P,H,ne){return P===null||P.tag!==4||P.stateNode.containerInfo!==H.containerInfo||P.stateNode.implementation!==H.implementation?(P=cf(H,z.mode,ne),P.return=z,P):(P=h(P,H.children||[]),P.return=z,P)}function W(z,P,H,ne,Ee){return P===null||P.tag!==7?(P=Ja(H,z.mode,ne,Ee),P.return=z,P):(P=h(P,H),P.return=z,P)}function re(z,P,H){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=uf(""+P,z.mode,H),P.return=z,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case b:return H=Bu(P.type,P.key,P.props,null,z.mode,H),gl(H,P),H.return=z,H;case M:return P=cf(P,z.mode,H),P.return=z,P;case A:var ne=P._init;return P=ne(P._payload),re(z,P,H)}if(We(P)||U(P))return P=Ja(P,z.mode,H,null),P.return=z,P;if(typeof P.then=="function")return re(z,ic(P),H);if(P.$$typeof===se)return re(z,Gu(z,P),H);ac(z,P)}return null}function $(z,P,H,ne){var Ee=P!==null?P.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Ee!==null?null:T(z,P,""+H,ne);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case b:return H.key===Ee?I(z,P,H,ne):null;case M:return H.key===Ee?F(z,P,H,ne):null;case A:return Ee=H._init,H=Ee(H._payload),$(z,P,H,ne)}if(We(H)||U(H))return Ee!==null?null:W(z,P,H,ne,null);if(typeof H.then=="function")return $(z,P,ic(H),ne);if(H.$$typeof===se)return $(z,P,Gu(z,H),ne);ac(z,H)}return null}function K(z,P,H,ne,Ee){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return z=z.get(H)||null,T(P,z,""+ne,Ee);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case b:return z=z.get(ne.key===null?H:ne.key)||null,I(P,z,ne,Ee);case M:return z=z.get(ne.key===null?H:ne.key)||null,F(P,z,ne,Ee);case A:var $e=ne._init;return ne=$e(ne._payload),K(z,P,H,ne,Ee)}if(We(ne)||U(ne))return z=z.get(H)||null,W(P,z,ne,Ee,null);if(typeof ne.then=="function")return K(z,P,H,ic(ne),Ee);if(ne.$$typeof===se)return K(z,P,H,Gu(P,ne),Ee);ac(P,ne)}return null}function Ve(z,P,H,ne){for(var Ee=null,$e=null,Se=P,Oe=P=0,tn=null;Se!==null&&Oe<H.length;Oe++){Se.index>Oe?(tn=Se,Se=null):tn=Se.sibling;var lt=$(z,Se,H[Oe],ne);if(lt===null){Se===null&&(Se=tn);break}t&&Se&&lt.alternate===null&&r(z,Se),P=d(lt,P,Oe),$e===null?Ee=lt:$e.sibling=lt,$e=lt,Se=tn}if(Oe===H.length)return s(z,Se),ct&&es(z,Oe),Ee;if(Se===null){for(;Oe<H.length;Oe++)Se=re(z,H[Oe],ne),Se!==null&&(P=d(Se,P,Oe),$e===null?Ee=Se:$e.sibling=Se,$e=Se);return ct&&es(z,Oe),Ee}for(Se=l(Se);Oe<H.length;Oe++)tn=K(Se,z,Oe,H[Oe],ne),tn!==null&&(t&&tn.alternate!==null&&Se.delete(tn.key===null?Oe:tn.key),P=d(tn,P,Oe),$e===null?Ee=tn:$e.sibling=tn,$e=tn);return t&&Se.forEach(function(oa){return r(z,oa)}),ct&&es(z,Oe),Ee}function Ie(z,P,H,ne){if(H==null)throw Error(a(151));for(var Ee=null,$e=null,Se=P,Oe=P=0,tn=null,lt=H.next();Se!==null&&!lt.done;Oe++,lt=H.next()){Se.index>Oe?(tn=Se,Se=null):tn=Se.sibling;var oa=$(z,Se,lt.value,ne);if(oa===null){Se===null&&(Se=tn);break}t&&Se&&oa.alternate===null&&r(z,Se),P=d(oa,P,Oe),$e===null?Ee=oa:$e.sibling=oa,$e=oa,Se=tn}if(lt.done)return s(z,Se),ct&&es(z,Oe),Ee;if(Se===null){for(;!lt.done;Oe++,lt=H.next())lt=re(z,lt.value,ne),lt!==null&&(P=d(lt,P,Oe),$e===null?Ee=lt:$e.sibling=lt,$e=lt);return ct&&es(z,Oe),Ee}for(Se=l(Se);!lt.done;Oe++,lt=H.next())lt=K(Se,z,Oe,lt.value,ne),lt!==null&&(t&&lt.alternate!==null&&Se.delete(lt.key===null?Oe:lt.key),P=d(lt,P,Oe),$e===null?Ee=lt:$e.sibling=lt,$e=lt);return t&&Se.forEach(function(J1){return r(z,J1)}),ct&&es(z,Oe),Ee}function _t(z,P,H,ne){if(typeof H=="object"&&H!==null&&H.type===L&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case b:e:{for(var Ee=H.key;P!==null;){if(P.key===Ee){if(Ee=H.type,Ee===L){if(P.tag===7){s(z,P.sibling),ne=h(P,H.props.children),ne.return=z,z=ne;break e}}else if(P.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===A&&Wp(Ee)===P.type){s(z,P.sibling),ne=h(P,H.props),gl(ne,H),ne.return=z,z=ne;break e}s(z,P);break}else r(z,P);P=P.sibling}H.type===L?(ne=Ja(H.props.children,z.mode,ne,H.key),ne.return=z,z=ne):(ne=Bu(H.type,H.key,H.props,null,z.mode,ne),gl(ne,H),ne.return=z,z=ne)}return _(z);case M:e:{for(Ee=H.key;P!==null;){if(P.key===Ee)if(P.tag===4&&P.stateNode.containerInfo===H.containerInfo&&P.stateNode.implementation===H.implementation){s(z,P.sibling),ne=h(P,H.children||[]),ne.return=z,z=ne;break e}else{s(z,P);break}else r(z,P);P=P.sibling}ne=cf(H,z.mode,ne),ne.return=z,z=ne}return _(z);case A:return Ee=H._init,H=Ee(H._payload),_t(z,P,H,ne)}if(We(H))return Ve(z,P,H,ne);if(U(H)){if(Ee=U(H),typeof Ee!="function")throw Error(a(150));return H=Ee.call(H),Ie(z,P,H,ne)}if(typeof H.then=="function")return _t(z,P,ic(H),ne);if(H.$$typeof===se)return _t(z,P,Gu(z,H),ne);ac(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,P!==null&&P.tag===6?(s(z,P.sibling),ne=h(P,H),ne.return=z,z=ne):(s(z,P),ne=uf(H,z.mode,ne),ne.return=z,z=ne),_(z)):s(z,P)}return function(z,P,H,ne){try{ml=0;var Ee=_t(z,P,H,ne);return Xs=null,Ee}catch(Se){if(Se===al||Se===Yu)throw Se;var $e=jn(29,Se,null,z.mode);return $e.lanes=ne,$e.return=z,$e}finally{}}}var Zs=ey(!0),ty=ey(!1),cr=te(null),Br=null;function $i(t){var r=t.alternate;le(Kt,Kt.current&1),le(cr,t),Br===null&&(r===null||$s.current!==null||r.memoizedState!==null)&&(Br=t)}function ny(t){if(t.tag===22){if(le(Kt,Kt.current),le(cr,t),Br===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(Br=t)}}else Yi()}function Yi(){le(Kt,Kt.current),le(cr,cr.current)}function vi(t){he(cr),Br===t&&(Br=null),he(Kt)}var Kt=te(0);function sc(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Od(s)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function qf(t,r,s,l){r=t.memoizedState,s=s(l,r),s=s==null?r:E({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Ff={enqueueSetState:function(t,r,s){t=t._reactInternals;var l=Fn(),h=qi(l);h.payload=r,s!=null&&(h.callback=s),r=Fi(t,h,l),r!==null&&(Gn(r,t,l),ol(r,t,l))},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var l=Fn(),h=qi(l);h.tag=1,h.payload=r,s!=null&&(h.callback=s),r=Fi(t,h,l),r!==null&&(Gn(r,t,l),ol(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=Fn(),l=qi(s);l.tag=2,r!=null&&(l.callback=r),r=Fi(t,l,s),r!==null&&(Gn(r,t,s),ol(r,t,s))}};function ry(t,r,s,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!Zo(s,l)||!Zo(h,d):!0}function iy(t,r,s,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,l),r.state!==t&&Ff.enqueueReplaceState(r,r.state,null)}function os(t,r){var s=r;if("ref"in r){s={};for(var l in r)l!=="ref"&&(s[l]=r[l])}if(t=t.defaultProps){s===r&&(s=E({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}var oc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ay(t){oc(t)}function sy(t){console.error(t)}function oy(t){oc(t)}function lc(t,r){try{var s=t.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function ly(t,r,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Gf(t,r,s){return s=qi(s),s.tag=3,s.payload={element:null},s.callback=function(){lc(t,r)},s}function uy(t){return t=qi(t),t.tag=3,t}function cy(t,r,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){ly(r,s,l)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){ly(r,s,l),typeof h!="function"&&(Wi===null?Wi=new Set([this]):Wi.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Jb(t,r,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=s.alternate,r!==null&&nl(r,s,h,!0),s=cr.current,s!==null){switch(s.tag){case 13:return Br===null?gd():s.alternate===null&&It===0&&(It=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Ef?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([l]):r.add(l),yd(t,l,h)),!1;case 22:return s.flags|=65536,l===Ef?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([l]):s.add(l)),yd(t,l,h)),!1}throw Error(a(435,s.tag))}return yd(t,l,h),gd(),!1}if(ct)return r=cr.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==df&&(t=Error(a(422),{cause:l}),tl(sr(t,s)))):(l!==df&&(r=Error(a(423),{cause:l}),tl(sr(r,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=sr(l,s),h=Gf(t.stateNode,l,h),wf(t,h),It!==4&&(It=2)),!1;var d=Error(a(520),{cause:l});if(d=sr(d,s),bl===null?bl=[d]:bl.push(d),It!==4&&(It=2),r===null)return!0;l=sr(l,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Gf(s.stateNode,l,t),wf(s,t),!1;case 1:if(r=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Wi===null||!Wi.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=uy(h),cy(h,t,s,l),wf(s,h),!1}s=s.return}while(s!==null);return!1}var hy=Error(a(461)),Wt=!1;function on(t,r,s,l){r.child=t===null?ty(r,null,s,l):Zs(r,t.child,s,l)}function fy(t,r,s,l,h){s=s.render;var d=r.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return is(r),l=xf(t,r,s,_,d,h),T=If(),t!==null&&!Wt?(Df(t,r,h),_i(t,r,h)):(ct&&T&&hf(r),r.flags|=1,on(t,r,l,h),r.child)}function dy(t,r,s,l,h){if(t===null){var d=s.type;return typeof d=="function"&&!lf(d)&&d.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=d,my(t,r,d,l,h)):(t=Bu(s.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Wf(t,h)){var _=d.memoizedProps;if(s=s.compare,s=s!==null?s:Zo,s(_,l)&&t.ref===r.ref)return _i(t,r,h)}return r.flags|=1,t=fi(d,l),t.ref=r.ref,t.return=r,r.child=t}function my(t,r,s,l,h){if(t!==null){var d=t.memoizedProps;if(Zo(d,l)&&t.ref===r.ref)if(Wt=!1,r.pendingProps=l=d,Wf(t,h))(t.flags&131072)!==0&&(Wt=!0);else return r.lanes=t.lanes,_i(t,r,h)}return $f(t,r,s,l,h)}function gy(t,r,s){var l=r.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|s:s,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return py(t,r,l,s)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&$u(r,d!==null?d.cachePool:null),d!==null?mp(r,d):Af(),ny(r);else return r.lanes=r.childLanes=536870912,py(t,r,d!==null?d.baseLanes|s:s,s)}else d!==null?($u(r,d.cachePool),mp(r,d),Yi(),r.memoizedState=null):(t!==null&&$u(r,null),Af(),Yi());return on(t,r,h,s),r.child}function py(t,r,s,l){var h=_f();return h=h===null?null:{parent:Yt._currentValue,pool:h},r.memoizedState={baseLanes:s,cachePool:h},t!==null&&$u(r,null),Af(),ny(r),t!==null&&nl(t,r,l,!0),null}function uc(t,r){var s=r.ref;if(s===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(r.flags|=4194816)}}function $f(t,r,s,l,h){return is(r),s=xf(t,r,s,l,void 0,h),l=If(),t!==null&&!Wt?(Df(t,r,h),_i(t,r,h)):(ct&&l&&hf(r),r.flags|=1,on(t,r,s,h),r.child)}function yy(t,r,s,l,h,d){return is(r),r.updateQueue=null,s=pp(r,l,s,h),gp(t),l=If(),t!==null&&!Wt?(Df(t,r,d),_i(t,r,d)):(ct&&l&&hf(r),r.flags|=1,on(t,r,s,d),r.child)}function vy(t,r,s,l,h){if(is(r),r.stateNode===null){var d=Bs,_=s.contextType;typeof _=="object"&&_!==null&&(d=gn(_)),d=new s(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Ff,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Tf(r),_=s.contextType,d.context=typeof _=="object"&&_!==null?gn(_):Bs,d.state=r.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(qf(r,s,_,l),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Ff.enqueueReplaceState(d,d.state,null),ul(r,l,d,h),ll(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var T=r.memoizedProps,I=os(s,T);d.props=I;var F=d.context,W=s.contextType;_=Bs,typeof W=="object"&&W!==null&&(_=gn(W));var re=s.getDerivedStateFromProps;W=typeof re=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||F!==_)&&iy(r,d,l,_),Hi=!1;var $=r.memoizedState;d.state=$,ul(r,l,d,h),ll(),F=r.memoizedState,T||$!==F||Hi?(typeof re=="function"&&(qf(r,s,re,l),F=r.memoizedState),(I=Hi||ry(r,s,I,l,$,F,_))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=F),d.props=l,d.state=F,d.context=_,l=I):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,bf(t,r),_=r.memoizedProps,W=os(s,_),d.props=W,re=r.pendingProps,$=d.context,F=s.contextType,I=Bs,typeof F=="object"&&F!==null&&(I=gn(F)),T=s.getDerivedStateFromProps,(F=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==re||$!==I)&&iy(r,d,l,I),Hi=!1,$=r.memoizedState,d.state=$,ul(r,l,d,h),ll();var K=r.memoizedState;_!==re||$!==K||Hi||t!==null&&t.dependencies!==null&&Fu(t.dependencies)?(typeof T=="function"&&(qf(r,s,T,l),K=r.memoizedState),(W=Hi||ry(r,s,W,l,$,K,I)||t!==null&&t.dependencies!==null&&Fu(t.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,I)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&$===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&$===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=K),d.props=l,d.state=K,d.context=I,l=W):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&$===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&$===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,uc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Zs(r,t.child,null,h),r.child=Zs(r,null,s,h)):on(t,r,s,h),r.memoizedState=d.state,t=r.child):t=_i(t,r,h),t}function _y(t,r,s,l){return el(),r.flags|=256,on(t,r,s,l),r.child}var Yf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kf(t){return{baseLanes:t,cachePool:sp()}}function Qf(t,r,s){return t=t!==null?t.childLanes&~s:0,r&&(t|=hr),t}function Ey(t,r,s){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(Kt.current&2)!==0),_&&(h=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(ct){if(h?$i(r):Yi(),ct){var T=xt,I;if(I=T){e:{for(I=T,T=jr;I.nodeType!==8;){if(!T){T=null;break e}if(I=Er(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(r.memoizedState={dehydrated:T,treeContext:Wa!==null?{id:di,overflow:mi}:null,retryLane:536870912,hydrationErrors:null},I=jn(18,null,null,0),I.stateNode=T,I.return=r,r.child=I,Cn=r,xt=null,I=!0):I=!1}I||ns(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Od(T)?r.lanes=32:r.lanes=536870912,null;vi(r)}return T=l.children,l=l.fallback,h?(Yi(),h=r.mode,T=cc({mode:"hidden",children:T},h),l=Ja(l,h,s,null),T.return=r,l.return=r,T.sibling=l,r.child=T,h=r.child,h.memoizedState=Kf(s),h.childLanes=Qf(t,_,s),r.memoizedState=Yf,l):($i(r),Xf(r,T))}if(I=t.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)r.flags&256?($i(r),r.flags&=-257,r=Zf(t,r,s)):r.memoizedState!==null?(Yi(),r.child=t.child,r.flags|=128,r=null):(Yi(),h=l.fallback,T=r.mode,l=cc({mode:"visible",children:l.children},T),h=Ja(h,T,s,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Zs(r,t.child,null,s),l=r.child,l.memoizedState=Kf(s),l.childLanes=Qf(t,_,s),r.memoizedState=Yf,r=h);else if($i(r),Od(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var F=_.dgst;_=F,l=Error(a(419)),l.stack="",l.digest=_,tl({value:l,source:null,stack:null}),r=Zf(t,r,s)}else if(Wt||nl(t,r,s,!1),_=(s&t.childLanes)!==0,Wt||_){if(_=bt,_!==null&&(l=s&-s,l=(l&42)!==0?1:Dr(l),l=(l&(_.suspendedLanes|s))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,js(t,l),Gn(_,t,l),hy;T.data==="$?"||gd(),r=Zf(t,r,s)}else T.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=I.treeContext,xt=Er(T.nextSibling),Cn=r,ct=!0,ts=null,jr=!1,t!==null&&(lr[ur++]=di,lr[ur++]=mi,lr[ur++]=Wa,di=t.id,mi=t.overflow,Wa=r),r=Xf(r,l.children),r.flags|=4096);return r}return h?(Yi(),h=l.fallback,T=r.mode,I=t.child,F=I.sibling,l=fi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,F!==null?h=fi(F,h):(h=Ja(h,T,s,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,T=t.child.memoizedState,T===null?T=Kf(s):(I=T.cachePool,I!==null?(F=Yt._currentValue,I=I.parent!==F?{parent:F,pool:F}:I):I=sp(),T={baseLanes:T.baseLanes|s,cachePool:I}),h.memoizedState=T,h.childLanes=Qf(t,_,s),r.memoizedState=Yf,l):($i(r),s=t.child,t=s.sibling,s=fi(s,{mode:"visible",children:l.children}),s.return=r,s.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=s,r.memoizedState=null,s)}function Xf(t,r){return r=cc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function cc(t,r){return t=jn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Zf(t,r,s){return Zs(r,t.child,null,s),t=Xf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Ty(t,r,s){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),gf(t.return,r,s)}function Jf(t,r,s,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=h)}function by(t,r,s){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(on(t,r,l.children,s),l=Kt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ty(t,s,r);else if(t.tag===19)Ty(t,s,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(le(Kt,l),h){case"forwards":for(s=r.child,h=null;s!==null;)t=s.alternate,t!==null&&sc(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=r.child,r.child=null):(h=s.sibling,s.sibling=null),Jf(r,!1,h,s,d);break;case"backwards":for(s=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&sc(t)===null){r.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Jf(r,!0,s,null,d);break;case"together":Jf(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function _i(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),Ji|=r.lanes,(s&r.childLanes)===0)if(t!==null){if(nl(t,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(a(153));if(r.child!==null){for(t=r.child,s=fi(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=fi(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}function Wf(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Fu(t)))}function Wb(t,r,s){switch(r.tag){case 3:gt(r,r.stateNode.containerInfo),Bi(r,Yt,t.memoizedState.cache),el();break;case 27:case 5:wt(r);break;case 4:gt(r,r.stateNode.containerInfo);break;case 10:Bi(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?($i(r),r.flags|=128,null):(s&r.child.childLanes)!==0?Ey(t,r,s):($i(r),t=_i(t,r,s),t!==null?t.sibling:null);$i(r);break;case 19:var h=(t.flags&128)!==0;if(l=(s&r.childLanes)!==0,l||(nl(t,r,s,!1),l=(s&r.childLanes)!==0),h){if(l)return by(t,r,s);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),le(Kt,Kt.current),l)break;return null;case 22:case 23:return r.lanes=0,gy(t,r,s);case 24:Bi(r,Yt,t.memoizedState.cache)}return _i(t,r,s)}function wy(t,r,s){if(t!==null)if(t.memoizedProps!==r.pendingProps)Wt=!0;else{if(!Wf(t,s)&&(r.flags&128)===0)return Wt=!1,Wb(t,r,s);Wt=(t.flags&131072)!==0}else Wt=!1,ct&&(r.flags&1048576)!==0&&Wg(r,qu,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")lf(l)?(t=os(l,t),r.tag=1,r=vy(null,r,l,t,s)):(r.tag=0,r=$f(null,r,l,t,s));else{if(l!=null){if(h=l.$$typeof,h===ge){r.tag=11,r=fy(null,r,l,t,s);break e}else if(h===x){r.tag=14,r=dy(null,r,l,t,s);break e}}throw r=Be(l)||l,Error(a(306,r,""))}}return r;case 0:return $f(t,r,r.type,r.pendingProps,s);case 1:return l=r.type,h=os(l,r.pendingProps),vy(t,r,l,h,s);case 3:e:{if(gt(r,r.stateNode.containerInfo),t===null)throw Error(a(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,bf(t,r),ul(r,l,null,s);var _=r.memoizedState;if(l=_.cache,Bi(r,Yt,l),l!==d.cache&&pf(r,[Yt],s,!0),ll(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=_y(t,r,l,s);break e}else if(l!==h){h=sr(Error(a(424)),r),tl(h),r=_y(t,r,l,s);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(xt=Er(t.firstChild),Cn=r,ct=!0,ts=null,jr=!0,s=ty(r,null,l,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(el(),l===h){r=_i(t,r,s);break e}on(t,r,l,s)}r=r.child}return r;case 26:return uc(t,r),t===null?(s=Cv(r.type,null,r.pendingProps,null))?r.memoizedState=s:ct||(s=r.type,t=r.pendingProps,l=Sc(xe.current).createElement(s),l[ie]=r,l[ue]=t,un(l,s,t),et(l),r.stateNode=l):r.memoizedState=Cv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return wt(r),t===null&&ct&&(l=r.stateNode=Sv(r.type,r.pendingProps,xe.current),Cn=r,jr=!0,h=xt,na(r.type)?(Md=h,xt=Er(l.firstChild)):xt=h),on(t,r,r.pendingProps.children,s),uc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&ct&&((h=l=xt)&&(l=C1(l,r.type,r.pendingProps,jr),l!==null?(r.stateNode=l,Cn=r,xt=Er(l.firstChild),jr=!1,h=!0):h=!1),h||ns(r)),wt(r),h=r.type,d=r.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Id(h,d)?l=null:_!==null&&Id(h,_)&&(r.flags|=32),r.memoizedState!==null&&(h=xf(t,r,Gb,null,null,s),Nl._currentValue=h),uc(t,r),on(t,r,l,s),r.child;case 6:return t===null&&ct&&((t=s=xt)&&(s=x1(s,r.pendingProps,jr),s!==null?(r.stateNode=s,Cn=r,xt=null,t=!0):t=!1),t||ns(r)),null;case 13:return Ey(t,r,s);case 4:return gt(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Zs(r,null,l,s):on(t,r,l,s),r.child;case 11:return fy(t,r,r.type,r.pendingProps,s);case 7:return on(t,r,r.pendingProps,s),r.child;case 8:return on(t,r,r.pendingProps.children,s),r.child;case 12:return on(t,r,r.pendingProps.children,s),r.child;case 10:return l=r.pendingProps,Bi(r,r.type,l.value),on(t,r,l.children,s),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,is(r),h=gn(h),l=l(h),r.flags|=1,on(t,r,l,s),r.child;case 14:return dy(t,r,r.type,r.pendingProps,s);case 15:return my(t,r,r.type,r.pendingProps,s);case 19:return by(t,r,s);case 31:return l=r.pendingProps,s=r.mode,l={mode:l.mode,children:l.children},t===null?(s=cc(l,s),s.ref=r.ref,r.child=s,s.return=r,r=s):(s=fi(t.child,l),s.ref=r.ref,r.child=s,s.return=r,r=s),r;case 22:return gy(t,r,s);case 24:return is(r),l=gn(Yt),t===null?(h=_f(),h===null&&(h=bt,d=yf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),r.memoizedState={parent:l,cache:h},Tf(r),Bi(r,Yt,h)):((t.lanes&s)!==0&&(bf(t,r),ul(r,null,null,s),ll()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Bi(r,Yt,l)):(l=d.cache,Bi(r,Yt,l),l!==h.cache&&pf(r,[Yt],s,!0))),on(t,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function Ei(t){t.flags|=4}function Sy(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ov(r)){if(r=cr.current,r!==null&&((rt&4194048)===rt?Br!==null:(rt&62914560)!==rt&&(rt&536870912)===0||r!==Br))throw sl=Ef,op;t.flags|=8192}}function hc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Ua():536870912,t.lanes|=r,to|=r)}function pl(t,r){if(!ct)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function At(t){var r=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(r)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,r}function e1(t,r,s){var l=r.pendingProps;switch(ff(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(r),null;case 1:return At(r),null;case 3:return s=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),pi(Yt),Qn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Wo(r)?Ei(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,np())),At(r),null;case 26:return s=r.memoizedState,t===null?(Ei(r),s!==null?(At(r),Sy(r,s)):(At(r),r.flags&=-16777217)):s?s!==t.memoizedState?(Ei(r),At(r),Sy(r,s)):(At(r),r.flags&=-16777217):(t.memoizedProps!==l&&Ei(r),At(r),r.flags&=-16777217),null;case 27:fn(r),s=xe.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Ei(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return At(r),null}t=we.current,Wo(r)?ep(r):(t=Sv(h,l,s),r.stateNode=t,Ei(r))}return At(r),null;case 5:if(fn(r),s=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Ei(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return At(r),null}if(t=we.current,Wo(r))ep(r);else{switch(h=Sc(xe.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}t[ie]=r,t[ue]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(un(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ei(r)}}return At(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Ei(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(a(166));if(t=xe.current,Wo(r)){if(t=r.stateNode,s=r.memoizedProps,l=null,h=Cn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[ie]=r,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||yv(t.nodeValue,s)),t||ns(r)}else t=Sc(t).createTextNode(l),t[ie]=r,r.stateNode=t}return At(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Wo(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[ie]=r}else el(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;At(r),h=!1}else h=np(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(vi(r),r):(vi(r),null)}if(vi(r),(r.flags&128)!==0)return r.lanes=s,r;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return s!==t&&s&&(r.child.flags|=8192),hc(r,r.updateQueue),At(r),null;case 4:return Qn(),t===null&&Sd(r.stateNode.containerInfo),At(r),null;case 10:return pi(r.type),At(r),null;case 19:if(he(Kt),h=r.memoizedState,h===null)return At(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)pl(h,!1);else{if(It!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=sc(t),d!==null){for(r.flags|=128,pl(h,!1),t=d.updateQueue,r.updateQueue=t,hc(r,t),r.subtreeFlags=0,t=s,s=r.child;s!==null;)Jg(s,t),s=s.sibling;return le(Kt,Kt.current&1|2),r.child}t=t.sibling}h.tail!==null&&bn()>mc&&(r.flags|=128,l=!0,pl(h,!1),r.lanes=4194304)}else{if(!l)if(t=sc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,hc(r,t),pl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!ct)return At(r),null}else 2*bn()-h.renderingStartTime>mc&&s!==536870912&&(r.flags|=128,l=!0,pl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=bn(),r.sibling=null,t=Kt.current,le(Kt,l?t&1|2:t&1),r):(At(r),null);case 22:case 23:return vi(r),Rf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(s&536870912)!==0&&(r.flags&128)===0&&(At(r),r.subtreeFlags&6&&(r.flags|=8192)):At(r),s=r.updateQueue,s!==null&&hc(r,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==s&&(r.flags|=2048),t!==null&&he(as),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),pi(Yt),At(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function t1(t,r){switch(ff(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return pi(Yt),Qn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return fn(r),null;case 13:if(vi(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(a(340));el()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return he(Kt),null;case 4:return Qn(),null;case 10:return pi(r.type),null;case 22:case 23:return vi(r),Rf(),t!==null&&he(as),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return pi(Yt),null;case 25:return null;default:return null}}function Ay(t,r){switch(ff(r),r.tag){case 3:pi(Yt),Qn();break;case 26:case 27:case 5:fn(r);break;case 4:Qn();break;case 13:vi(r);break;case 19:he(Kt);break;case 10:pi(r.type);break;case 22:case 23:vi(r),Rf(),t!==null&&he(as);break;case 24:pi(Yt)}}function yl(t,r){try{var s=r.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var d=s.create,_=s.inst;l=d(),_.destroy=l}s=s.next}while(s!==h)}}catch(T){Tt(r,r.return,T)}}function Ki(t,r,s){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=r;var I=s,F=T;try{F()}catch(W){Tt(h,I,W)}}}l=l.next}while(l!==d)}}catch(W){Tt(r,r.return,W)}}function Ry(t){var r=t.updateQueue;if(r!==null){var s=t.stateNode;try{dp(r,s)}catch(l){Tt(t,t.return,l)}}}function Cy(t,r,s){s.props=os(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Tt(t,r,l)}}function vl(t,r){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){Tt(t,r,h)}}function Hr(t,r){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Tt(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Tt(t,r,h)}else s.current=null}function xy(t){var r=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Tt(t,t.return,h)}}function ed(t,r,s){try{var l=t.stateNode;b1(l,t.type,s,r),l[ue]=r}catch(h){Tt(t,t.return,h)}}function Iy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&na(t.type)||t.tag===4}function td(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Iy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&na(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nd(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(t),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=wc));else if(l!==4&&(l===27&&na(t.type)&&(s=t.stateNode,r=null),t=t.child,t!==null))for(nd(t,r,s),t=t.sibling;t!==null;)nd(t,r,s),t=t.sibling}function fc(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?s.insertBefore(t,r):s.appendChild(t);else if(l!==4&&(l===27&&na(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(fc(t,r,s),t=t.sibling;t!==null;)fc(t,r,s),t=t.sibling}function Dy(t){var r=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);un(r,l,s),r[ie]=t,r[ue]=s}catch(d){Tt(t,t.return,d)}}var Ti=!1,Nt=!1,rd=!1,Ny=typeof WeakSet=="function"?WeakSet:Set,en=null;function n1(t,r){if(t=t.containerInfo,Cd=Dc,t=Hg(t),ef(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var _=0,T=-1,I=-1,F=0,W=0,re=t,$=null;t:for(;;){for(var K;re!==s||h!==0&&re.nodeType!==3||(T=_+h),re!==d||l!==0&&re.nodeType!==3||(I=_+l),re.nodeType===3&&(_+=re.nodeValue.length),(K=re.firstChild)!==null;)$=re,re=K;for(;;){if(re===t)break t;if($===s&&++F===h&&(T=_),$===d&&++W===l&&(I=_),(K=re.nextSibling)!==null)break;re=$,$=re.parentNode}re=K}s=T===-1||I===-1?null:{start:T,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(xd={focusedElem:t,selectionRange:s},Dc=!1,en=r;en!==null;)if(r=en,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,en=t;else for(;en!==null;){switch(r=en,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=r,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var Ve=os(s.type,h,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(Ve,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ie){Tt(s,s.return,Ie)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,s=t.nodeType,s===9)Nd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Nd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=r.sibling,t!==null){t.return=r.return,en=t;break}en=r.return}}function Oy(t,r,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Qi(t,s),l&4&&yl(5,s);break;case 1:if(Qi(t,s),l&4)if(t=s.stateNode,r===null)try{t.componentDidMount()}catch(_){Tt(s,s.return,_)}else{var h=os(s.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Tt(s,s.return,_)}}l&64&&Ry(s),l&512&&vl(s,s.return);break;case 3:if(Qi(t,s),l&64&&(t=s.updateQueue,t!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{dp(t,r)}catch(_){Tt(s,s.return,_)}}break;case 27:r===null&&l&4&&Dy(s);case 26:case 5:Qi(t,s),r===null&&l&4&&xy(s),l&512&&vl(s,s.return);break;case 12:Qi(t,s);break;case 13:Qi(t,s),l&4&&Py(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=h1.bind(null,s),I1(t,s))));break;case 22:if(l=s.memoizedState!==null||Ti,!l){r=r!==null&&r.memoizedState!==null||Nt,h=Ti;var d=Nt;Ti=l,(Nt=r)&&!d?Xi(t,s,(s.subtreeFlags&8772)!==0):Qi(t,s),Ti=h,Nt=d}break;case 30:break;default:Qi(t,s)}}function My(t){var r=t.alternate;r!==null&&(t.alternate=null,My(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Ce(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var St=null,On=!1;function bi(t,r,s){for(s=s.child;s!==null;)Vy(t,r,s),s=s.sibling}function Vy(t,r,s){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(ut,s)}catch{}switch(s.tag){case 26:Nt||Hr(s,r),bi(t,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Nt||Hr(s,r);var l=St,h=On;na(s.type)&&(St=s.stateNode,On=!1),bi(t,r,s),Cl(s.stateNode),St=l,On=h;break;case 5:Nt||Hr(s,r);case 6:if(l=St,h=On,St=null,bi(t,r,s),St=l,On=h,St!==null)if(On)try{(St.nodeType===9?St.body:St.nodeName==="HTML"?St.ownerDocument.body:St).removeChild(s.stateNode)}catch(d){Tt(s,r,d)}else try{St.removeChild(s.stateNode)}catch(d){Tt(s,r,d)}break;case 18:St!==null&&(On?(t=St,bv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Pl(t)):bv(St,s.stateNode));break;case 4:l=St,h=On,St=s.stateNode.containerInfo,On=!0,bi(t,r,s),St=l,On=h;break;case 0:case 11:case 14:case 15:Nt||Ki(2,s,r),Nt||Ki(4,s,r),bi(t,r,s);break;case 1:Nt||(Hr(s,r),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Cy(s,r,l)),bi(t,r,s);break;case 21:bi(t,r,s);break;case 22:Nt=(l=Nt)||s.memoizedState!==null,bi(t,r,s),Nt=l;break;default:bi(t,r,s)}}function Py(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Pl(t)}catch(s){Tt(r,r.return,s)}}function r1(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Ny),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Ny),r;default:throw Error(a(435,t.tag))}}function id(t,r){var s=r1(t);r.forEach(function(l){var h=f1.bind(null,t,l);s.has(l)||(s.add(l),l.then(h,h))})}function Bn(t,r){var s=r.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=t,_=r,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(na(T.type)){St=T.stateNode,On=!1;break e}break;case 5:St=T.stateNode,On=!1;break e;case 3:case 4:St=T.stateNode.containerInfo,On=!0;break e}T=T.return}if(St===null)throw Error(a(160));Vy(d,_,h),St=null,On=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Ly(r,t),r=r.sibling}var _r=null;function Ly(t,r){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Bn(r,t),Hn(t),l&4&&(Ki(3,t,t.return),yl(3,t),Ki(5,t,t.return));break;case 1:Bn(r,t),Hn(t),l&512&&(Nt||s===null||Hr(s,s.return)),l&64&&Ti&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=_r;if(Bn(r,t),Hn(t),l&512&&(Nt||s===null||Hr(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ne]||d[ie]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),un(d,l,s),d[ie]=t,et(d),l=d;break e;case"link":var _=Dv("link","href",h).get(l+(s.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),un(d,l,s),h.head.appendChild(d);break;case"meta":if(_=Dv("meta","content",h).get(l+(s.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(T,1);break t}}d=h.createElement(l),un(d,l,s),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[ie]=t,et(d),l=d}t.stateNode=l}else Nv(h,t.type,t.stateNode);else t.stateNode=Iv(h,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?Nv(h,t.type,t.stateNode):Iv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ed(t,t.memoizedProps,s.memoizedProps)}break;case 27:Bn(r,t),Hn(t),l&512&&(Nt||s===null||Hr(s,s.return)),s!==null&&l&4&&ed(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Bn(r,t),Hn(t),l&512&&(Nt||s===null||Hr(s,s.return)),t.flags&32){h=t.stateNode;try{nr(h,"")}catch(K){Tt(t,t.return,K)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,ed(t,h,s!==null?s.memoizedProps:h)),l&1024&&(rd=!0);break;case 6:if(Bn(r,t),Hn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(K){Tt(t,t.return,K)}}break;case 3:if(Cc=null,h=_r,_r=Ac(r.containerInfo),Bn(r,t),_r=h,Hn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Pl(r.containerInfo)}catch(K){Tt(t,t.return,K)}rd&&(rd=!1,ky(t));break;case 4:l=_r,_r=Ac(t.stateNode.containerInfo),Bn(r,t),Hn(t),_r=l;break;case 12:Bn(r,t),Hn(t);break;case 13:Bn(r,t),Hn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(cd=bn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,id(t,l)));break;case 22:h=t.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,F=Ti,W=Nt;if(Ti=F||h,Nt=W||I,Bn(r,t),Nt=W,Ti=F,Hn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(s===null||I||Ti||Nt||ls(t)),s=null,r=t;;){if(r.tag===5||r.tag===26){if(s===null){I=s=r;try{if(d=I.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=I.stateNode;var re=I.memoizedProps.style,$=re!=null&&re.hasOwnProperty("display")?re.display:null;T.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(K){Tt(I,I.return,K)}}}else if(r.tag===6){if(s===null){I=r;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(K){Tt(I,I.return,K)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,id(t,s))));break;case 19:Bn(r,t),Hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,id(t,l)));break;case 30:break;case 21:break;default:Bn(r,t),Hn(t)}}function Hn(t){var r=t.flags;if(r&2){try{for(var s,l=t.return;l!==null;){if(Iy(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,d=td(t);fc(t,d,h);break;case 5:var _=s.stateNode;s.flags&32&&(nr(_,""),s.flags&=-33);var T=td(t);fc(t,T,_);break;case 3:case 4:var I=s.stateNode.containerInfo,F=td(t);nd(t,F,I);break;default:throw Error(a(161))}}catch(W){Tt(t,t.return,W)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function ky(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;ky(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Qi(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Oy(t,r.alternate,r),r=r.sibling}function ls(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Ki(4,r,r.return),ls(r);break;case 1:Hr(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&Cy(r,r.return,s),ls(r);break;case 27:Cl(r.stateNode);case 26:case 5:Hr(r,r.return),ls(r);break;case 22:r.memoizedState===null&&ls(r);break;case 30:ls(r);break;default:ls(r)}t=t.sibling}}function Xi(t,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:Xi(h,d,s),yl(4,d);break;case 1:if(Xi(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){Tt(l,l.return,F)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)fp(I[h],T)}catch(F){Tt(l,l.return,F)}}s&&_&64&&Ry(d),vl(d,d.return);break;case 27:Dy(d);case 26:case 5:Xi(h,d,s),s&&l===null&&_&4&&xy(d),vl(d,d.return);break;case 12:Xi(h,d,s);break;case 13:Xi(h,d,s),s&&_&4&&Py(h,d);break;case 22:d.memoizedState===null&&Xi(h,d,s),vl(d,d.return);break;case 30:break;default:Xi(h,d,s)}r=r.sibling}}function ad(t,r){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&rl(s))}function sd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&rl(t))}function qr(t,r,s,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Uy(t,r,s,l),r=r.sibling}function Uy(t,r,s,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:qr(t,r,s,l),h&2048&&yl(9,r);break;case 1:qr(t,r,s,l);break;case 3:qr(t,r,s,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&rl(t)));break;case 12:if(h&2048){qr(t,r,s,l),t=r.stateNode;try{var d=r.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Tt(r,r.return,I)}}else qr(t,r,s,l);break;case 13:qr(t,r,s,l);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?qr(t,r,s,l):_l(t,r):d._visibility&2?qr(t,r,s,l):(d._visibility|=2,Js(t,r,s,l,(r.subtreeFlags&10256)!==0)),h&2048&&ad(_,r);break;case 24:qr(t,r,s,l),h&2048&&sd(r.alternate,r);break;default:qr(t,r,s,l)}}function Js(t,r,s,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,_=r,T=s,I=l,F=_.flags;switch(_.tag){case 0:case 11:case 15:Js(d,_,T,I,h),yl(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&2?Js(d,_,T,I,h):_l(d,_):(W._visibility|=2,Js(d,_,T,I,h)),h&&F&2048&&ad(_.alternate,_);break;case 24:Js(d,_,T,I,h),h&&F&2048&&sd(_.alternate,_);break;default:Js(d,_,T,I,h)}r=r.sibling}}function _l(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=t,l=r,h=l.flags;switch(l.tag){case 22:_l(s,l),h&2048&&ad(l.alternate,l);break;case 24:_l(s,l),h&2048&&sd(l.alternate,l);break;default:_l(s,l)}r=r.sibling}}var El=8192;function Ws(t){if(t.subtreeFlags&El)for(t=t.child;t!==null;)zy(t),t=t.sibling}function zy(t){switch(t.tag){case 26:Ws(t),t.flags&El&&t.memoizedState!==null&&H1(_r,t.memoizedState,t.memoizedProps);break;case 5:Ws(t);break;case 3:case 4:var r=_r;_r=Ac(t.stateNode.containerInfo),Ws(t),_r=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=El,El=16777216,Ws(t),El=r):Ws(t));break;default:Ws(t)}}function jy(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Tl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];en=l,Hy(l,t)}jy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)By(t),t=t.sibling}function By(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&Ki(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,dc(t)):Tl(t);break;default:Tl(t)}}function dc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];en=l,Hy(l,t)}jy(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Ki(8,r,r.return),dc(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,dc(r));break;default:dc(r)}t=t.sibling}}function Hy(t,r){for(;en!==null;){var s=en;switch(s.tag){case 0:case 11:case 15:Ki(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:rl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,en=l;else e:for(s=t;en!==null;){l=en;var h=l.sibling,d=l.return;if(My(l),l===s){en=null;break e}if(h!==null){h.return=d,en=h;break e}en=d}}}var i1={getCacheForType:function(t){var r=gn(Yt),s=r.data.get(t);return s===void 0&&(s=t(),r.data.set(t,s)),s}},a1=typeof WeakMap=="function"?WeakMap:Map,dt=0,bt=null,Xe=null,rt=0,mt=0,qn=null,Zi=!1,eo=!1,od=!1,wi=0,It=0,Ji=0,us=0,ld=0,hr=0,to=0,bl=null,Mn=null,ud=!1,cd=0,mc=1/0,gc=null,Wi=null,ln=0,ea=null,no=null,ro=0,hd=0,fd=null,qy=null,wl=0,dd=null;function Fn(){if((dt&2)!==0&&rt!==0)return rt&-rt;if(G.T!==null){var t=Fs;return t!==0?t:Ed()}return O()}function Fy(){hr===0&&(hr=(rt&536870912)===0||ct?ri():536870912);var t=cr.current;return t!==null&&(t.flags|=32),hr}function Gn(t,r,s){(t===bt&&(mt===2||mt===9)||t.cancelPendingCommit!==null)&&(io(t,0),ta(t,rt,hr,!1)),pr(t,s),((dt&2)===0||t!==bt)&&(t===bt&&((dt&2)===0&&(us|=s),It===4&&ta(t,rt,hr,!1)),Fr(t))}function Gy(t,r,s){if((dt&6)!==0)throw Error(a(327));var l=!s&&(r&124)===0&&(r&t.expiredLanes)===0||Jn(t,r),h=l?l1(t,r):pd(t,r,!0),d=l;do{if(h===0){eo&&!l&&ta(t,r,0,!1);break}else{if(s=t.current.alternate,d&&!s1(s)){h=pd(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var T=t;h=bl;var I=T.current.memoizedState.isDehydrated;if(I&&(io(T,_).flags|=256),_=pd(T,_,!1),_!==2){if(od&&!I){T.errorRecoveryDisabledLanes|=d,us|=d,h=4;break e}d=Mn,Mn=h,d!==null&&(Mn===null?Mn=d:Mn.push.apply(Mn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){io(t,0),ta(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:ta(l,r,hr,!Zi);break e;case 2:Mn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(h=cd+300-bn(),10<h)){if(ta(l,r,hr,!Zi),ni(l,0,!0)!==0)break e;l.timeoutHandle=Ev($y.bind(null,l,s,Mn,gc,ud,r,hr,us,to,Zi,d,2,-0,0),h);break e}$y(l,s,Mn,gc,ud,r,hr,us,to,Zi,d,0,-0,0)}}break}while(!0);Fr(t)}function $y(t,r,s,l,h,d,_,T,I,F,W,re,$,K){if(t.timeoutHandle=-1,re=r.subtreeFlags,(re&8192||(re&16785408)===16785408)&&(Dl={stylesheets:null,count:0,unsuspend:B1},zy(r),re=q1(),re!==null)){t.cancelPendingCommit=re(Wy.bind(null,t,r,d,s,l,h,_,T,I,W,1,$,K)),ta(t,d,_,!F);return}Wy(t,r,d,s,l,h,_,T,I)}function s1(t){for(var r=t;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!zn(d(),h))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ta(t,r,s,l){r&=~ld,r&=~us,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-Lt(h),_=1<<d;l[d]=-1,h&=~_}s!==0&&wn(t,s,r)}function pc(){return(dt&6)===0?(Sl(0),!1):!0}function md(){if(Xe!==null){if(mt===0)var t=Xe.return;else t=Xe,gi=rs=null,Nf(t),Xs=null,ml=0,t=Xe;for(;t!==null;)Ay(t.alternate,t),t=t.return;Xe=null}}function io(t,r){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,S1(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),md(),bt=t,Xe=s=fi(t.current,null),rt=r,mt=0,qn=null,Zi=!1,eo=Jn(t,r),od=!1,to=hr=ld=us=Ji=It=0,Mn=bl=null,ud=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-Lt(l),d=1<<h;r|=t[h],l&=~d}return wi=r,Uu(),s}function Yy(t,r){Fe=null,G.H=rc,r===al||r===Yu?(r=cp(),mt=3):r===op?(r=cp(),mt=4):mt=r===hy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,qn=r,Xe===null&&(It=1,lc(t,sr(r,t.current)))}function Ky(){var t=G.H;return G.H=rc,t===null?rc:t}function Qy(){var t=G.A;return G.A=i1,t}function gd(){It=4,Zi||(rt&4194048)!==rt&&cr.current!==null||(eo=!0),(Ji&134217727)===0&&(us&134217727)===0||bt===null||ta(bt,rt,hr,!1)}function pd(t,r,s){var l=dt;dt|=2;var h=Ky(),d=Qy();(bt!==t||rt!==r)&&(gc=null,io(t,r)),r=!1;var _=It;e:do try{if(mt!==0&&Xe!==null){var T=Xe,I=qn;switch(mt){case 8:md(),_=6;break e;case 3:case 2:case 9:case 6:cr.current===null&&(r=!0);var F=mt;if(mt=0,qn=null,ao(t,T,I,F),s&&eo){_=0;break e}break;default:F=mt,mt=0,qn=null,ao(t,T,I,F)}}o1(),_=It;break}catch(W){Yy(t,W)}while(!0);return r&&t.shellSuspendCounter++,gi=rs=null,dt=l,G.H=h,G.A=d,Xe===null&&(bt=null,rt=0,Uu()),_}function o1(){for(;Xe!==null;)Xy(Xe)}function l1(t,r){var s=dt;dt|=2;var l=Ky(),h=Qy();bt!==t||rt!==r?(gc=null,mc=bn()+500,io(t,r)):eo=Jn(t,r);e:do try{if(mt!==0&&Xe!==null){r=Xe;var d=qn;t:switch(mt){case 1:mt=0,qn=null,ao(t,r,d,1);break;case 2:case 9:if(lp(d)){mt=0,qn=null,Zy(r);break}r=function(){mt!==2&&mt!==9||bt!==t||(mt=7),Fr(t)},d.then(r,r);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:lp(d)?(mt=0,qn=null,Zy(r)):(mt=0,qn=null,ao(t,r,d,7));break;case 5:var _=null;switch(Xe.tag){case 26:_=Xe.memoizedState;case 5:case 27:var T=Xe;if(!_||Ov(_)){mt=0,qn=null;var I=T.sibling;if(I!==null)Xe=I;else{var F=T.return;F!==null?(Xe=F,yc(F)):Xe=null}break t}}mt=0,qn=null,ao(t,r,d,5);break;case 6:mt=0,qn=null,ao(t,r,d,6);break;case 8:md(),It=6;break e;default:throw Error(a(462))}}u1();break}catch(W){Yy(t,W)}while(!0);return gi=rs=null,G.H=l,G.A=h,dt=s,Xe!==null?0:(bt=null,rt=0,Uu(),It)}function u1(){for(;Xe!==null&&!La();)Xy(Xe)}function Xy(t){var r=wy(t.alternate,t,wi);t.memoizedProps=t.pendingProps,r===null?yc(t):Xe=r}function Zy(t){var r=t,s=r.alternate;switch(r.tag){case 15:case 0:r=yy(s,r,r.pendingProps,r.type,void 0,rt);break;case 11:r=yy(s,r,r.pendingProps,r.type.render,r.ref,rt);break;case 5:Nf(r);default:Ay(s,r),r=Xe=Jg(r,wi),r=wy(s,r,wi)}t.memoizedProps=t.pendingProps,r===null?yc(t):Xe=r}function ao(t,r,s,l){gi=rs=null,Nf(r),Xs=null,ml=0;var h=r.return;try{if(Jb(t,h,r,s,rt)){It=1,lc(t,sr(s,t.current)),Xe=null;return}}catch(d){if(h!==null)throw Xe=h,d;It=1,lc(t,sr(s,t.current)),Xe=null;return}r.flags&32768?(ct||l===1?t=!0:eo||(rt&536870912)!==0?t=!1:(Zi=t=!0,(l===2||l===9||l===3||l===6)&&(l=cr.current,l!==null&&l.tag===13&&(l.flags|=16384))),Jy(r,t)):yc(r)}function yc(t){var r=t;do{if((r.flags&32768)!==0){Jy(r,Zi);return}t=r.return;var s=e1(r.alternate,r,wi);if(s!==null){Xe=s;return}if(r=r.sibling,r!==null){Xe=r;return}Xe=r=t}while(r!==null);It===0&&(It=5)}function Jy(t,r){do{var s=t1(t.alternate,t);if(s!==null){s.flags&=32767,Xe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(t=t.sibling,t!==null)){Xe=t;return}Xe=t=s}while(t!==null);It=6,Xe=null}function Wy(t,r,s,l,h,d,_,T,I){t.cancelPendingCommit=null;do vc();while(ln!==0);if((dt&6)!==0)throw Error(a(327));if(r!==null){if(r===t.current)throw Error(a(177));if(d=r.lanes|r.childLanes,d|=sf,Li(t,s,d,_,T,I),t===bt&&(Xe=bt=null,rt=0),no=r,ea=t,ro=s,hd=d,fd=h,qy=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,d1(ti,function(){return iv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=ce.p,ce.p=2,_=dt,dt|=4;try{n1(t,r,s)}finally{dt=_,ce.p=h,G.T=l}}ln=1,ev(),tv(),nv()}}function ev(){if(ln===1){ln=0;var t=ea,r=no,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var l=ce.p;ce.p=2;var h=dt;dt|=4;try{Ly(r,t);var d=xd,_=Hg(t.containerInfo),T=d.focusedElem,I=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&Bg(T.ownerDocument.documentElement,T)){if(I!==null&&ef(T)){var F=I.start,W=I.end;if(W===void 0&&(W=F),"selectionStart"in T)T.selectionStart=F,T.selectionEnd=Math.min(W,T.value.length);else{var re=T.ownerDocument||document,$=re&&re.defaultView||window;if($.getSelection){var K=$.getSelection(),Ve=T.textContent.length,Ie=Math.min(I.start,Ve),_t=I.end===void 0?Ie:Math.min(I.end,Ve);!K.extend&&Ie>_t&&(_=_t,_t=Ie,Ie=_);var z=jg(T,Ie),P=jg(T,_t);if(z&&P&&(K.rangeCount!==1||K.anchorNode!==z.node||K.anchorOffset!==z.offset||K.focusNode!==P.node||K.focusOffset!==P.offset)){var H=re.createRange();H.setStart(z.node,z.offset),K.removeAllRanges(),Ie>_t?(K.addRange(H),K.extend(P.node,P.offset)):(H.setEnd(P.node,P.offset),K.addRange(H))}}}}for(re=[],K=T;K=K.parentNode;)K.nodeType===1&&re.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<re.length;T++){var ne=re[T];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Dc=!!Cd,xd=Cd=null}finally{dt=h,ce.p=l,G.T=s}}t.current=r,ln=2}}function tv(){if(ln===2){ln=0;var t=ea,r=no,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var l=ce.p;ce.p=2;var h=dt;dt|=4;try{Oy(t,r.alternate,r)}finally{dt=h,ce.p=l,G.T=s}}ln=3}}function nv(){if(ln===4||ln===3){ln=0,As();var t=ea,r=no,s=ro,l=qy;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?ln=5:(ln=0,no=ea=null,rv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Wi=null),ki(s),r=r.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(ut,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=G.T,h=ce.p,ce.p=2,G.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{G.T=r,ce.p=h}}(ro&3)!==0&&vc(),Fr(t),h=t.pendingLanes,(s&4194090)!==0&&(h&42)!==0?t===dd?wl++:(wl=0,dd=t):wl=0,Sl(0)}}function rv(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,rl(r)))}function vc(t){return ev(),tv(),nv(),iv()}function iv(){if(ln!==5)return!1;var t=ea,r=hd;hd=0;var s=ki(ro),l=G.T,h=ce.p;try{ce.p=32>s?32:s,G.T=null,s=fd,fd=null;var d=ea,_=ro;if(ln=0,no=ea=null,ro=0,(dt&6)!==0)throw Error(a(331));var T=dt;if(dt|=4,By(d.current),Uy(d,d.current,_,s),dt=T,Sl(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(ut,d)}catch{}return!0}finally{ce.p=h,G.T=l,rv(t,r)}}function av(t,r,s){r=sr(s,r),r=Gf(t.stateNode,r,2),t=Fi(t,r,2),t!==null&&(pr(t,2),Fr(t))}function Tt(t,r,s){if(t.tag===3)av(t,t,s);else for(;r!==null;){if(r.tag===3){av(r,t,s);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Wi===null||!Wi.has(l))){t=sr(s,t),s=uy(2),l=Fi(r,s,2),l!==null&&(cy(s,l,r,t),pr(l,2),Fr(l));break}}r=r.return}}function yd(t,r,s){var l=t.pingCache;if(l===null){l=t.pingCache=new a1;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(s)||(od=!0,h.add(s),t=c1.bind(null,t,r,s),r.then(t,t))}function c1(t,r,s){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,bt===t&&(rt&s)===s&&(It===4||It===3&&(rt&62914560)===rt&&300>bn()-cd?(dt&2)===0&&io(t,0):ld|=s,to===rt&&(to=0)),Fr(t)}function sv(t,r){r===0&&(r=Ua()),t=js(t,r),t!==null&&(pr(t,r),Fr(t))}function h1(t){var r=t.memoizedState,s=0;r!==null&&(s=r.retryLane),sv(t,s)}function f1(t,r){var s=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(r),sv(t,s)}function d1(t,r){return ei(t,r)}var _c=null,so=null,vd=!1,Ec=!1,_d=!1,cs=0;function Fr(t){t!==so&&t.next===null&&(so===null?_c=so=t:so=so.next=t),Ec=!0,vd||(vd=!0,g1())}function Sl(t,r){if(!_d&&Ec){_d=!0;do for(var s=!1,l=_c;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Lt(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,cv(l,d))}else d=rt,d=ni(l,l===bt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Jn(l,d)||(s=!0,cv(l,d));l=l.next}while(s);_d=!1}}function m1(){ov()}function ov(){Ec=vd=!1;var t=0;cs!==0&&(w1()&&(t=cs),cs=0);for(var r=bn(),s=null,l=_c;l!==null;){var h=l.next,d=lv(l,r);d===0?(l.next=null,s===null?_c=h:s.next=h,h===null&&(so=s)):(s=l,(t!==0||(d&3)!==0)&&(Ec=!0)),l=h}Sl(t)}function lv(t,r){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-Lt(d),T=1<<_,I=h[_];I===-1?((T&s)===0||(T&l)!==0)&&(h[_]=Pi(T,r)):I<=r&&(t.expiredLanes|=T),d&=~T}if(r=bt,s=rt,s=ni(t,t===r?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===r&&(mt===2||mt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Tn(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Jn(t,s)){if(r=s&-s,r===t.callbackPriority)return r;switch(l!==null&&Tn(l),ki(s)){case 2:case 8:s=Oi;break;case 32:s=ti;break;case 268435456:s=Xn;break;default:s=ti}return l=uv.bind(null,t),s=ei(s,l),t.callbackPriority=r,t.callbackNode=s,r}return l!==null&&l!==null&&Tn(l),t.callbackPriority=2,t.callbackNode=null,2}function uv(t,r){if(ln!==0&&ln!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(vc()&&t.callbackNode!==s)return null;var l=rt;return l=ni(t,t===bt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Gy(t,l,r),lv(t,bn()),t.callbackNode!=null&&t.callbackNode===s?uv.bind(null,t):null)}function cv(t,r){if(vc())return null;Gy(t,r,!0)}function g1(){A1(function(){(dt&6)!==0?ei(ka,m1):ov()})}function Ed(){return cs===0&&(cs=ri()),cs}function hv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:xs(""+t)}function fv(t,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,t.id&&s.setAttribute("form",t.id),r.parentNode.insertBefore(s,r),t=new FormData(t),s.parentNode.removeChild(s),t}function p1(t,r,s,l,h){if(r==="submit"&&s&&s.stateNode===h){var d=hv((h[ue]||null).action),_=l.submitter;_&&(r=(r=_[ue]||null)?hv(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var T=new Is("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(cs!==0){var I=_?fv(h,_):new FormData(h);jf(s,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=_?fv(h,_):new FormData(h),jf(s,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Td=0;Td<af.length;Td++){var bd=af[Td],y1=bd.toLowerCase(),v1=bd[0].toUpperCase()+bd.slice(1);vr(y1,"on"+v1)}vr(Gg,"onAnimationEnd"),vr($g,"onAnimationIteration"),vr(Yg,"onAnimationStart"),vr("dblclick","onDoubleClick"),vr("focusin","onFocus"),vr("focusout","onBlur"),vr(Pb,"onTransitionRun"),vr(Lb,"onTransitionStart"),vr(kb,"onTransitionCancel"),vr(Kg,"onTransitionEnd"),Sn("onMouseEnter",["mouseout","mouseover"]),Sn("onMouseLeave",["mouseout","mouseover"]),Sn("onPointerEnter",["pointerout","pointerover"]),Sn("onPointerLeave",["pointerout","pointerover"]),Ft("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ft("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ft("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ft("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ft("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ft("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function dv(t,r){r=(r&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var T=l[_],I=T.instance,F=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=F;try{d(h)}catch(W){oc(W)}h.currentTarget=null,d=I}else for(_=0;_<l.length;_++){if(T=l[_],I=T.instance,F=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=F;try{d(h)}catch(W){oc(W)}h.currentTarget=null,d=I}}}}function Ze(t,r){var s=r[Re];s===void 0&&(s=r[Re]=new Set);var l=t+"__bubble";s.has(l)||(mv(r,t,2,!1),s.add(l))}function wd(t,r,s){var l=0;r&&(l|=4),mv(s,t,l,r)}var Tc="_reactListening"+Math.random().toString(36).slice(2);function Sd(t){if(!t[Tc]){t[Tc]=!0,Ge.forEach(function(s){s!=="selectionchange"&&(_1.has(s)||wd(s,!1,t),wd(s,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Tc]||(r[Tc]=!0,wd("selectionchange",!1,r))}}function mv(t,r,s,l){switch(Uv(r)){case 2:var h=$1;break;case 8:h=Y1;break;default:h=Ud}s=h.bind(null,r,s,t),h=void 0,!ir||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,s,{capture:!0,passive:h}):t.addEventListener(r,s,!0):h!==void 0?t.addEventListener(r,s,{passive:h}):t.addEventListener(r,s,!1)}function Ad(t,r,s,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=Me(T),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){l=d=_;continue e}T=T.parentNode}}l=l.return}wu(function(){var F=d,W=rr(s),re=[];e:{var $=Qg.get(t);if($!==void 0){var K=Is,Ve=t;switch(t){case"keypress":if(Pr(s)===0)break e;case"keydown":case"keyup":K=Ps;break;case"focusin":Ve="focus",K=Os;break;case"focusout":Ve="blur",K=Os;break;case"beforeblur":case"afterblur":K=Os;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=ar;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Xh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Nu;break;case Gg:case $g:case Yg:K=Ms;break;case Kg:K=Mu;break;case"scroll":case"scrollend":K=Su;break;case"wheel":K=Ls;break;case"copy":case"cut":case"paste":K=Vs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Qo;break;case"toggle":case"beforetoggle":K=Pu}var Ie=(r&4)!==0,_t=!Ie&&(t==="scroll"||t==="scrollend"),z=Ie?$!==null?$+"Capture":null:$;Ie=[];for(var P=F,H;P!==null;){var ne=P;if(H=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||H===null||z===null||(ne=qa(P,z),ne!=null&&Ie.push(Rl(P,ne,H))),_t)break;P=P.return}0<Ie.length&&($=new K($,Ve,null,s,W),re.push({event:$,listeners:Ie}))}}if((r&7)===0){e:{if($=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",$&&s!==si&&(Ve=s.relatedTarget||s.fromElement)&&(Me(Ve)||Ve[ye]))break e;if((K||$)&&($=W.window===W?W:($=W.ownerDocument)?$.defaultView||$.parentWindow:window,K?(Ve=s.relatedTarget||s.toElement,K=F,Ve=Ve?Me(Ve):null,Ve!==null&&(_t=u(Ve),Ie=Ve.tag,Ve!==_t||Ie!==5&&Ie!==27&&Ie!==6)&&(Ve=null)):(K=null,Ve=F),K!==Ve)){if(Ie=ar,ne="onMouseLeave",z="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(Ie=Qo,ne="onPointerLeave",z="onPointerEnter",P="pointer"),_t=K==null?$:ht(K),H=Ve==null?$:ht(Ve),$=new Ie(ne,P+"leave",K,s,W),$.target=_t,$.relatedTarget=H,ne=null,Me(W)===F&&(Ie=new Ie(z,P+"enter",Ve,s,W),Ie.target=H,Ie.relatedTarget=_t,ne=Ie),_t=ne,K&&Ve)t:{for(Ie=K,z=Ve,P=0,H=Ie;H;H=oo(H))P++;for(H=0,ne=z;ne;ne=oo(ne))H++;for(;0<P-H;)Ie=oo(Ie),P--;for(;0<H-P;)z=oo(z),H--;for(;P--;){if(Ie===z||z!==null&&Ie===z.alternate)break t;Ie=oo(Ie),z=oo(z)}Ie=null}else Ie=null;K!==null&&gv(re,$,K,Ie,!1),Ve!==null&&_t!==null&&gv(re,_t,Ve,Ie,!0)}}e:{if($=F?ht(F):window,K=$.nodeName&&$.nodeName.toLowerCase(),K==="select"||K==="input"&&$.type==="file")var Ee=Vg;else if($t($))if(Pg)Ee=Ob;else{Ee=Db;var $e=Ib}else K=$.nodeName,!K||K.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?F&&Ho(F.elementType)&&(Ee=Vg):Ee=Nb;if(Ee&&(Ee=Ee(t,F))){hi(re,Ee,s,W);break e}$e&&$e(t,$,F),t==="focusout"&&F&&$.type==="number"&&F.memoizedProps.value!=null&&zi($,"number",$.value)}switch($e=F?ht(F):window,t){case"focusin":($t($e)||$e.contentEditable==="true")&&(ks=$e,tf=F,Jo=null);break;case"focusout":Jo=tf=ks=null;break;case"mousedown":nf=!0;break;case"contextmenu":case"mouseup":case"dragend":nf=!1,qg(re,s,W);break;case"selectionchange":if(Vb)break;case"keydown":case"keyup":qg(re,s,W)}var Se;if(Ur)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else tt?Z(t,s)&&(Oe="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Oe="onCompositionStart");Oe&&(v&&s.locale!=="ko"&&(tt||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&tt&&(Se=Fo()):(Vr=W,ji="value"in Vr?Vr.value:Vr.textContent,tt=!0)),$e=bc(F,Oe),0<$e.length&&(Oe=new Yo(Oe,t,null,s,W),re.push({event:Oe,listeners:$e}),Se?Oe.data=Se:(Se=fe(s),Se!==null&&(Oe.data=Se)))),(Se=y?Gt(t,s):nt(t,s))&&(Oe=bc(F,"onBeforeInput"),0<Oe.length&&($e=new Yo("onBeforeInput","beforeinput",null,s,W),re.push({event:$e,listeners:Oe}),$e.data=Se)),p1(re,t,F,s,W)}dv(re,r)})}function Rl(t,r,s){return{instance:t,listener:r,currentTarget:s}}function bc(t,r){for(var s=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=qa(t,s),h!=null&&l.unshift(Rl(t,h,d)),h=qa(t,r),h!=null&&l.push(Rl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function oo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function gv(t,r,s,l,h){for(var d=r._reactName,_=[];s!==null&&s!==l;){var T=s,I=T.alternate,F=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||F===null||(I=F,h?(F=qa(s,d),F!=null&&_.unshift(Rl(s,F,I))):h||(F=qa(s,d),F!=null&&_.push(Rl(s,F,I)))),s=s.return}_.length!==0&&t.push({event:r,listeners:_})}var E1=/\r\n?/g,T1=/\u0000|\uFFFD/g;function pv(t){return(typeof t=="string"?t:""+t).replace(E1,`
`).replace(T1,"")}function yv(t,r){return r=pv(r),pv(t)===r}function wc(){}function vt(t,r,s,l,h,d){switch(s){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||nr(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&nr(t,""+l);break;case"className":An(t,"class",l);break;case"tabIndex":An(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":An(t,s,l);break;case"style":Bo(t,l,d);break;case"data":if(r!=="object"){An(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=xs(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(r!=="input"&&vt(t,r,"name",h.name,h,null),vt(t,r,"formEncType",h.formEncType,h,null),vt(t,r,"formMethod",h.formMethod,h,null),vt(t,r,"formTarget",h.formTarget,h,null)):(vt(t,r,"encType",h.encType,h,null),vt(t,r,"method",h.method,h,null),vt(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=xs(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=wc);break;case"onScroll":l!=null&&Ze("scroll",t);break;case"onScrollEnd":l!=null&&Ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=xs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Ze("beforetoggle",t),Ze("toggle",t),mn(t,"popover",l);break;case"xlinkActuate":Le(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Le(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Le(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Le(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Le(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Le(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Le(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Le(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Le(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":mn(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Kh.get(s)||s,mn(t,s,l))}}function Rd(t,r,s,l,h,d){switch(s){case"style":Bo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?nr(t,l):(typeof l=="number"||typeof l=="bigint")&&nr(t,""+l);break;case"onScroll":l!=null&&Ze("scroll",t);break;case"onScrollEnd":l!=null&&Ze("scrollend",t);break;case"onClick":l!=null&&(t.onclick=wc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!er.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),r=s.slice(2,h?s.length-7:void 0),d=t[ue]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(r,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):mn(t,s,l)}}}function un(t,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",t),Ze("load",t);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var _=s[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:vt(t,r,d,_,s,null)}}h&&vt(t,r,"srcSet",s.srcSet,s,null),l&&vt(t,r,"src",s.src,s,null);return;case"input":Ze("invalid",t);var T=d=_=h=null,I=null,F=null;for(l in s)if(s.hasOwnProperty(l)){var W=s[l];if(W!=null)switch(l){case"name":h=W;break;case"type":_=W;break;case"checked":I=W;break;case"defaultChecked":F=W;break;case"value":d=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(a(137,r));break;default:vt(t,r,l,W,s,null)}}ja(t,d,T,I,F,_,h,!1),Cs(t);return;case"select":Ze("invalid",t),l=_=d=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:vt(t,r,h,T,s,null)}r=d,s=_,t.multiple=!!l,r!=null?ai(t,!!l,r,!1):s!=null&&ai(t,!!l,s,!0);return;case"textarea":Ze("invalid",t),d=h=l=null;for(_ in s)if(s.hasOwnProperty(_)&&(T=s[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:vt(t,r,_,T,s,null)}Ba(t,l,h,d),Cs(t);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(l=s[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:vt(t,r,I,l,s,null)}return;case"dialog":Ze("beforetoggle",t),Ze("toggle",t),Ze("cancel",t),Ze("close",t);break;case"iframe":case"object":Ze("load",t);break;case"video":case"audio":for(l=0;l<Al.length;l++)Ze(Al[l],t);break;case"image":Ze("error",t),Ze("load",t);break;case"details":Ze("toggle",t);break;case"embed":case"source":case"link":Ze("error",t),Ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in s)if(s.hasOwnProperty(F)&&(l=s[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:vt(t,r,F,l,s,null)}return;default:if(Ho(r)){for(W in s)s.hasOwnProperty(W)&&(l=s[W],l!==void 0&&Rd(t,r,W,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&vt(t,r,T,l,s,null))}function b1(t,r,s,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,I=null,F=null,W=null;for(K in s){var re=s[K];if(s.hasOwnProperty(K)&&re!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":I=re;default:l.hasOwnProperty(K)||vt(t,r,K,null,l,re)}}for(var $ in l){var K=l[$];if(re=s[$],l.hasOwnProperty($)&&(K!=null||re!=null))switch($){case"type":d=K;break;case"name":h=K;break;case"checked":F=K;break;case"defaultChecked":W=K;break;case"value":_=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,r));break;default:K!==re&&vt(t,r,$,K,l,re)}}Un(t,_,T,I,F,W,d,h);return;case"select":K=_=T=$=null;for(d in s)if(I=s[d],s.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":K=I;default:l.hasOwnProperty(d)||vt(t,r,d,null,l,I)}for(h in l)if(d=l[h],I=s[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":$=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==I&&vt(t,r,h,d,l,I)}r=T,s=_,l=K,$!=null?ai(t,!!s,$,!1):!!l!=!!s&&(r!=null?ai(t,!!s,r,!0):ai(t,!!s,s?[]:"",!1));return;case"textarea":K=$=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:vt(t,r,T,null,l,h)}for(_ in l)if(h=l[_],d=s[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":$=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&vt(t,r,_,h,l,d)}pt(t,$,K);return;case"option":for(var Ve in s)if($=s[Ve],s.hasOwnProperty(Ve)&&$!=null&&!l.hasOwnProperty(Ve))switch(Ve){case"selected":t.selected=!1;break;default:vt(t,r,Ve,null,l,$)}for(I in l)if($=l[I],K=s[I],l.hasOwnProperty(I)&&$!==K&&($!=null||K!=null))switch(I){case"selected":t.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:vt(t,r,I,$,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in s)$=s[Ie],s.hasOwnProperty(Ie)&&$!=null&&!l.hasOwnProperty(Ie)&&vt(t,r,Ie,null,l,$);for(F in l)if($=l[F],K=s[F],l.hasOwnProperty(F)&&$!==K&&($!=null||K!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(a(137,r));break;default:vt(t,r,F,$,l,K)}return;default:if(Ho(r)){for(var _t in s)$=s[_t],s.hasOwnProperty(_t)&&$!==void 0&&!l.hasOwnProperty(_t)&&Rd(t,r,_t,void 0,l,$);for(W in l)$=l[W],K=s[W],!l.hasOwnProperty(W)||$===K||$===void 0&&K===void 0||Rd(t,r,W,$,l,K);return}}for(var z in s)$=s[z],s.hasOwnProperty(z)&&$!=null&&!l.hasOwnProperty(z)&&vt(t,r,z,null,l,$);for(re in l)$=l[re],K=s[re],!l.hasOwnProperty(re)||$===K||$==null&&K==null||vt(t,r,re,$,l,K)}var Cd=null,xd=null;function Sc(t){return t.nodeType===9?t:t.ownerDocument}function vv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _v(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Id(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Dd=null;function w1(){var t=window.event;return t&&t.type==="popstate"?t===Dd?!1:(Dd=t,!0):(Dd=null,!1)}var Ev=typeof setTimeout=="function"?setTimeout:void 0,S1=typeof clearTimeout=="function"?clearTimeout:void 0,Tv=typeof Promise=="function"?Promise:void 0,A1=typeof queueMicrotask=="function"?queueMicrotask:typeof Tv<"u"?function(t){return Tv.resolve(null).then(t).catch(R1)}:Ev;function R1(t){setTimeout(function(){throw t})}function na(t){return t==="head"}function bv(t,r){var s=r,l=0,h=0;do{var d=s.nextSibling;if(t.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<l&&8>l){s=l;var _=t.ownerDocument;if(s&1&&Cl(_.documentElement),s&2&&Cl(_.body),s&4)for(s=_.head,Cl(s),_=s.firstChild;_;){var T=_.nextSibling,I=_.nodeName;_[Ne]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&_.rel.toLowerCase()==="stylesheet"||s.removeChild(_),_=T}}if(h===0){t.removeChild(d),Pl(r);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:l=s.charCodeAt(0)-48;else l=0;s=d}while(s);Pl(r)}function Nd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Nd(s),Ce(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function C1(t,r,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ne])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Er(t.nextSibling),t===null)break}return null}function x1(t,r,s){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Er(t.nextSibling),t===null))return null;return t}function Od(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function I1(t,r){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")r();else{var l=function(){r(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Er(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var Md=null;function wv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return t;r--}else s==="/$"&&r++}t=t.previousSibling}return null}function Sv(t,r,s){switch(r=Sc(s),t){case"html":if(t=r.documentElement,!t)throw Error(a(452));return t;case"head":if(t=r.head,!t)throw Error(a(453));return t;case"body":if(t=r.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Cl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Ce(t)}var fr=new Map,Av=new Set;function Ac(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Si=ce.d;ce.d={f:D1,r:N1,D:O1,C:M1,L:V1,m:P1,X:k1,S:L1,M:U1};function D1(){var t=Si.f(),r=pc();return t||r}function N1(t){var r=Qe(t);r!==null&&r.tag===5&&r.type==="form"?Gp(r):Si.r(t)}var lo=typeof document>"u"?null:document;function Rv(t,r,s){var l=lo;if(l&&typeof r=="string"&&r){var h=Ut(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Av.has(h)||(Av.add(h),t={rel:t,crossOrigin:s,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),un(r,"link",t),et(r),l.head.appendChild(r)))}}function O1(t){Si.D(t),Rv("dns-prefetch",t,null)}function M1(t,r){Si.C(t,r),Rv("preconnect",t,r)}function V1(t,r,s){Si.L(t,r,s);var l=lo;if(l&&t&&r){var h='link[rel="preload"][as="'+Ut(r)+'"]';r==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Ut(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Ut(s.imageSizes)+'"]')):h+='[href="'+Ut(t)+'"]';var d=h;switch(r){case"style":d=uo(t);break;case"script":d=co(t)}fr.has(d)||(t=E({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:t,as:r},s),fr.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(xl(d))||r==="script"&&l.querySelector(Il(d))||(r=l.createElement("link"),un(r,"link",t),et(r),l.head.appendChild(r)))}}function P1(t,r){Si.m(t,r);var s=lo;if(s&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Ut(l)+'"][href="'+Ut(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=co(t)}if(!fr.has(d)&&(t=E({rel:"modulepreload",href:t},r),fr.set(d,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Il(d)))return}l=s.createElement("link"),un(l,"link",t),et(l),s.head.appendChild(l)}}}function L1(t,r,s){Si.S(t,r,s);var l=lo;if(l&&t){var h=ot(l).hoistableStyles,d=uo(t);r=r||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(xl(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},s),(s=fr.get(d))&&Vd(t,s);var I=_=l.createElement("link");et(I),un(I,"link",t),I._p=new Promise(function(F,W){I.onload=F,I.onerror=W}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Rc(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function k1(t,r){Si.X(t,r);var s=lo;if(s&&t){var l=ot(s).hoistableScripts,h=co(t),d=l.get(h);d||(d=s.querySelector(Il(h)),d||(t=E({src:t,async:!0},r),(r=fr.get(h))&&Pd(t,r),d=s.createElement("script"),et(d),un(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function U1(t,r){Si.M(t,r);var s=lo;if(s&&t){var l=ot(s).hoistableScripts,h=co(t),d=l.get(h);d||(d=s.querySelector(Il(h)),d||(t=E({src:t,async:!0,type:"module"},r),(r=fr.get(h))&&Pd(t,r),d=s.createElement("script"),et(d),un(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Cv(t,r,s,l){var h=(h=xe.current)?Ac(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=uo(s.href),s=ot(h).hoistableStyles,l=s.get(r),l||(l={type:"style",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=uo(s.href);var d=ot(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(xl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),fr.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},fr.set(t,s),d||z1(h,t,s,_.state))),r&&l===null)throw Error(a(528,""));return _}if(r&&l!==null)throw Error(a(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=co(s),s=ot(h).hoistableScripts,l=s.get(r),l||(l={type:"script",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function uo(t){return'href="'+Ut(t)+'"'}function xl(t){return'link[rel="stylesheet"]['+t+"]"}function xv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function z1(t,r,s,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),un(r,"link",s),et(r),t.head.appendChild(r))}function co(t){return'[src="'+Ut(t)+'"]'}function Il(t){return"script[async]"+t}function Iv(t,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+Ut(s.href)+'"]');if(l)return r.instance=l,et(l),l;var h=E({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),et(l),un(l,"style",h),Rc(l,s.precedence,t),r.instance=l;case"stylesheet":h=uo(s.href);var d=t.querySelector(xl(h));if(d)return r.state.loading|=4,r.instance=d,et(d),d;l=xv(s),(h=fr.get(h))&&Vd(l,h),d=(t.ownerDocument||t).createElement("link"),et(d);var _=d;return _._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),un(d,"link",l),r.state.loading|=4,Rc(d,s.precedence,t),r.instance=d;case"script":return d=co(s.src),(h=t.querySelector(Il(d)))?(r.instance=h,et(h),h):(l=s,(h=fr.get(d))&&(l=E({},s),Pd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),et(h),un(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Rc(l,s.precedence,t));return r.instance}function Rc(t,r,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===r)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(t,r.firstChild))}function Vd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Pd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Cc=null;function Dv(t,r,s){if(Cc===null){var l=new Map,h=Cc=new Map;h.set(s,l)}else h=Cc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var d=s[h];if(!(d[Ne]||d[ie]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function Nv(t,r,s){t=t.ownerDocument||t,t.head.insertBefore(s,r==="title"?t.querySelector("head > title"):null)}function j1(t,r,s){if(s===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Ov(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Dl=null;function B1(){}function H1(t,r,s){if(Dl===null)throw Error(a(475));var l=Dl;if(r.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=uo(s.href),d=t.querySelector(xl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=xc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,et(d);return}d=t.ownerDocument||t,s=xv(s),(h=fr.get(h))&&Vd(s,h),d=d.createElement("link"),et(d);var _=d;_._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),un(d,"link",s),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=xc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function q1(){if(Dl===null)throw Error(a(475));var t=Dl;return t.stylesheets&&t.count===0&&Ld(t,t.stylesheets),0<t.count?function(r){var s=setTimeout(function(){if(t.stylesheets&&Ld(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(s)}}:null}function xc(){if(this.count--,this.count===0){if(this.stylesheets)Ld(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ic=null;function Ld(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ic=new Map,r.forEach(F1,t),Ic=null,xc.call(t))}function F1(t,r){if(!(r.state.loading&4)){var s=Ic.get(t);if(s)var l=s.get(null);else{s=new Map,Ic.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),l=_)}l&&s.set(null,l)}h=r.instance,_=h.getAttribute("data-precedence"),d=s.get(_)||l,d===l&&s.set(null,h),s.set(_,h),this.count++,l=xc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Nl={$$typeof:se,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function G1(t,r,s,l,h,d,_,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wn(0),this.hiddenUpdates=Wn(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Mv(t,r,s,l,h,d,_,T,I,F,W,re){return t=new G1(t,r,s,_,T,I,F,re),r=1,d===!0&&(r|=24),d=jn(3,null,null,r),t.current=d,d.stateNode=t,r=yf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:r},Tf(d),t}function Vv(t){return t?(t=Bs,t):Bs}function Pv(t,r,s,l,h,d){h=Vv(h),l.context===null?l.context=h:l.pendingContext=h,l=qi(r),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=Fi(t,l,r),s!==null&&(Gn(s,t,r),ol(s,t,r))}function Lv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function kd(t,r){Lv(t,r),(t=t.alternate)&&Lv(t,r)}function kv(t){if(t.tag===13){var r=js(t,67108864);r!==null&&Gn(r,t,67108864),kd(t,67108864)}}var Dc=!0;function $1(t,r,s,l){var h=G.T;G.T=null;var d=ce.p;try{ce.p=2,Ud(t,r,s,l)}finally{ce.p=d,G.T=h}}function Y1(t,r,s,l){var h=G.T;G.T=null;var d=ce.p;try{ce.p=8,Ud(t,r,s,l)}finally{ce.p=d,G.T=h}}function Ud(t,r,s,l){if(Dc){var h=zd(l);if(h===null)Ad(t,r,l,Nc,s),zv(t,l);else if(Q1(h,t,r,s,l))l.stopPropagation();else if(zv(t,l),r&4&&-1<K1.indexOf(t)){for(;h!==null;){var d=Qe(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Pn(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var I=1<<31-Lt(_);T.entanglements[1]|=I,_&=~I}Fr(d),(dt&6)===0&&(mc=bn()+500,Sl(0))}}break;case 13:T=js(d,2),T!==null&&Gn(T,d,2),pc(),kd(d,2)}if(d=zd(l),d===null&&Ad(t,r,l,Nc,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else Ad(t,r,l,null,s)}}function zd(t){return t=rr(t),jd(t)}var Nc=null;function jd(t){if(Nc=null,t=Me(t),t!==null){var r=u(t);if(r===null)t=null;else{var s=r.tag;if(s===13){if(t=f(r),t!==null)return t;t=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Nc=t,null}function Uv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Uo()){case ka:return 2;case Oi:return 8;case ti:case gr:return 32;case Xn:return 268435456;default:return 32}default:return 32}}var Bd=!1,ra=null,ia=null,aa=null,Ol=new Map,Ml=new Map,sa=[],K1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zv(t,r){switch(t){case"focusin":case"focusout":ra=null;break;case"dragenter":case"dragleave":ia=null;break;case"mouseover":case"mouseout":aa=null;break;case"pointerover":case"pointerout":Ol.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(r.pointerId)}}function Vl(t,r,s,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=Qe(r),r!==null&&kv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function Q1(t,r,s,l,h){switch(r){case"focusin":return ra=Vl(ra,t,r,s,l,h),!0;case"dragenter":return ia=Vl(ia,t,r,s,l,h),!0;case"mouseover":return aa=Vl(aa,t,r,s,l,h),!0;case"pointerover":var d=h.pointerId;return Ol.set(d,Vl(Ol.get(d)||null,t,r,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ml.set(d,Vl(Ml.get(d)||null,t,r,s,l,h)),!0}return!1}function jv(t){var r=Me(t.target);if(r!==null){var s=u(r);if(s!==null){if(r=s.tag,r===13){if(r=f(s),r!==null){t.blockedOn=r,j(t.priority,function(){if(s.tag===13){var l=Fn();l=Dr(l);var h=js(s,l);h!==null&&Gn(h,s,l),kd(s,l)}});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var s=zd(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);si=l,s.target.dispatchEvent(l),si=null}else return r=Qe(s),r!==null&&kv(r),t.blockedOn=s,!1;r.shift()}return!0}function Bv(t,r,s){Oc(t)&&s.delete(r)}function X1(){Bd=!1,ra!==null&&Oc(ra)&&(ra=null),ia!==null&&Oc(ia)&&(ia=null),aa!==null&&Oc(aa)&&(aa=null),Ol.forEach(Bv),Ml.forEach(Bv)}function Mc(t,r){t.blockedOn===r&&(t.blockedOn=null,Bd||(Bd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,X1)))}var Vc=null;function Hv(t){Vc!==t&&(Vc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Vc===t&&(Vc=null);for(var r=0;r<t.length;r+=3){var s=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(jd(l||s)===null)continue;break}var d=Qe(s);d!==null&&(t.splice(r,3),r-=3,jf(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Pl(t){function r(I){return Mc(I,t)}ra!==null&&Mc(ra,t),ia!==null&&Mc(ia,t),aa!==null&&Mc(aa,t),Ol.forEach(r),Ml.forEach(r);for(var s=0;s<sa.length;s++){var l=sa[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<sa.length&&(s=sa[0],s.blockedOn===null);)jv(s),s.blockedOn===null&&sa.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],_=h[ue]||null;if(typeof d=="function")_||Hv(s);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[ue]||null)T=_.formAction;else if(jd(h)!==null)continue}else T=_.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),Hv(s)}}}function Hd(t){this._internalRoot=t}Pc.prototype.render=Hd.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(a(409));var s=r.current,l=Fn();Pv(s,l,t,r,null,null)},Pc.prototype.unmount=Hd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Pv(t.current,2,null,t,null,null),pc(),r[ye]=null}};function Pc(t){this._internalRoot=t}Pc.prototype.unstable_scheduleHydration=function(t){if(t){var r=O();t={blockedOn:null,target:t,priority:r};for(var s=0;s<sa.length&&r!==0&&r<sa[s].priority;s++);sa.splice(s,0,t),s===0&&jv(t)}};var qv=e.version;if(qv!=="19.1.0")throw Error(a(527,qv,"19.1.0"));ce.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=g(r),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var Z1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lc.isDisabled&&Lc.supportsFiber)try{ut=Lc.inject(Z1),qe=Lc}catch{}}return kl.createRoot=function(t,r){if(!o(t))throw Error(a(299));var s=!1,l="",h=ay,d=sy,_=oy,T=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=Mv(t,1,!1,null,null,s,l,h,d,_,T,null),t[ye]=r.current,Sd(t),new Hd(r)},kl.hydrateRoot=function(t,r,s){if(!o(t))throw Error(a(299));var l=!1,h="",d=ay,_=sy,T=oy,I=null,F=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(I=s.unstable_transitionCallbacks),s.formState!==void 0&&(F=s.formState)),r=Mv(t,1,!0,r,s??null,l,h,d,_,T,I,F),r.context=Vv(null),s=r.current,l=Fn(),l=Dr(l),h=qi(l),h.callback=null,Fi(s,h,l),s=l,r.current.lanes=s,pr(r,s),Fr(r),t[ye]=r.current,Sd(t),new Pc(r)},kl.version="19.1.0",kl}var Wv;function ow(){if(Wv)return Gd.exports;Wv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Gd.exports=sw(),Gd.exports}var lw=ow(),Ul={},e_;function uw(){if(e_)return Ul;e_=1,Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.parse=f,Ul.serialize=p;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function f(b,M){const L=new u,J=b.length;if(J<2)return L;const X=M?.decode||E;let Y=0;do{const oe=b.indexOf("=",Y);if(oe===-1)break;const se=b.indexOf(";",Y),ge=se===-1?J:se;if(oe>ge){Y=b.lastIndexOf(";",oe-1)+1;continue}const de=m(b,Y,oe),V=g(b,oe,de),x=b.slice(de,V);if(L[x]===void 0){let A=m(b,oe+1,ge),R=g(b,ge,A);const N=X(b.slice(A,R));L[x]=N}Y=ge+1}while(Y<J);return L}function m(b,M,L){do{const J=b.charCodeAt(M);if(J!==32&&J!==9)return M}while(++M<L);return L}function g(b,M,L){for(;M>L;){const J=b.charCodeAt(--M);if(J!==32&&J!==9)return M+1}return L}function p(b,M,L){const J=L?.encode||encodeURIComponent;if(!i.test(b))throw new TypeError(`argument name is invalid: ${b}`);const X=J(M);if(!e.test(X))throw new TypeError(`argument val is invalid: ${M}`);let Y=b+"="+X;if(!L)return Y;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);Y+="; Max-Age="+L.maxAge}if(L.domain){if(!n.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);Y+="; Domain="+L.domain}if(L.path){if(!a.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);Y+="; Path="+L.path}if(L.expires){if(!S(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);Y+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&(Y+="; HttpOnly"),L.secure&&(Y+="; Secure"),L.partitioned&&(Y+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return Y}function E(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function S(b){return o.call(b)==="[object Date]"}return Ul}uw();/**
 * react-router v7.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var tE=i=>{throw TypeError(i)},cw=(i,e,n)=>e.has(i)||tE("Cannot "+n),Qd=(i,e,n)=>(cw(i,e,"read from private field"),n?n.call(i):e.get(i)),hw=(i,e,n)=>e.has(i)?tE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,n),t_="popstate";function fw(i={}){function e(a,o){let{pathname:u,search:f,hash:m}=a.location;return tu("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:Sa(o)}return mw(e,n,null,i)}function Ke(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Mt(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dw(){return Math.random().toString(36).substring(2,10)}function n_(i,e){return{usr:i.state,key:i.key,idx:e}}function tu(i,e,n=null,a){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Ma(e):e,state:n,key:e&&e.key||a||dw()}}function Sa({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Ma(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let a=i.indexOf("?");a>=0&&(e.search=i.substring(a),i=i.substring(0,a)),i&&(e.pathname=i)}return e}function mw(i,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,f=o.history,m="POP",g=null,p=E();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let X=E(),Y=X==null?null:X-p;p=X,g&&g({action:m,location:J.location,delta:Y})}function b(X,Y){m="PUSH";let oe=tu(J.location,X,Y);p=E()+1;let se=n_(oe,p),ge=J.createHref(oe);try{f.pushState(se,"",ge)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;o.location.assign(ge)}u&&g&&g({action:m,location:J.location,delta:1})}function M(X,Y){m="REPLACE";let oe=tu(J.location,X,Y);p=E();let se=n_(oe,p),ge=J.createHref(oe);f.replaceState(se,"",ge),u&&g&&g({action:m,location:J.location,delta:0})}function L(X){return nE(X)}let J={get action(){return m},get location(){return i(o,f)},listen(X){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(t_,S),g=X,()=>{o.removeEventListener(t_,S),g=null}},createHref(X){return e(o,X)},createURL:L,encodeLocation(X){let Y=L(X);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:b,replace:M,go(X){return f.go(X)}};return J}function nE(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ke(n,"No window.location.(origin|href) available to create URL");let a=typeof i=="string"?i:Sa(i);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}var Hl,r_=class{constructor(i){if(hw(this,Hl,new Map),i)for(let[e,n]of i)this.set(e,n)}get(i){if(Qd(this,Hl).has(i))return Qd(this,Hl).get(i);if(i.defaultValue!==void 0)return i.defaultValue;throw new Error("No value found for context")}set(i,e){Qd(this,Hl).set(i,e)}};Hl=new WeakMap;var gw=new Set(["lazy","caseSensitive","path","id","index","children"]);function pw(i){return gw.has(i)}var yw=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function vw(i){return yw.has(i)}function _w(i){return i.index===!0}function ih(i,e,n=[],a={}){return i.map((o,u)=>{let f=[...n,String(u)],m=typeof o.id=="string"?o.id:f.join("-");if(Ke(o.index!==!0||!o.children,"Cannot specify children on an index route"),Ke(!a[m],`Found a route id collision on id "${m}".  Route id's must be globally unique within Data Router usages`),_w(o)){let g={...o,...e(o),id:m};return a[m]=g,g}else{let g={...o,...e(o),id:m,children:void 0};return a[m]=g,o.children&&(g.children=ih(o.children,e,f,a)),g}})}function ca(i,e,n="/"){return Gc(i,e,n,!1)}function Gc(i,e,n,a){let o=typeof e=="string"?Ma(e):e,u=mr(o.pathname||"/",n);if(u==null)return null;let f=rE(i);Tw(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let p=Ow(u);m=Dw(f[g],p,a)}return m}function Ew(i,e){let{route:n,pathname:a,params:o}=i;return{id:n.id,pathname:a,params:o,data:e[n.id],handle:n.handle}}function rE(i,e=[],n=[],a=""){let o=(u,f,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};g.relativePath.startsWith("/")&&(Ke(g.relativePath.startsWith(a),`Absolute route path "${g.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(a.length));let p=Kr([a,g.relativePath]),E=n.concat(g);u.children&&u.children.length>0&&(Ke(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),rE(u.children,e,E,p)),!(u.path==null&&!u.index)&&e.push({path:p,score:xw(p,u.index),routesMeta:E})};return i.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))o(u,f);else for(let m of iE(u.path))o(u,f,m)}),e}function iE(i){let e=i.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let f=iE(a.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function Tw(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:Iw(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var bw=/^:[\w-]+$/,ww=3,Sw=2,Aw=1,Rw=10,Cw=-2,i_=i=>i==="*";function xw(i,e){let n=i.split("/"),a=n.length;return n.some(i_)&&(a+=Cw),e&&(a+=Sw),n.filter(o=>!i_(o)).reduce((o,u)=>o+(bw.test(u)?ww:u===""?Aw:Rw),a)}function Iw(i,e){return i.length===e.length&&i.slice(0,-1).every((a,o)=>a===e[o])?i[i.length-1]-e[e.length-1]:0}function Dw(i,e,n=!1){let{routesMeta:a}=i,o={},u="/",f=[];for(let m=0;m<a.length;++m){let g=a[m],p=m===a.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=ah({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},E),b=g.route;if(!S&&p&&n&&!a[a.length-1].route.index&&(S=ah({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:Kr([u,S.pathname]),pathnameBase:Pw(Kr([u,S.pathnameBase])),route:b}),S.pathnameBase!=="/"&&(u=Kr([u,S.pathnameBase]))}return f}function ah(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,a]=Nw(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((p,{paramName:E,isOptional:S},b)=>{if(E==="*"){let L=m[b]||"";f=u.slice(0,u.length-L.length).replace(/(.)\/+$/,"$1")}const M=m[b];return S&&!M?p[E]=void 0:p[E]=(M||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:f,pattern:i}}function Nw(i,e=!1,n=!0){Mt(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let a=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(a.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(a.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function Ow(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mt(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function mr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=i.charAt(n);return a&&a!=="/"?null:i.slice(n)||"/"}function Mw(i,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof i=="string"?Ma(i):i;return{pathname:n?n.startsWith("/")?n:Vw(n,e):e,search:Lw(a),hash:kw(o)}}function Vw(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Xd(i,e,n,a){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function aE(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Rh(i){let e=aE(i);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function Ch(i,e,n,a=!1){let o;typeof i=="string"?o=Ma(i):(o={...i},Ke(!o.pathname||!o.pathname.includes("?"),Xd("?","pathname","search",o)),Ke(!o.pathname||!o.pathname.includes("#"),Xd("#","pathname","hash",o)),Ke(!o.search||!o.search.includes("#"),Xd("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=e.length-1;if(!a&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),S-=1;o.pathname=b.join("/")}m=S>=0?e[S]:"/"}let g=Mw(o,m),p=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||E)&&(g.pathname+="/"),g}var Kr=i=>i.join("/").replace(/\/\/+/g,"/"),Pw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Lw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,kw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,sh=class{constructor(i,e,n,a=!1){this.status=i,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function nu(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var sE=["POST","PUT","PATCH","DELETE"],Uw=new Set(sE),zw=["GET",...sE],jw=new Set(zw),Bw=new Set([301,302,303,307,308]),Hw=new Set([307,308]),Zd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},qw={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},zl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Fm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fw=i=>({hasErrorBoundary:!!i.hasErrorBoundary}),oE="remix-router-transitions",lE=Symbol("ResetLoaderData");function Gw(i){const e=i.window?i.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Ke(i.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=i.hydrationRouteProperties||[],o=i.mapRouteProperties||Fw,u={},f=ih(i.routes,o,void 0,u),m,g=i.basename||"/",p=i.dataStrategy||Xw,E={unstable_middleware:!1,...i.future},S=null,b=new Set,M=null,L=null,J=null,X=i.hydrationData!=null,Y=ca(f,i.history.location,g),oe=!1,se=null,ge;if(Y==null&&!i.patchRoutesOnNavigation){let O=dr(404,{pathname:i.history.location.pathname}),{matches:j,route:q}=p_(f);ge=!0,Y=j,se={[q.id]:O}}else if(Y&&!i.hydrationData&&wn(Y,f,i.history.location.pathname).active&&(Y=null),Y)if(Y.some(O=>O.route.lazy))ge=!1;else if(!Y.some(O=>O.route.loader))ge=!0;else{let O=i.hydrationData?i.hydrationData.loaderData:null,j=i.hydrationData?i.hydrationData.errors:null;if(j){let q=Y.findIndex(ie=>j[ie.route.id]!==void 0);ge=Y.slice(0,q+1).every(ie=>!dm(ie.route,O,j))}else ge=Y.every(q=>!dm(q.route,O,j))}else{ge=!1,Y=[];let O=wn(null,f,i.history.location.pathname);O.active&&O.matches&&(oe=!0,Y=O.matches)}let de,V={historyAction:i.history.action,location:i.history.location,matches:Y,initialized:ge,navigation:Zd,restoreScrollPosition:i.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:i.hydrationData&&i.hydrationData.loaderData||{},actionData:i.hydrationData&&i.hydrationData.actionData||null,errors:i.hydrationData&&i.hydrationData.errors||se,fetchers:new Map,blockers:new Map},x="POP",A=!1,R,N=!1,k=new Map,U=null,C=!1,Be=!1,We=new Set,G=new Map,ce=0,pe=-1,Ue=new Map,D=new Set,te=new Map,he=new Map,le=new Set,we=new Map,ze,xe=null;function Pt(){if(S=i.history.listen(({action:O,location:j,delta:q})=>{if(ze){ze(),ze=void 0;return}Mt(we.size===0||q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ie=Pi({currentLocation:V.location,nextLocation:j,historyAction:O});if(ie&&q!=null){let ue=new Promise(ye=>{ze=ye});i.history.go(q*-1),Jn(ie,{state:"blocked",location:j,proceed(){Jn(ie,{state:"proceeding",proceed:void 0,reset:void 0,location:j}),ue.then(()=>i.history.go(q))},reset(){let ye=new Map(V.blockers);ye.set(ie,zl),wt({blockers:ye})}});return}return Tn(O,j)}),n){oS(e,k);let O=()=>lS(e,k);e.addEventListener("pagehide",O),U=()=>e.removeEventListener("pagehide",O)}return V.initialized||Tn("POP",V.location,{initialHydration:!0}),de}function gt(){S&&S(),U&&U(),b.clear(),R&&R.abort(),V.fetchers.forEach((O,j)=>Lt(j)),V.blockers.forEach((O,j)=>ni(j))}function Qn(O){return b.add(O),()=>b.delete(O)}function wt(O,j={}){V={...V,...O};let q=[],ie=[];V.fetchers.forEach((ue,ye)=>{ue.state==="idle"&&(le.has(ye)?q.push(ye):ie.push(ye))}),le.forEach(ue=>{!V.fetchers.has(ue)&&!G.has(ue)&&q.push(ue)}),[...b].forEach(ue=>ue(V,{deletedFetchers:q,viewTransitionOpts:j.viewTransitionOpts,flushSync:j.flushSync===!0})),q.forEach(ue=>Lt(ue)),ie.forEach(ue=>V.fetchers.delete(ue))}function fn(O,j,{flushSync:q}={}){let ie=V.actionData!=null&&V.navigation.formMethod!=null&&Yn(V.navigation.formMethod)&&V.navigation.state==="loading"&&O.state?._isRedirect!==!0,ue;j.actionData?Object.keys(j.actionData).length>0?ue=j.actionData:ue=null:ie?ue=V.actionData:ue=null;let ye=j.loaderData?m_(V.loaderData,j.loaderData,j.matches||[],j.errors):V.loaderData,Re=V.blockers;Re.size>0&&(Re=new Map(Re),Re.forEach((Te,Ne)=>Re.set(Ne,zl)));let _e=A===!0||V.navigation.formMethod!=null&&Yn(V.navigation.formMethod)&&O.state?._isRedirect!==!0;m&&(f=m,m=void 0),C||x==="POP"||(x==="PUSH"?i.history.push(O,O.state):x==="REPLACE"&&i.history.replace(O,O.state));let be;if(x==="POP"){let Te=k.get(V.location.pathname);Te&&Te.has(O.pathname)?be={currentLocation:V.location,nextLocation:O}:k.has(O.pathname)&&(be={currentLocation:O,nextLocation:V.location})}else if(N){let Te=k.get(V.location.pathname);Te?Te.add(O.pathname):(Te=new Set([O.pathname]),k.set(V.location.pathname,Te)),be={currentLocation:V.location,nextLocation:O}}wt({...j,actionData:ue,loaderData:ye,historyAction:x,location:O,initialized:!0,navigation:Zd,revalidation:"idle",restoreScrollPosition:Li(O,j.matches||V.matches),preventScrollReset:_e,blockers:Re},{viewTransitionOpts:be,flushSync:q===!0}),x="POP",A=!1,N=!1,C=!1,Be=!1,xe?.resolve(),xe=null}async function Ar(O,j){if(typeof O=="number"){i.history.go(O);return}let q=fm(V.location,V.matches,g,O,j?.fromRouteId,j?.relative),{path:ie,submission:ue,error:ye}=a_(!1,q,j),Re=V.location,_e=tu(V.location,ie,j&&j.state);_e={..._e,...i.history.encodeLocation(_e)};let be=j&&j.replace!=null?j.replace:void 0,Te="PUSH";be===!0?Te="REPLACE":be===!1||ue!=null&&Yn(ue.formMethod)&&ue.formAction===V.location.pathname+V.location.search&&(Te="REPLACE");let Ne=j&&"preventScrollReset"in j?j.preventScrollReset===!0:void 0,Ce=(j&&j.flushSync)===!0,Me=Pi({currentLocation:Re,nextLocation:_e,historyAction:Te});if(Me){Jn(Me,{state:"blocked",location:_e,proceed(){Jn(Me,{state:"proceeding",proceed:void 0,reset:void 0,location:_e}),Ar(O,j)},reset(){let Qe=new Map(V.blockers);Qe.set(Me,zl),wt({blockers:Qe})}});return}await Tn(Te,_e,{submission:ue,pendingError:ye,preventScrollReset:Ne,replace:j&&j.replace,enableViewTransition:j&&j.viewTransition,flushSync:Ce})}function ei(){xe||(xe=uS()),Vi(),wt({revalidation:"loading"});let O=xe.promise;return V.navigation.state==="submitting"?O:V.navigation.state==="idle"?(Tn(V.historyAction,V.location,{startUninterruptedRevalidation:!0}),O):(Tn(x||V.historyAction,V.navigation.location,{overrideNavigation:V.navigation,enableViewTransition:N===!0}),O)}async function Tn(O,j,q){R&&R.abort(),R=null,x=O,C=(q&&q.startUninterruptedRevalidation)===!0,pr(V.location,V.matches),A=(q&&q.preventScrollReset)===!0,N=(q&&q.enableViewTransition)===!0;let ie=m||f,ue=q&&q.overrideNavigation,ye=q?.initialHydration&&V.matches&&V.matches.length>0&&!oe?V.matches:ca(ie,j,g),Re=(q&&q.flushSync)===!0;if(ye&&V.initialized&&!Be&&nS(V.location,j)&&!(q&&q.submission&&Yn(q.submission.formMethod))){fn(j,{matches:ye},{flushSync:Re});return}let _e=wn(ye,ie,j.pathname);if(_e.active&&_e.matches&&(ye=_e.matches),!ye){let{error:ot,notFoundMatches:et,route:Ge}=ri(j.pathname);fn(j,{matches:et,loaderData:{},errors:{[Ge.id]:ot}},{flushSync:Re});return}R=new AbortController;let be=ho(i.history,j,R.signal,q&&q.submission),Te=new r_(i.unstable_getContext?await i.unstable_getContext():void 0),Ne;if(q&&q.pendingError)Ne=[fs(ye).route.id,{type:"error",error:q.pendingError}];else if(q&&q.submission&&Yn(q.submission.formMethod)){let ot=await La(be,j,q.submission,ye,Te,_e.active,q&&q.initialHydration===!0,{replace:q.replace,flushSync:Re});if(ot.shortCircuited)return;if(ot.pendingActionResult){let[et,Ge]=ot.pendingActionResult;if($n(Ge)&&nu(Ge.error)&&Ge.error.status===404){R=null,fn(j,{matches:ot.matches,loaderData:{},errors:{[et]:Ge.error}});return}}ye=ot.matches||ye,Ne=ot.pendingActionResult,ue=Jd(j,q.submission),Re=!1,_e.active=!1,be=ho(i.history,be.url,be.signal)}let{shortCircuited:Ce,matches:Me,loaderData:Qe,errors:ht}=await As(be,j,ye,Te,_e.active,ue,q&&q.submission,q&&q.fetcherSubmission,q&&q.replace,q&&q.initialHydration===!0,Re,Ne);Ce||(R=null,fn(j,{matches:Me||ye,...g_(Ne),loaderData:Qe,errors:ht}))}async function La(O,j,q,ie,ue,ye,Re,_e={}){Vi();let be=aS(j,q);if(wt({navigation:be},{flushSync:_e.flushSync===!0}),ye){let Ce=await Ir(ie,j.pathname,O.signal);if(Ce.type==="aborted")return{shortCircuited:!0};if(Ce.type==="error"){let Me=fs(Ce.partialMatches).route.id;return{matches:Ce.partialMatches,pendingActionResult:[Me,{type:"error",error:Ce.error}]}}else if(Ce.matches)ie=Ce.matches;else{let{notFoundMatches:Me,error:Qe,route:ht}=ri(j.pathname);return{matches:Me,pendingActionResult:[ht.id,{type:"error",error:Qe}]}}}let Te,Ne=ql(ie,j);if(!Ne.route.action&&!Ne.route.lazy)Te={type:"error",error:dr(405,{method:O.method,pathname:j.pathname,routeId:Ne.route.id})};else{let Ce=vo(o,u,O,ie,Ne,Re?[]:a,ue),Me=await Xn(O,Ce,ue,null);if(Te=Me[Ne.route.id],!Te){for(let Qe of ie)if(Me[Qe.route.id]){Te=Me[Qe.route.id];break}}if(O.signal.aborted)return{shortCircuited:!0}}if(ds(Te)){let Ce;return _e&&_e.replace!=null?Ce=_e.replace:Ce=h_(Te.response.headers.get("Location"),new URL(O.url),g)===V.location.pathname+V.location.search,await gr(O,Te,!0,{submission:q,replace:Ce}),{shortCircuited:!0}}if($n(Te)){let Ce=fs(ie,Ne.route.id);return(_e&&_e.replace)!==!0&&(x="PUSH"),{matches:ie,pendingActionResult:[Ce.route.id,Te,Ne.route.id]}}return{matches:ie,pendingActionResult:[Ne.route.id,Te]}}async function As(O,j,q,ie,ue,ye,Re,_e,be,Te,Ne,Ce){let Me=ye||Jd(j,Re),Qe=Re||_e||v_(Me),ht=!C&&!Te;if(ue){if(ht){let kt=bn(Ce);wt({navigation:Me,...kt!==void 0?{actionData:kt}:{}},{flushSync:Ne})}let Le=await Ir(q,j.pathname,O.signal);if(Le.type==="aborted")return{shortCircuited:!0};if(Le.type==="error"){let kt=fs(Le.partialMatches).route.id;return{matches:Le.partialMatches,loaderData:{},errors:{[kt]:Le.error}}}else if(Le.matches)q=Le.matches;else{let{error:kt,notFoundMatches:kn,route:Dn}=ri(j.pathname);return{matches:kn,loaderData:{},errors:{[Dn.id]:kt}}}}let ot=m||f,{dsMatches:et,revalidatingFetchers:Ge}=s_(O,ie,o,u,i.history,V,q,Qe,j,Te?[]:a,Te===!0,Be,We,le,te,D,ot,g,i.patchRoutesOnNavigation!=null,Ce);if(pe=++ce,!i.dataStrategy&&!et.some(Le=>Le.shouldLoad)&&Ge.length===0){let Le=Cr();return fn(j,{matches:q,loaderData:{},errors:Ce&&$n(Ce[1])?{[Ce[0]]:Ce[1].error}:null,...g_(Ce),...Le?{fetchers:new Map(V.fetchers)}:{}},{flushSync:Ne}),{shortCircuited:!0}}if(ht){let Le={};if(!ue){Le.navigation=Me;let kt=bn(Ce);kt!==void 0&&(Le.actionData=kt)}Ge.length>0&&(Le.fetchers=Uo(Ge)),wt(Le,{flushSync:Ne})}Ge.forEach(Le=>{Zn(Le.key),Le.controller&&G.set(Le.key,Le.controller)});let er=()=>Ge.forEach(Le=>Zn(Le.key));R&&R.signal.addEventListener("abort",er);let{loaderResults:Ft,fetcherResults:Sn}=await Mi(et,Ge,O,ie);if(O.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",er),Ge.forEach(Le=>G.delete(Le.key));let rn=kc(Ft);if(rn)return await gr(O,rn.result,!0,{replace:be}),{shortCircuited:!0};if(rn=kc(Sn),rn)return D.add(rn.key),await gr(O,rn.result,!0,{replace:be}),{shortCircuited:!0};let{loaderData:Nr,errors:Ln}=d_(V,q,Ft,Ce,Ge,Sn);Te&&V.errors&&(Ln={...V.errors,...Ln});let Ui=Cr(),mn=xr(pe),An=Ui||mn||Ge.length>0;return{matches:q,loaderData:Nr,errors:Ln,...An?{fetchers:new Map(V.fetchers)}:{}}}function bn(O){if(O&&!$n(O[1]))return{[O[0]]:O[1].data};if(V.actionData)return Object.keys(V.actionData).length===0?null:V.actionData}function Uo(O){return O.forEach(j=>{let q=V.fetchers.get(j.key),ie=jl(void 0,q?q.data:void 0);V.fetchers.set(j.key,ie)}),new Map(V.fetchers)}async function ka(O,j,q,ie){Zn(O);let ue=(ie&&ie.flushSync)===!0,ye=m||f,Re=fm(V.location,V.matches,g,q,j,ie?.relative),_e=ca(ye,Re,g),be=wn(_e,ye,Re);if(be.active&&be.matches&&(_e=be.matches),!_e){qe(O,j,dr(404,{pathname:Re}),{flushSync:ue});return}let{path:Te,submission:Ne,error:Ce}=a_(!0,Re,ie);if(Ce){qe(O,j,Ce,{flushSync:ue});return}let Me=ql(_e,Te),Qe=new r_(i.unstable_getContext?await i.unstable_getContext():void 0),ht=(ie&&ie.preventScrollReset)===!0;if(Ne&&Yn(Ne.formMethod)){await Oi(O,j,Te,Me,_e,Qe,be.active,ue,ht,Ne);return}te.set(O,{routeId:j,path:Te}),await ti(O,j,Te,Me,_e,Qe,be.active,ue,ht,Ne)}async function Oi(O,j,q,ie,ue,ye,Re,_e,be,Te){Vi(),te.delete(O);function Ne(Et){if(!Et.route.action&&!Et.route.lazy){let tr=dr(405,{method:Te.formMethod,pathname:q,routeId:j});return qe(O,j,tr,{flushSync:_e}),!0}return!1}if(!Re&&Ne(ie))return;let Ce=V.fetchers.get(O);ut(O,sS(Te,Ce),{flushSync:_e});let Me=new AbortController,Qe=ho(i.history,q,Me.signal,Te);if(Re){let Et=await Ir(ue,q,Qe.signal,O);if(Et.type==="aborted")return;if(Et.type==="error"){qe(O,j,Et.error,{flushSync:_e});return}else if(Et.matches){if(ue=Et.matches,ie=ql(ue,q),Ne(ie))return}else{qe(O,j,dr(404,{pathname:q}),{flushSync:_e});return}}G.set(O,Me);let ht=ce,ot=vo(o,u,Qe,ue,ie,a,ye),Ge=(await Xn(Qe,ot,ye,O))[ie.route.id];if(Qe.signal.aborted){G.get(O)===Me&&G.delete(O);return}if(le.has(O)){if(ds(Ge)||$n(Ge)){ut(O,ua(void 0));return}}else{if(ds(Ge))if(G.delete(O),pe>ht){ut(O,ua(void 0));return}else return D.add(O),ut(O,jl(Te)),gr(Qe,Ge,!1,{fetcherSubmission:Te,preventScrollReset:be});if($n(Ge)){qe(O,j,Ge.error);return}}let er=V.navigation.location||V.location,Ft=ho(i.history,er,Me.signal),Sn=m||f,rn=V.navigation.state!=="idle"?ca(Sn,V.navigation.location,g):V.matches;Ke(rn,"Didn't find any matches after fetcher action");let Nr=++ce;Ue.set(O,Nr);let Ln=jl(Te,Ge.data);V.fetchers.set(O,Ln);let{dsMatches:Ui,revalidatingFetchers:mn}=s_(Ft,ye,o,u,i.history,V,rn,Te,er,a,!1,Be,We,le,te,D,Sn,g,i.patchRoutesOnNavigation!=null,[ie.route.id,Ge]);mn.filter(Et=>Et.key!==O).forEach(Et=>{let tr=Et.key,ii=V.fetchers.get(tr),an=jl(void 0,ii?ii.data:void 0);V.fetchers.set(tr,an),Zn(tr),Et.controller&&G.set(tr,Et.controller)}),wt({fetchers:new Map(V.fetchers)});let An=()=>mn.forEach(Et=>Zn(Et.key));Me.signal.addEventListener("abort",An);let{loaderResults:Le,fetcherResults:kt}=await Mi(Ui,mn,Ft,ye);if(Me.signal.aborted)return;if(Me.signal.removeEventListener("abort",An),Ue.delete(O),G.delete(O),mn.forEach(Et=>G.delete(Et.key)),V.fetchers.has(O)){let Et=ua(Ge.data);V.fetchers.set(O,Et)}let kn=kc(Le);if(kn)return gr(Ft,kn.result,!1,{preventScrollReset:be});if(kn=kc(kt),kn)return D.add(kn.key),gr(Ft,kn.result,!1,{preventScrollReset:be});let{loaderData:Dn,errors:Or}=d_(V,rn,Le,void 0,mn,kt);xr(Nr),V.navigation.state==="loading"&&Nr>pe?(Ke(x,"Expected pending action"),R&&R.abort(),fn(V.navigation.location,{matches:rn,loaderData:Dn,errors:Or,fetchers:new Map(V.fetchers)})):(wt({errors:Or,loaderData:m_(V.loaderData,Dn,rn,Or),fetchers:new Map(V.fetchers)}),Be=!1)}async function ti(O,j,q,ie,ue,ye,Re,_e,be,Te){let Ne=V.fetchers.get(O);ut(O,jl(Te,Ne?Ne.data:void 0),{flushSync:_e});let Ce=new AbortController,Me=ho(i.history,q,Ce.signal);if(Re){let Ge=await Ir(ue,q,Me.signal,O);if(Ge.type==="aborted")return;if(Ge.type==="error"){qe(O,j,Ge.error,{flushSync:_e});return}else if(Ge.matches)ue=Ge.matches,ie=ql(ue,q);else{qe(O,j,dr(404,{pathname:q}),{flushSync:_e});return}}G.set(O,Ce);let Qe=ce,ht=vo(o,u,Me,ue,ie,a,ye),et=(await Xn(Me,ht,ye,O))[ie.route.id];if(G.get(O)===Ce&&G.delete(O),!Me.signal.aborted){if(le.has(O)){ut(O,ua(void 0));return}if(ds(et))if(pe>Qe){ut(O,ua(void 0));return}else{D.add(O),await gr(Me,et,!1,{preventScrollReset:be});return}if($n(et)){qe(O,j,et.error);return}ut(O,ua(et.data))}}async function gr(O,j,q,{submission:ie,fetcherSubmission:ue,preventScrollReset:ye,replace:Re}={}){j.response.headers.has("X-Remix-Revalidate")&&(Be=!0);let _e=j.response.headers.get("Location");Ke(_e,"Expected a Location header on the redirect Response"),_e=h_(_e,new URL(O.url),g);let be=tu(V.location,_e,{_isRedirect:!0});if(n){let ht=!1;if(j.response.headers.has("X-Remix-Reload-Document"))ht=!0;else if(Fm.test(_e)){const ot=nE(_e,!0);ht=ot.origin!==e.location.origin||mr(ot.pathname,g)==null}if(ht){Re?e.location.replace(_e):e.location.assign(_e);return}}R=null;let Te=Re===!0||j.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ne,formAction:Ce,formEncType:Me}=V.navigation;!ie&&!ue&&Ne&&Ce&&Me&&(ie=v_(V.navigation));let Qe=ie||ue;if(Hw.has(j.response.status)&&Qe&&Yn(Qe.formMethod))await Tn(Te,be,{submission:{...Qe,formAction:_e},preventScrollReset:ye||A,enableViewTransition:q?N:void 0});else{let ht=Jd(be,ie);await Tn(Te,be,{overrideNavigation:ht,fetcherSubmission:ue,preventScrollReset:ye||A,enableViewTransition:q?N:void 0})}}async function Xn(O,j,q,ie){let ue,ye={};try{ue=await Zw(p,O,j,ie,q,!1)}catch(Re){return j.filter(_e=>_e.shouldLoad).forEach(_e=>{ye[_e.route.id]={type:"error",error:Re}}),ye}if(O.signal.aborted)return ye;for(let[Re,_e]of Object.entries(ue))if(rS(_e)){let be=_e.result;ye[Re]={type:"redirect",response:eS(be,O,Re,j,g)}}else ye[Re]=await Ww(_e);return ye}async function Mi(O,j,q,ie){let ue=Xn(q,O,ie,null),ye=Promise.all(j.map(async be=>{if(be.matches&&be.match&&be.request&&be.controller){let Ne=(await Xn(be.request,be.matches,ie,be.key))[be.match.route.id];return{[be.key]:Ne}}else return Promise.resolve({[be.key]:{type:"error",error:dr(404,{pathname:be.path})}})})),Re=await ue,_e=(await ye).reduce((be,Te)=>Object.assign(be,Te),{});return{loaderResults:Re,fetcherResults:_e}}function Vi(){Be=!0,te.forEach((O,j)=>{G.has(j)&&We.add(j),Zn(j)})}function ut(O,j,q={}){V.fetchers.set(O,j),wt({fetchers:new Map(V.fetchers)},{flushSync:(q&&q.flushSync)===!0})}function qe(O,j,q,ie={}){let ue=fs(V.matches,j);Lt(O),wt({errors:{[ue.route.id]:q},fetchers:new Map(V.fetchers)},{flushSync:(ie&&ie.flushSync)===!0})}function dn(O){return he.set(O,(he.get(O)||0)+1),le.has(O)&&le.delete(O),V.fetchers.get(O)||qw}function Lt(O){let j=V.fetchers.get(O);G.has(O)&&!(j&&j.state==="loading"&&Ue.has(O))&&Zn(O),te.delete(O),Ue.delete(O),D.delete(O),le.delete(O),We.delete(O),V.fetchers.delete(O)}function Rs(O){let j=(he.get(O)||0)-1;j<=0?(he.delete(O),le.add(O)):he.set(O,j),wt({fetchers:new Map(V.fetchers)})}function Zn(O){let j=G.get(O);j&&(j.abort(),G.delete(O))}function Rr(O){for(let j of O){let q=dn(j),ie=ua(q.data);V.fetchers.set(j,ie)}}function Cr(){let O=[],j=!1;for(let q of D){let ie=V.fetchers.get(q);Ke(ie,`Expected fetcher: ${q}`),ie.state==="loading"&&(D.delete(q),O.push(q),j=!0)}return Rr(O),j}function xr(O){let j=[];for(let[q,ie]of Ue)if(ie<O){let ue=V.fetchers.get(q);Ke(ue,`Expected fetcher: ${q}`),ue.state==="loading"&&(Zn(q),Ue.delete(q),j.push(q))}return Rr(j),j.length>0}function Pn(O,j){let q=V.blockers.get(O)||zl;return we.get(O)!==j&&we.set(O,j),q}function ni(O){V.blockers.delete(O),we.delete(O)}function Jn(O,j){let q=V.blockers.get(O)||zl;Ke(q.state==="unblocked"&&j.state==="blocked"||q.state==="blocked"&&j.state==="blocked"||q.state==="blocked"&&j.state==="proceeding"||q.state==="blocked"&&j.state==="unblocked"||q.state==="proceeding"&&j.state==="unblocked",`Invalid blocker state transition: ${q.state} -> ${j.state}`);let ie=new Map(V.blockers);ie.set(O,j),wt({blockers:ie})}function Pi({currentLocation:O,nextLocation:j,historyAction:q}){if(we.size===0)return;we.size>1&&Mt(!1,"A router only supports one blocker at a time");let ie=Array.from(we.entries()),[ue,ye]=ie[ie.length-1],Re=V.blockers.get(ue);if(!(Re&&Re.state==="proceeding")&&ye({currentLocation:O,nextLocation:j,historyAction:q}))return ue}function ri(O){let j=dr(404,{pathname:O}),q=m||f,{matches:ie,route:ue}=p_(q);return{notFoundMatches:ie,route:ue,error:j}}function Ua(O,j,q){if(M=O,J=j,L=q||null,!X&&V.navigation===Zd){X=!0;let ie=Li(V.location,V.matches);ie!=null&&wt({restoreScrollPosition:ie})}return()=>{M=null,J=null,L=null}}function Wn(O,j){return L&&L(O,j.map(ie=>Ew(ie,V.loaderData)))||O.key}function pr(O,j){if(M&&J){let q=Wn(O,j);M[q]=J()}}function Li(O,j){if(M){let q=Wn(O,j),ie=M[q];if(typeof ie=="number")return ie}return null}function wn(O,j,q){if(i.patchRoutesOnNavigation)if(O){if(Object.keys(O[0].params).length>0)return{active:!0,matches:Gc(j,q,g,!0)}}else return{active:!0,matches:Gc(j,q,g,!0)||[]};return{active:!1,matches:null}}async function Ir(O,j,q,ie){if(!i.patchRoutesOnNavigation)return{type:"success",matches:O};let ue=O;for(;;){let ye=m==null,Re=m||f,_e=u;try{await i.patchRoutesOnNavigation({signal:q,path:j,matches:ue,fetcherKey:ie,patch:(Ne,Ce)=>{q.aborted||o_(Ne,Ce,Re,_e,o)}})}catch(Ne){return{type:"error",error:Ne,partialMatches:ue}}finally{ye&&!q.aborted&&(f=[...f])}if(q.aborted)return{type:"aborted"};let be=ca(Re,j,g);if(be)return{type:"success",matches:be};let Te=Gc(Re,j,g,!0);if(!Te||ue.length===Te.length&&ue.every((Ne,Ce)=>Ne.route.id===Te[Ce].route.id))return{type:"success",matches:null};ue=Te}}function Dr(O){u={},m=ih(O,o,void 0,u)}function ki(O,j){let q=m==null;o_(O,j,m||f,u,o),q&&(f=[...f],wt({}))}return de={get basename(){return g},get future(){return E},get state(){return V},get routes(){return f},get window(){return e},initialize:Pt,subscribe:Qn,enableScrollRestoration:Ua,navigate:Ar,fetch:ka,revalidate:ei,createHref:O=>i.history.createHref(O),encodeLocation:O=>i.history.encodeLocation(O),getFetcher:dn,deleteFetcher:Rs,dispose:gt,getBlocker:Pn,deleteBlocker:ni,patchRoutes:ki,_internalFetchControllers:G,_internalSetRoutes:Dr},de}function $w(i){return i!=null&&("formData"in i&&i.formData!=null||"body"in i&&i.body!==void 0)}function fm(i,e,n,a,o,u){let f,m;if(o){f=[];for(let p of e)if(f.push(p),p.route.id===o){m=p;break}}else f=e,m=e[e.length-1];let g=Ch(a||".",Rh(f),mr(i.pathname,n)||i.pathname,u==="path");if(a==null&&(g.search=i.search,g.hash=i.hash),(a==null||a===""||a===".")&&m){let p=Gm(g.search);if(m.route.index&&!p)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&p){let E=new URLSearchParams(g.search),S=E.getAll("index");E.delete("index"),S.filter(M=>M).forEach(M=>E.append("index",M));let b=E.toString();g.search=b?`?${b}`:""}}return n!=="/"&&(g.pathname=g.pathname==="/"?n:Kr([n,g.pathname])),Sa(g)}function a_(i,e,n){if(!n||!$w(n))return{path:e};if(n.formMethod&&!iS(n.formMethod))return{path:e,error:dr(405,{method:n.formMethod})};let a=()=>({path:e,error:dr(400,{type:"invalid-body"})}),u=(n.formMethod||"get").toUpperCase(),f=mE(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Yn(u))return a();let S=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((b,[M,L])=>`${b}${M}=${L}
`,""):String(n.body);return{path:e,submission:{formMethod:u,formAction:f,formEncType:n.formEncType,formData:void 0,json:void 0,text:S}}}else if(n.formEncType==="application/json"){if(!Yn(u))return a();try{let S=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:u,formAction:f,formEncType:n.formEncType,formData:void 0,json:S,text:void 0}}}catch{return a()}}}Ke(typeof FormData=="function","FormData is not available in this environment");let m,g;if(n.formData)m=gm(n.formData),g=n.formData;else if(n.body instanceof FormData)m=gm(n.body),g=n.body;else if(n.body instanceof URLSearchParams)m=n.body,g=f_(m);else if(n.body==null)m=new URLSearchParams,g=new FormData;else try{m=new URLSearchParams(n.body),g=f_(m)}catch{return a()}let p={formMethod:u,formAction:f,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(Yn(p.formMethod))return{path:e,submission:p};let E=Ma(e);return i&&E.search&&Gm(E.search)&&m.append("index",""),E.search=`?${m}`,{path:Sa(E),submission:p}}function s_(i,e,n,a,o,u,f,m,g,p,E,S,b,M,L,J,X,Y,oe,se){let ge=se?$n(se[1])?se[1].error:se[1].data:void 0,de=o.createURL(u.location),V=o.createURL(g),x;if(E&&u.errors){let C=Object.keys(u.errors)[0];x=f.findIndex(Be=>Be.route.id===C)}else if(se&&$n(se[1])){let C=se[0];x=f.findIndex(Be=>Be.route.id===C)-1}let A=se?se[1].statusCode:void 0,R=A&&A>=400,N={currentUrl:de,currentParams:u.matches[0]?.params||{},nextUrl:V,nextParams:f[0].params,...m,actionResult:ge,actionStatus:A},k=f.map((C,Be)=>{let{route:We}=C,G=null;if(x!=null&&Be>x?G=!1:We.lazy?G=!0:We.loader==null?G=!1:E?G=dm(We,u.loaderData,u.errors):Yw(u.loaderData,u.matches[Be],C)&&(G=!0),G!==null)return mm(n,a,i,C,p,e,G);let ce=R?!1:S||de.pathname+de.search===V.pathname+V.search||de.search!==V.search||Kw(u.matches[Be],C),pe={...N,defaultShouldRevalidate:ce},Ue=oh(C,pe);return mm(n,a,i,C,p,e,Ue,pe)}),U=[];return L.forEach((C,Be)=>{if(E||!f.some(he=>he.route.id===C.routeId)||M.has(Be))return;let We=u.fetchers.get(Be),G=We&&We.state!=="idle"&&We.data===void 0,ce=ca(X,C.path,Y);if(!ce){if(oe&&G)return;U.push({key:Be,routeId:C.routeId,path:C.path,matches:null,match:null,request:null,controller:null});return}if(J.has(Be))return;let pe=ql(ce,C.path),Ue=new AbortController,D=ho(o,C.path,Ue.signal),te=null;if(b.has(Be))b.delete(Be),te=vo(n,a,D,ce,pe,p,e);else if(G)S&&(te=vo(n,a,D,ce,pe,p,e));else{let he={...N,defaultShouldRevalidate:R?!1:S};oh(pe,he)&&(te=vo(n,a,D,ce,pe,p,e,he))}te&&U.push({key:Be,routeId:C.routeId,path:C.path,matches:te,match:pe,request:D,controller:Ue})}),{dsMatches:k,revalidatingFetchers:U}}function dm(i,e,n){if(i.lazy)return!0;if(!i.loader)return!1;let a=e!=null&&i.id in e,o=n!=null&&n[i.id]!==void 0;return!a&&o?!1:typeof i.loader=="function"&&i.loader.hydrate===!0?!0:!a&&!o}function Yw(i,e,n){let a=!e||n.route.id!==e.route.id,o=!i.hasOwnProperty(n.route.id);return a||o}function Kw(i,e){let n=i.route.path;return i.pathname!==e.pathname||n!=null&&n.endsWith("*")&&i.params["*"]!==e.params["*"]}function oh(i,e){if(i.route.shouldRevalidate){let n=i.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function o_(i,e,n,a,o){let u;if(i){let g=a[i];Ke(g,`No route found to patch children into: routeId = ${i}`),g.children||(g.children=[]),u=g.children}else u=n;let f=e.filter(g=>!u.some(p=>uE(g,p))),m=ih(f,o,[i||"_","patch",String(u?.length||"0")],a);u.push(...m)}function uE(i,e){return"id"in i&&"id"in e&&i.id===e.id?!0:i.index===e.index&&i.path===e.path&&i.caseSensitive===e.caseSensitive?(!i.children||i.children.length===0)&&(!e.children||e.children.length===0)?!0:i.children.every((n,a)=>e.children?.some(o=>uE(n,o))):!1}var l_=new WeakMap,cE=({key:i,route:e,manifest:n,mapRouteProperties:a})=>{let o=n[e.id];if(Ke(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let u=o.lazy[i];if(!u)return;let f=l_.get(o);f||(f={},l_.set(o,f));let m=f[i];if(m)return m;let g=(async()=>{let p=pw(i),S=o[i]!==void 0&&i!=="hasErrorBoundary";if(p)Mt(!p,"Route property "+i+" is not a supported lazy route property. This property will be ignored."),f[i]=Promise.resolve();else if(S)Mt(!1,`Route "${o.id}" has a static property "${i}" defined. The lazy property will be ignored.`);else{let b=await u();b!=null&&(Object.assign(o,{[i]:b}),Object.assign(o,a(o)))}typeof o.lazy=="object"&&(o.lazy[i]=void 0,Object.values(o.lazy).every(b=>b===void 0)&&(o.lazy=void 0))})();return f[i]=g,g},u_=new WeakMap;function Qw(i,e,n,a,o){let u=n[i.id];if(Ke(u,"No route found in manifest"),!i.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof i.lazy=="function"){let E=u_.get(u);if(E)return{lazyRoutePromise:E,lazyHandlerPromise:E};let S=(async()=>{Ke(typeof i.lazy=="function","No lazy route function found");let b=await i.lazy(),M={};for(let L in b){let J=b[L];if(J===void 0)continue;let X=vw(L),oe=u[L]!==void 0&&L!=="hasErrorBoundary";X?Mt(!X,"Route property "+L+" is not a supported property to be returned from a lazy route function. This property will be ignored."):oe?Mt(!oe,`Route "${u.id}" has a static property "${L}" defined but its lazy function is also returning a value for this property. The lazy route property "${L}" will be ignored.`):M[L]=J}Object.assign(u,M),Object.assign(u,{...a(u),lazy:void 0})})();return u_.set(u,S),S.catch(()=>{}),{lazyRoutePromise:S,lazyHandlerPromise:S}}let f=Object.keys(i.lazy),m=[],g;for(let E of f){if(o&&o.includes(E))continue;let S=cE({key:E,route:i,manifest:n,mapRouteProperties:a});S&&(m.push(S),E===e&&(g=S))}let p=m.length>0?Promise.all(m).then(()=>{}):void 0;return p?.catch(()=>{}),g?.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:g}}async function c_(i){let e=i.matches.filter(o=>o.shouldLoad),n={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,u)=>{n[e[u].route.id]=o}),n}async function Xw(i){return i.matches.some(e=>e.route.unstable_middleware)?hE(i,!1,()=>c_(i),(e,n)=>({[n]:{type:"error",result:e}})):c_(i)}async function hE(i,e,n,a){let{matches:o,request:u,params:f,context:m}=i,g={handlerResult:void 0};try{let p=o.flatMap(S=>S.route.unstable_middleware?S.route.unstable_middleware.map(b=>[S.route.id,b]):[]),E=await fE({request:u,params:f,context:m},p,e,g,n);return e?E:g.handlerResult}catch(p){if(!g.middlewareError)throw p;let E=await a(g.middlewareError.error,g.middlewareError.routeId);return g.handlerResult?Object.assign(g.handlerResult,E):E}}async function fE(i,e,n,a,o,u=0){let{request:f}=i;if(f.signal.aborted)throw f.signal.reason?f.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${f.method} ${f.url}`);let m=e[u];if(!m)return a.handlerResult=await o(),a.handlerResult;let[g,p]=m,E=!1,S,b=async()=>{if(E)throw new Error("You may only call `next()` once per middleware");E=!0,await fE(i,e,n,a,o,u+1)};try{let M=await p({request:i.request,params:i.params,context:i.context},b);return E?M===void 0?S:M:b()}catch(M){throw a.middlewareError?a.middlewareError.error!==M&&(a.middlewareError={routeId:g,error:M}):a.middlewareError={routeId:g,error:M},M}}function dE(i,e,n,a,o){let u=cE({key:"unstable_middleware",route:a.route,manifest:e,mapRouteProperties:i}),f=Qw(a.route,Yn(n.method)?"action":"loader",e,i,o);return{middleware:u,route:f.lazyRoutePromise,handler:f.lazyHandlerPromise}}function mm(i,e,n,a,o,u,f,m=null){let g=!1,p=dE(i,e,n,a,o);return{...a,_lazyPromises:p,shouldLoad:f,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler(E){return g=!0,m?typeof E=="boolean"?oh(a,{...m,defaultShouldRevalidate:E}):oh(a,m):f},resolve(E){return g||f||E&&n.method==="GET"&&(a.route.lazy||a.route.loader)?Jw({request:n,match:a,lazyHandlerPromise:p?.handler,lazyRoutePromise:p?.route,handlerOverride:E,scopedContext:u}):Promise.resolve({type:"data",result:void 0})}}}function vo(i,e,n,a,o,u,f,m=null){return a.map(g=>g.route.id!==o.route.id?{...g,shouldLoad:!1,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler:()=>!1,_lazyPromises:dE(i,e,n,g,u),resolve:()=>Promise.resolve({type:"data",result:void 0})}:mm(i,e,n,g,u,f,!0,m))}async function Zw(i,e,n,a,o,u){n.some(p=>p._lazyPromises?.middleware)&&await Promise.all(n.map(p=>p._lazyPromises?.middleware));let f={request:e,params:n[0].params,context:o,matches:n},g=await i({...f,fetcherKey:a,unstable_runClientMiddleware:p=>{let E=f;return hE(E,!1,()=>p({...E,fetcherKey:a,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(S,b)=>({[b]:{type:"error",result:S}}))}});try{await Promise.all(n.flatMap(p=>[p._lazyPromises?.handler,p._lazyPromises?.route]))}catch{}return g}async function Jw({request:i,match:e,lazyHandlerPromise:n,lazyRoutePromise:a,handlerOverride:o,scopedContext:u}){let f,m,g=Yn(i.method),p=g?"action":"loader",E=S=>{let b,M=new Promise((X,Y)=>b=Y);m=()=>b(),i.signal.addEventListener("abort",m);let L=X=>typeof S!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${e.route.id}]`)):S({request:i,params:e.params,context:u},...X!==void 0?[X]:[]),J=(async()=>{try{return{type:"data",result:await(o?o(Y=>L(Y)):L())}}catch(X){return{type:"error",result:X}}})();return Promise.race([J,M])};try{let S=g?e.route.action:e.route.loader;if(n||a)if(S){let b,[M]=await Promise.all([E(S).catch(L=>{b=L}),n,a]);if(b!==void 0)throw b;f=M}else{await n;let b=g?e.route.action:e.route.loader;if(b)[f]=await Promise.all([E(b),a]);else if(p==="action"){let M=new URL(i.url),L=M.pathname+M.search;throw dr(405,{method:i.method,pathname:L,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(S)f=await E(S);else{let b=new URL(i.url),M=b.pathname+b.search;throw dr(404,{pathname:M})}}catch(S){return{type:"error",result:S}}finally{m&&i.signal.removeEventListener("abort",m)}return f}async function Ww(i){let{result:e,type:n}=i;if(gE(e)){let a;try{let o=e.headers.get("Content-Type");o&&/\bapplication\/json\b/.test(o)?e.body==null?a=null:a=await e.json():a=await e.text()}catch(o){return{type:"error",error:o}}return n==="error"?{type:"error",error:new sh(e.status,e.statusText,a),statusCode:e.status,headers:e.headers}:{type:"data",data:a,statusCode:e.status,headers:e.headers}}return n==="error"?y_(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new sh(e.init?.status||500,void 0,e.data),statusCode:nu(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:nu(e)?e.status:void 0}:y_(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function eS(i,e,n,a,o){let u=i.headers.get("Location");if(Ke(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!Fm.test(u)){let f=a.slice(0,a.findIndex(m=>m.route.id===n)+1);u=fm(new URL(e.url),f,o,u),i.headers.set("Location",u)}return i}function h_(i,e,n){if(Fm.test(i)){let a=i,o=a.startsWith("//")?new URL(e.protocol+a):new URL(a),u=mr(o.pathname,n)!=null;if(o.origin===e.origin&&u)return o.pathname+o.search+o.hash}return i}function ho(i,e,n,a){let o=i.createURL(mE(e)).toString(),u={signal:n};if(a&&Yn(a.formMethod)){let{formMethod:f,formEncType:m}=a;u.method=f.toUpperCase(),m==="application/json"?(u.headers=new Headers({"Content-Type":m}),u.body=JSON.stringify(a.json)):m==="text/plain"?u.body=a.text:m==="application/x-www-form-urlencoded"&&a.formData?u.body=gm(a.formData):u.body=a.formData}return new Request(o,u)}function gm(i){let e=new URLSearchParams;for(let[n,a]of i.entries())e.append(n,typeof a=="string"?a:a.name);return e}function f_(i){let e=new FormData;for(let[n,a]of i.entries())e.append(n,a);return e}function tS(i,e,n,a=!1,o=!1){let u={},f=null,m,g=!1,p={},E=n&&$n(n[1])?n[1].error:void 0;return i.forEach(S=>{if(!(S.route.id in e))return;let b=S.route.id,M=e[b];if(Ke(!ds(M),"Cannot handle redirect results in processLoaderData"),$n(M)){let L=M.error;if(E!==void 0&&(L=E,E=void 0),f=f||{},o)f[b]=L;else{let J=fs(i,b);f[J.route.id]==null&&(f[J.route.id]=L)}a||(u[b]=lE),g||(g=!0,m=nu(M.error)?M.error.status:500),M.headers&&(p[b]=M.headers)}else u[b]=M.data,M.statusCode&&M.statusCode!==200&&!g&&(m=M.statusCode),M.headers&&(p[b]=M.headers)}),E!==void 0&&n&&(f={[n[0]]:E},n[2]&&(u[n[2]]=void 0)),{loaderData:u,errors:f,statusCode:m||200,loaderHeaders:p}}function d_(i,e,n,a,o,u){let{loaderData:f,errors:m}=tS(e,n,a);return o.filter(g=>!g.matches||g.matches.some(p=>p.shouldLoad)).forEach(g=>{let{key:p,match:E,controller:S}=g,b=u[p];if(Ke(b,"Did not find corresponding fetcher result"),!(S&&S.signal.aborted))if($n(b)){let M=fs(i.matches,E?.route.id);m&&m[M.route.id]||(m={...m,[M.route.id]:b.error}),i.fetchers.delete(p)}else if(ds(b))Ke(!1,"Unhandled fetcher revalidation redirect");else{let M=ua(b.data);i.fetchers.set(p,M)}}),{loaderData:f,errors:m}}function m_(i,e,n,a){let o=Object.entries(e).filter(([,u])=>u!==lE).reduce((u,[f,m])=>(u[f]=m,u),{});for(let u of n){let f=u.route.id;if(!e.hasOwnProperty(f)&&i.hasOwnProperty(f)&&u.route.loader&&(o[f]=i[f]),a&&a.hasOwnProperty(f))break}return o}function g_(i){return i?$n(i[1])?{actionData:{}}:{actionData:{[i[0]]:i[1].data}}:{}}function fs(i,e){return(e?i.slice(0,i.findIndex(a=>a.route.id===e)+1):[...i]).reverse().find(a=>a.route.hasErrorBoundary===!0)||i[0]}function p_(i){let e=i.length===1?i[0]:i.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function dr(i,{pathname:e,routeId:n,method:a,type:o,message:u}={}){let f="Unknown Server Error",m="Unknown @remix-run/router error";return i===400?(f="Bad Request",a&&e&&n?m=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:o==="invalid-body"&&(m="Unable to encode submission body")):i===403?(f="Forbidden",m=`Route "${n}" does not match URL "${e}"`):i===404?(f="Not Found",m=`No route matches URL "${e}"`):i===405&&(f="Method Not Allowed",a&&e&&n?m=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:a&&(m=`Invalid request method "${a.toUpperCase()}"`)),new sh(i||500,f,new Error(m),!0)}function kc(i){let e=Object.entries(i);for(let n=e.length-1;n>=0;n--){let[a,o]=e[n];if(ds(o))return{key:a,result:o}}}function mE(i){let e=typeof i=="string"?Ma(i):i;return Sa({...e,hash:""})}function nS(i,e){return i.pathname!==e.pathname||i.search!==e.search?!1:i.hash===""?e.hash!=="":i.hash===e.hash?!0:e.hash!==""}function rS(i){return gE(i.result)&&Bw.has(i.result.status)}function $n(i){return i.type==="error"}function ds(i){return(i&&i.type)==="redirect"}function y_(i){return typeof i=="object"&&i!=null&&"type"in i&&"data"in i&&"init"in i&&i.type==="DataWithResponseInit"}function gE(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.headers=="object"&&typeof i.body<"u"}function iS(i){return jw.has(i.toUpperCase())}function Yn(i){return Uw.has(i.toUpperCase())}function Gm(i){return new URLSearchParams(i).getAll("index").some(e=>e==="")}function ql(i,e){let n=typeof e=="string"?Ma(e).search:e.search;if(i[i.length-1].route.index&&Gm(n||""))return i[i.length-1];let a=aE(i);return a[a.length-1]}function v_(i){let{formMethod:e,formAction:n,formEncType:a,text:o,formData:u,json:f}=i;if(!(!e||!n||!a)){if(o!=null)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:e,formAction:n,formEncType:a,formData:u,json:void 0,text:void 0};if(f!==void 0)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:f,text:void 0}}}function Jd(i,e){return e?{state:"loading",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:i,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function aS(i,e){return{state:"submitting",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function jl(i,e){return i?{state:"loading",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function sS(i,e){return{state:"submitting",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e?e.data:void 0}}function ua(i){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:i}}function oS(i,e){try{let n=i.sessionStorage.getItem(oE);if(n){let a=JSON.parse(n);for(let[o,u]of Object.entries(a||{}))u&&Array.isArray(u)&&e.set(o,new Set(u||[]))}}catch{}}function lS(i,e){if(e.size>0){let n={};for(let[a,o]of e)n[a]=[...o];try{i.sessionStorage.setItem(oE,JSON.stringify(n))}catch(a){Mt(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function uS(){let i,e,n=new Promise((a,o)=>{i=async u=>{a(u);try{await n}catch{}},e=async u=>{o(u);try{await n}catch{}}});return{promise:n,resolve:i,reject:e}}var ws=Q.createContext(null);ws.displayName="DataRouter";var cu=Q.createContext(null);cu.displayName="DataRouterState";var $m=Q.createContext({isTransitioning:!1});$m.displayName="ViewTransition";var pE=Q.createContext(new Map);pE.displayName="Fetchers";var cS=Q.createContext(null);cS.displayName="Await";var wr=Q.createContext(null);wr.displayName="Navigation";var xh=Q.createContext(null);xh.displayName="Location";var Sr=Q.createContext({outlet:null,matches:[],isDataRoute:!1});Sr.displayName="Route";var Ym=Q.createContext(null);Ym.displayName="RouteError";function hS(i,{relative:e}={}){Ke(No(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=Q.useContext(wr),{hash:o,pathname:u,search:f}=hu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Kr([n,u])),a.createHref({pathname:m,search:f,hash:o})}function No(){return Q.useContext(xh)!=null}function Va(){return Ke(No(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(xh).location}var yE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vE(i){Q.useContext(wr).static||Q.useLayoutEffect(i)}function Km(){let{isDataRoute:i}=Q.useContext(Sr);return i?AS():fS()}function fS(){Ke(No(),"useNavigate() may be used only in the context of a <Router> component.");let i=Q.useContext(ws),{basename:e,navigator:n}=Q.useContext(wr),{matches:a}=Q.useContext(Sr),{pathname:o}=Va(),u=JSON.stringify(Rh(a)),f=Q.useRef(!1);return vE(()=>{f.current=!0}),Q.useCallback((g,p={})=>{if(Mt(f.current,yE),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=Ch(g,JSON.parse(u),o,p.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Kr([e,E.pathname])),(p.replace?n.replace:n.push)(E,p.state,p)},[e,n,u,o,i])}Q.createContext(null);function dS(){let{matches:i}=Q.useContext(Sr),e=i[i.length-1];return e?e.params:{}}function hu(i,{relative:e}={}){let{matches:n}=Q.useContext(Sr),{pathname:a}=Va(),o=JSON.stringify(Rh(n));return Q.useMemo(()=>Ch(i,JSON.parse(o),a,e==="path"),[i,o,a,e])}function mS(i,e,n,a){Ke(No(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=Q.useContext(wr),{matches:u}=Q.useContext(Sr),f=u[u.length-1],m=f?f.params:{},g=f?f.pathname:"/",p=f?f.pathnameBase:"/",E=f&&f.route;{let Y=E&&E.path||"";_E(g,!E||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let S=Va(),b;b=S;let M=b.pathname||"/",L=M;if(p!=="/"){let Y=p.replace(/^\//,"").split("/");L="/"+M.replace(/^\//,"").split("/").slice(Y.length).join("/")}let J=ca(i,{pathname:L});return Mt(E||J!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Mt(J==null||J[J.length-1].route.element!==void 0||J[J.length-1].route.Component!==void 0||J[J.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),_S(J&&J.map(Y=>Object.assign({},Y,{params:Object.assign({},m,Y.params),pathname:Kr([p,o.encodeLocation?o.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?p:Kr([p,o.encodeLocation?o.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),u,n,a)}function gS(){let i=SS(),e=nu(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=Q.createElement(Q.Fragment,null,Q.createElement("p",null," Hey developer "),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:u},"ErrorBoundary")," or"," ",Q.createElement("code",{style:u},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),n?Q.createElement("pre",{style:o},n):null,f)}var pS=Q.createElement(gS,null),yS=class extends Q.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?Q.createElement(Sr.Provider,{value:this.props.routeContext},Q.createElement(Ym.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vS({routeContext:i,match:e,children:n}){let a=Q.useContext(ws);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(Sr.Provider,{value:i},n)}function _S(i,e=[],n=null,a=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n?.errors;if(u!=null){let g=o.findIndex(p=>p.route.id&&u?.[p.route.id]!==void 0);Ke(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let f=!1,m=-1;if(n)for(let g=0;g<o.length;g++){let p=o[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(m=g),p.route.id){let{loaderData:E,errors:S}=n,b=p.route.loader&&!E.hasOwnProperty(p.route.id)&&(!S||S[p.route.id]===void 0);if(p.route.lazy||b){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,p,E)=>{let S,b=!1,M=null,L=null;n&&(S=u&&p.route.id?u[p.route.id]:void 0,M=p.route.errorElement||pS,f&&(m<0&&E===0?(_E("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,L=null):m===E&&(b=!0,L=p.route.hydrateFallbackElement||null)));let J=e.concat(o.slice(0,E+1)),X=()=>{let Y;return S?Y=M:b?Y=L:p.route.Component?Y=Q.createElement(p.route.Component,null):p.route.element?Y=p.route.element:Y=g,Q.createElement(vS,{match:p,routeContext:{outlet:g,matches:J,isDataRoute:n!=null},children:Y})};return n&&(p.route.ErrorBoundary||p.route.errorElement||E===0)?Q.createElement(yS,{location:n.location,revalidation:n.revalidation,component:M,error:S,children:X(),routeContext:{outlet:null,matches:J,isDataRoute:!0}}):X()},null)}function Qm(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ES(i){let e=Q.useContext(ws);return Ke(e,Qm(i)),e}function TS(i){let e=Q.useContext(cu);return Ke(e,Qm(i)),e}function bS(i){let e=Q.useContext(Sr);return Ke(e,Qm(i)),e}function Xm(i){let e=bS(i),n=e.matches[e.matches.length-1];return Ke(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function wS(){return Xm("useRouteId")}function SS(){let i=Q.useContext(Ym),e=TS("useRouteError"),n=Xm("useRouteError");return i!==void 0?i:e.errors?.[n]}function AS(){let{router:i}=ES("useNavigate"),e=Xm("useNavigate"),n=Q.useRef(!1);return vE(()=>{n.current=!0}),Q.useCallback(async(o,u={})=>{Mt(n.current,yE),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var __={};function _E(i,e,n){!e&&!__[i]&&(__[i]=!0,Mt(!1,n))}var E_={};function T_(i,e){!i&&!E_[e]&&(E_[e]=!0,console.warn(e))}function RS(i){let e={hasErrorBoundary:i.hasErrorBoundary||i.ErrorBoundary!=null||i.errorElement!=null};return i.Component&&(i.element&&Mt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:Q.createElement(i.Component),Component:void 0})),i.HydrateFallback&&(i.hydrateFallbackElement&&Mt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:Q.createElement(i.HydrateFallback),HydrateFallback:void 0})),i.ErrorBoundary&&(i.errorElement&&Mt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:Q.createElement(i.ErrorBoundary),ErrorBoundary:void 0})),e}var CS=["HydrateFallback","hydrateFallbackElement"],xS=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",n(a))}})}};function IS({router:i,flushSync:e}){let[n,a]=Q.useState(i.state),[o,u]=Q.useState(),[f,m]=Q.useState({isTransitioning:!1}),[g,p]=Q.useState(),[E,S]=Q.useState(),[b,M]=Q.useState(),L=Q.useRef(new Map),J=Q.useCallback((se,{deletedFetchers:ge,flushSync:de,viewTransitionOpts:V})=>{se.fetchers.forEach((A,R)=>{A.data!==void 0&&L.current.set(R,A.data)}),ge.forEach(A=>L.current.delete(A)),T_(de===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let x=i.window!=null&&i.window.document!=null&&typeof i.window.document.startViewTransition=="function";if(T_(V==null||x,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!V||!x){e&&de?e(()=>a(se)):Q.startTransition(()=>a(se));return}if(e&&de){e(()=>{E&&(g&&g.resolve(),E.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:V.currentLocation,nextLocation:V.nextLocation})});let A=i.window.document.startViewTransition(()=>{e(()=>a(se))});A.finished.finally(()=>{e(()=>{p(void 0),S(void 0),u(void 0),m({isTransitioning:!1})})}),e(()=>S(A));return}E?(g&&g.resolve(),E.skipTransition(),M({state:se,currentLocation:V.currentLocation,nextLocation:V.nextLocation})):(u(se),m({isTransitioning:!0,flushSync:!1,currentLocation:V.currentLocation,nextLocation:V.nextLocation}))},[i.window,e,E,g]);Q.useLayoutEffect(()=>i.subscribe(J),[i,J]),Q.useEffect(()=>{f.isTransitioning&&!f.flushSync&&p(new xS)},[f]),Q.useEffect(()=>{if(g&&o&&i.window){let se=o,ge=g.promise,de=i.window.document.startViewTransition(async()=>{Q.startTransition(()=>a(se)),await ge});de.finished.finally(()=>{p(void 0),S(void 0),u(void 0),m({isTransitioning:!1})}),S(de)}},[o,g,i.window]),Q.useEffect(()=>{g&&o&&n.location.key===o.location.key&&g.resolve()},[g,E,n.location,o]),Q.useEffect(()=>{!f.isTransitioning&&b&&(u(b.state),m({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),M(void 0))},[f.isTransitioning,b]);let X=Q.useMemo(()=>({createHref:i.createHref,encodeLocation:i.encodeLocation,go:se=>i.navigate(se),push:(se,ge,de)=>i.navigate(se,{state:ge,preventScrollReset:de?.preventScrollReset}),replace:(se,ge,de)=>i.navigate(se,{replace:!0,state:ge,preventScrollReset:de?.preventScrollReset})}),[i]),Y=i.basename||"/",oe=Q.useMemo(()=>({router:i,navigator:X,static:!1,basename:Y}),[i,X,Y]);return Q.createElement(Q.Fragment,null,Q.createElement(ws.Provider,{value:oe},Q.createElement(cu.Provider,{value:n},Q.createElement(pE.Provider,{value:L.current},Q.createElement($m.Provider,{value:f},Q.createElement(MS,{basename:Y,location:n.location,navigationType:n.historyAction,navigator:X},Q.createElement(DS,{routes:i.routes,future:i.future,state:n})))))),null)}var DS=Q.memo(NS);function NS({routes:i,future:e,state:n}){return mS(i,void 0,n,e)}function OS({to:i,replace:e,state:n,relative:a}){Ke(No(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=Q.useContext(wr);Mt(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=Q.useContext(Sr),{pathname:f}=Va(),m=Km(),g=Ch(i,Rh(u),f,a==="path"),p=JSON.stringify(g);return Q.useEffect(()=>{m(JSON.parse(p),{replace:e,state:n,relative:a})},[m,p,a,e,n]),null}function MS({basename:i="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){Ke(!No(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=Q.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Ma(n));let{pathname:g="/",search:p="",hash:E="",state:S=null,key:b="default"}=n,M=Q.useMemo(()=>{let L=mr(g,f);return L==null?null:{location:{pathname:L,search:p,hash:E,state:S,key:b},navigationType:a}},[f,g,p,E,S,b,a]);return Mt(M!=null,`<Router basename="${f}"> is not able to match the URL "${g}${p}${E}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:Q.createElement(wr.Provider,{value:m},Q.createElement(xh.Provider,{children:e,value:M}))}var $c="get",Yc="application/x-www-form-urlencoded";function Ih(i){return i!=null&&typeof i.tagName=="string"}function VS(i){return Ih(i)&&i.tagName.toLowerCase()==="button"}function PS(i){return Ih(i)&&i.tagName.toLowerCase()==="form"}function LS(i){return Ih(i)&&i.tagName.toLowerCase()==="input"}function kS(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function US(i,e){return i.button===0&&(!e||e==="_self")&&!kS(i)}var Uc=null;function zS(){if(Uc===null)try{new FormData(document.createElement("form"),0),Uc=!1}catch{Uc=!0}return Uc}var jS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wd(i){return i!=null&&!jS.has(i)?(Mt(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yc}"`),null):i}function BS(i,e){let n,a,o,u,f;if(PS(i)){let m=i.getAttribute("action");a=m?mr(m,e):null,n=i.getAttribute("method")||$c,o=Wd(i.getAttribute("enctype"))||Yc,u=new FormData(i)}else if(VS(i)||LS(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(a=g?mr(g,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||$c,o=Wd(i.getAttribute("formenctype"))||Wd(m.getAttribute("enctype"))||Yc,u=new FormData(m,i),!zS()){let{name:p,type:E,value:S}=i;if(E==="image"){let b=p?`${p}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else p&&u.append(p,S)}}else{if(Ih(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$c,a=null,o=Yc,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:f}}function Zm(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function HS(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qS(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function FS(i,e,n){let a=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await HS(u,n);return f.links?f.links():[]}return[]}));return KS(a.flat(1).filter(qS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function b_(i,e,n,a,o,u){let f=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>n[p].pathname!==g.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,p)=>f(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{let E=a.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function GS(i,e,{includeHydrateFallback:n}={}){return $S(i.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function $S(i){return[...new Set(i)]}function YS(i){let e={},n=Object.keys(i).sort();for(let a of n)e[a]=i[a];return e}function KS(i,e){let n=new Set;return new Set(e),i.reduce((a,o)=>{let u=JSON.stringify(YS(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var QS=new Set([100,101,204,205]);function XS(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&mr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function EE(){let i=Q.useContext(ws);return Zm(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function ZS(){let i=Q.useContext(cu);return Zm(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Jm=Q.createContext(void 0);Jm.displayName="FrameworkContext";function TE(){let i=Q.useContext(Jm);return Zm(i,"You must render this element inside a <HydratedRouter> element"),i}function JS(i,e){let n=Q.useContext(Jm),[a,o]=Q.useState(!1),[u,f]=Q.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:E,onTouchStart:S}=e,b=Q.useRef(null);Q.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let J=Y=>{Y.forEach(oe=>{f(oe.isIntersecting)})},X=new IntersectionObserver(J,{threshold:.5});return b.current&&X.observe(b.current),()=>{X.disconnect()}}},[i]),Q.useEffect(()=>{if(a){let J=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(J)}}},[a]);let M=()=>{o(!0)},L=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,b,{}]:[u,b,{onFocus:Bl(m,M),onBlur:Bl(g,L),onMouseEnter:Bl(p,M),onMouseLeave:Bl(E,L),onTouchStart:Bl(S,M)}]:[!1,b,{}]}function Bl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function WS({page:i,...e}){let{router:n}=EE(),a=Q.useMemo(()=>ca(n.routes,i,n.basename),[n.routes,i,n.basename]);return a?Q.createElement(tA,{page:i,matches:a,...e}):null}function eA(i){let{manifest:e,routeModules:n}=TE(),[a,o]=Q.useState([]);return Q.useEffect(()=>{let u=!1;return FS(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),a}function tA({page:i,matches:e,...n}){let a=Va(),{manifest:o,routeModules:u}=TE(),{basename:f}=EE(),{loaderData:m,matches:g}=ZS(),p=Q.useMemo(()=>b_(i,e,g,o,a,"data"),[i,e,g,o,a]),E=Q.useMemo(()=>b_(i,e,g,o,a,"assets"),[i,e,g,o,a]),S=Q.useMemo(()=>{if(i===a.pathname+a.search+a.hash)return[];let L=new Set,J=!1;if(e.forEach(Y=>{let oe=o.routes[Y.route.id];!oe||!oe.hasLoader||(!p.some(se=>se.route.id===Y.route.id)&&Y.route.id in m&&u[Y.route.id]?.shouldRevalidate||oe.hasClientLoader?J=!0:L.add(Y.route.id))}),L.size===0)return[];let X=XS(i,f);return J&&L.size>0&&X.searchParams.set("_routes",e.filter(Y=>L.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[X.pathname+X.search]},[f,m,a,o,p,e,i,u]),b=Q.useMemo(()=>GS(E,o),[E,o]),M=eA(E);return Q.createElement(Q.Fragment,null,S.map(L=>Q.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...n})),b.map(L=>Q.createElement("link",{key:L,rel:"modulepreload",href:L,...n})),M.map(({key:L,link:J})=>Q.createElement("link",{key:L,...J})))}function nA(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var bE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bE&&(window.__reactRouterVersion="7.6.3")}catch{}function rA(i,e){return Gw({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:fw({window:e?.window}),hydrationData:iA(),routes:i,mapRouteProperties:RS,hydrationRouteProperties:CS,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function iA(){let i=window?.__staticRouterHydrationData;return i&&i.errors&&(i={...i,errors:aA(i.errors)}),i}function aA(i){if(!i)return null;let e=Object.entries(i),n={};for(let[a,o]of e)if(o&&o.__type==="RouteErrorResponse")n[a]=new sh(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let f=new u(o.message);f.stack="",n[a]=f}catch{}}if(n[a]==null){let u=new Error(o.message);u.stack="",n[a]=u}}else n[a]=o;return n}var wE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,SE=Q.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:p,preventScrollReset:E,viewTransition:S,...b},M){let{basename:L}=Q.useContext(wr),J=typeof p=="string"&&wE.test(p),X,Y=!1;if(typeof p=="string"&&J&&(X=p,bE))try{let R=new URL(window.location.href),N=p.startsWith("//")?new URL(R.protocol+p):new URL(p),k=mr(N.pathname,L);N.origin===R.origin&&k!=null?p=k+N.search+N.hash:Y=!0}catch{Mt(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let oe=hS(p,{relative:o}),[se,ge,de]=JS(a,b),V=uA(p,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:S});function x(R){e&&e(R),R.defaultPrevented||V(R)}let A=Q.createElement("a",{...b,...de,href:X||oe,onClick:Y||u?e:x,ref:nA(M,ge),target:g,"data-discover":!J&&n==="render"?"true":void 0});return se&&!J?Q.createElement(Q.Fragment,null,A,Q.createElement(WS,{page:oe})):A});SE.displayName="Link";var sA=Q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...p},E){let S=hu(f,{relative:p.relative}),b=Va(),M=Q.useContext(cu),{navigator:L,basename:J}=Q.useContext(wr),X=M!=null&&mA(S)&&m===!0,Y=L.encodeLocation?L.encodeLocation(S).pathname:S.pathname,oe=b.pathname,se=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(oe=oe.toLowerCase(),se=se?se.toLowerCase():null,Y=Y.toLowerCase()),se&&J&&(se=mr(se,J)||se);const ge=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let de=oe===Y||!o&&oe.startsWith(Y)&&oe.charAt(ge)==="/",V=se!=null&&(se===Y||!o&&se.startsWith(Y)&&se.charAt(Y.length)==="/"),x={isActive:de,isPending:V,isTransitioning:X},A=de?e:void 0,R;typeof a=="function"?R=a(x):R=[a,de?"active":null,V?"pending":null,X?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(x):u;return Q.createElement(SE,{...p,"aria-current":A,className:R,ref:E,style:N,to:f,viewTransition:m},typeof g=="function"?g(x):g)});sA.displayName="NavLink";var oA=Q.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:f=$c,action:m,onSubmit:g,relative:p,preventScrollReset:E,viewTransition:S,...b},M)=>{let L=fA(),J=dA(m,{relative:p}),X=f.toLowerCase()==="get"?"get":"post",Y=typeof m=="string"&&wE.test(m),oe=se=>{if(g&&g(se),se.defaultPrevented)return;se.preventDefault();let ge=se.nativeEvent.submitter,de=ge?.getAttribute("formmethod")||f;L(ge||se.currentTarget,{fetcherKey:e,method:de,navigate:n,replace:o,state:u,relative:p,preventScrollReset:E,viewTransition:S})};return Q.createElement("form",{ref:M,method:X,action:J,onSubmit:a?g:oe,...b,"data-discover":!Y&&i==="render"?"true":void 0})});oA.displayName="Form";function lA(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AE(i){let e=Q.useContext(ws);return Ke(e,lA(i)),e}function uA(i,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Km(),g=Va(),p=hu(i,{relative:u});return Q.useCallback(E=>{if(US(E,e)){E.preventDefault();let S=n!==void 0?n:Sa(g)===Sa(p);m(i,{replace:S,state:a,preventScrollReset:o,relative:u,viewTransition:f})}},[g,m,p,n,a,e,i,o,u,f])}var cA=0,hA=()=>`__${String(++cA)}__`;function fA(){let{router:i}=AE("useSubmit"),{basename:e}=Q.useContext(wr),n=wS();return Q.useCallback(async(a,o={})=>{let{action:u,method:f,encType:m,formData:g,body:p}=BS(a,e);if(o.navigate===!1){let E=o.fetcherKey||hA();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function dA(i,{relative:e}={}){let{basename:n}=Q.useContext(wr),a=Q.useContext(Sr);Ke(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...hu(i||".",{relative:e})},f=Va();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Kr([n,u.pathname])),Sa(u)}function mA(i,e={}){let n=Q.useContext($m);Ke(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=AE("useViewTransitionState"),o=hu(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=mr(n.currentLocation.pathname,a)||n.currentLocation.pathname,f=mr(n.nextLocation.pathname,a)||n.nextLocation.pathname;return ah(o.pathname,f)!=null||ah(o.pathname,u)!=null}[...QS];var gA=eE();/**
 * react-router v7.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pA(i){return Q.createElement(IS,{flushSync:gA.flushSync,...i})}var RE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},w_=gs.createContext&&gs.createContext(RE),yA=["attr","size","title"];function vA(i,e){if(i==null)return{};var n=_A(i,e),a,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(o=0;o<u.length;o++)a=u[o],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(n[a]=i[a])}return n}function _A(i,e){if(i==null)return{};var n={};for(var a in i)if(Object.prototype.hasOwnProperty.call(i,a)){if(e.indexOf(a)>=0)continue;n[a]=i[a]}return n}function lh(){return lh=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a])}return i},lh.apply(this,arguments)}function S_(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,a)}return n}function uh(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S_(Object(n),!0).forEach(function(a){EA(i,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):S_(Object(n)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(n,a))})}return i}function EA(i,e,n){return e=TA(e),e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function TA(i){var e=bA(i,"string");return typeof e=="symbol"?e:e+""}function bA(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var a=n.call(i,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function CE(i){return i&&i.map((e,n)=>gs.createElement(e.tag,uh({key:n},e.attr),CE(e.child)))}function Kn(i){return e=>gs.createElement(wA,lh({attr:uh({},i.attr)},e),CE(i.child))}function wA(i){var e=n=>{var{attr:a,size:o,title:u}=i,f=vA(i,yA),m=o||n.size||"1em",g;return n.className&&(g=n.className),i.className&&(g=(g?g+" ":"")+i.className),gs.createElement("svg",lh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,f,{className:g,style:uh(uh({color:i.color||n.color},n.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&gs.createElement("title",null,u),i.children)};return w_!==void 0?gs.createElement(w_.Consumer,null,n=>e(n)):e(RE)}function SA(i){return Kn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(i)}function AA(i){return Kn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},child:[]},{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"},child:[]}]})(i)}function A_(i){return Kn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"},child:[]},{tag:"rect",attr:{x:"2",y:"9",width:"4",height:"12"},child:[]},{tag:"circle",attr:{cx:"4",cy:"4",r:"2"},child:[]}]})(i)}function RA(i){return Kn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},child:[]}]})(i)}function CA(i){return Kn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"16"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"},child:[]}]})(i)}function R_(i){return Kn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"path",attr:{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"},child:[]}]})(i)}function xA(i){return Kn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(i)}function Kc(i){return Kn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(i)}function IA(i){return Kn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 15.546c-.523 0-1.046.151-1.5.454a2.704 2.704 0 01-3 0 2.704 2.704 0 00-3 0 2.704 2.704 0 01-3 0 2.704 2.704 0 00-3 0 2.704 2.704 0 01-3 0 2.701 2.701 0 00-1.5-.454M9 6v2m3-2v2m3-2v2M9 3h.01M12 3h.01M15 3h.01M21 21v-7a2 2 0 00-2-2H5a2 2 0 00-2 2v7h18zm-3-9v-2a2 2 0 00-2-2H8a2 2 0 00-2 2v2h12z"},child:[]}]})(i)}function DA(i){return Kn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"},child:[]}]})(i)}function NA(i){return Kn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5a2.5 2.5 0 0 1 0-5 2.5 2.5 0 0 1 0 5z"},child:[]}]})(i)}function OA(i){return Kn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"},child:[]}]})(i)}function MA(i){return Kn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 48C141.13 48 48 141.13 48 256s93.13 208 208 208 208-93.13 208-208S370.87 48 256 48z"},child:[]},{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 48c-58.07 0-112.67 93.13-112.67 208S197.93 464 256 464s112.67-93.13 112.67-208S314.07 48 256 48z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M117.33 117.33c38.24 27.15 86.38 43.34 138.67 43.34s100.43-16.19 138.67-43.34m0 277.34c-38.24-27.15-86.38-43.34-138.67-43.34s-100.43 16.19-138.67 43.34"},child:[]},{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 48v416m208-208H48"},child:[]}]})(i)}const VA=()=>{};var C_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=function(i){const e=[];let n=0;for(let a=0;a<i.length;a++){let o=i.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},PA=function(i){const e=[];let n=0,a=0;for(;n<i.length;){const o=i[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],f=i[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},IE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,g=o+2<i.length,p=g?i[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let b=(m&15)<<2|p>>6,M=p&63;g||(M=64,f||(b=64)),a.push(n[E],n[S],n[b],n[M])}return a.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(xE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):PA(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const p=o<i.length?n[i.charAt(o)]:64;++o;const S=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||p==null||S==null)throw new LA;const b=u<<2|m>>4;if(a.push(b),p!==64){const M=m<<4&240|p>>2;if(a.push(M),S!==64){const L=p<<6&192|S;a.push(L)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class LA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kA=function(i){const e=xE(i);return IE.encodeByteArray(e,!0)},ch=function(i){return kA(i).replace(/\./g,"")},DE=function(i){try{return IE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA=()=>UA().__FIREBASE_DEFAULTS__,jA=()=>{if(typeof process>"u"||typeof C_>"u")return;const i=C_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},BA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&DE(i[1]);return e&&JSON.parse(e)},Dh=()=>{try{return VA()||zA()||jA()||BA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},NE=i=>{var e,n;return(n=(e=Dh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},HA=i=>{const e=NE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},OE=()=>{var i;return(i=Dh())===null||i===void 0?void 0:i.config},ME=i=>{var e;return(e=Dh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function VE(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[ch(JSON.stringify(n)),ch(JSON.stringify(f)),""].join(".")}const Kl={};function GA(){const i={prod:[],emulator:[]};for(const e of Object.keys(Kl))Kl[e]?i.emulator.push(e):i.prod.push(e);return i}function $A(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let x_=!1;function PE(i,e){if(typeof window>"u"||typeof document>"u"||!Oo(window.location.host)||Kl[i]===e||Kl[i]||x_)return;Kl[i]=e;function n(b){return`__firebase__banner__${b}`}const a="__firebase__banner",u=GA().prod.length>0;function f(){const b=document.getElementById(a);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function g(b,M){b.setAttribute("width","24"),b.setAttribute("id",M),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{x_=!0,f()},b}function E(b,M){b.setAttribute("id",M),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function S(){const b=$A(a),M=n("text"),L=document.getElementById(M)||document.createElement("span"),J=n("learnmore"),X=document.getElementById(J)||document.createElement("a"),Y=n("preprendIcon"),oe=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const se=b.element;m(se),E(X,J);const ge=p();g(oe,Y),se.append(oe,L,X,ge),document.body.appendChild(se)}u?(L.innerText="Preview backend disconnected.",oe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(oe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function KA(){var i;const e=(i=Dh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XA(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function ZA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JA(){const i=En();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function WA(){return!KA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eR(){try{return typeof indexedDB=="object"}catch{return!1}}function tR(){return new Promise((i,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="FirebaseError";class Ni extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=nR,Object.setPrototypeOf(this,Ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fu.prototype.create)}}class fu{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?rR(u,a):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Ni(o,m,a)}}function rR(i,e){return i.replace(iR,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const iR=/\{\$([^}]+)}/g;function aR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function _s(i,e){if(i===e)return!0;const n=Object.keys(i),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=i[o],f=e[o];if(I_(u)&&I_(f)){if(!_s(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function I_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(i){const e=[];for(const[n,a]of Object.entries(i))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function sR(i,e){const n=new oR(i,e);return n.subscribe.bind(n)}class oR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");lR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=em),o.error===void 0&&(o.error=em),o.complete===void 0&&(o.complete=em);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lR(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function em(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pa(i){return i&&i._delegate?i._delegate:i}class Es{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new qA;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e?.identifier),o=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hR(e))try{this.getOrInitializeService({instanceIdentifier:hs})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hs){return this.instances.has(e)}getOptions(e=hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&f.resolve(o)}return o}onInit(e,n){var a;const o=this.normalizeInstanceIdentifier(n),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:cR(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=hs){return this.component?this.component.multipleInstances?e:hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cR(i){return i===hs?void 0:i}function hR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Je||(Je={}));const dR={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},mR=Je.INFO,gR={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},pR=(i,e,...n)=>{if(e<i.logLevel)return;const a=new Date().toISOString(),o=gR[e];if(o)console[o](`[${a}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wm{constructor(e){this.name=e,this._logLevel=mR,this._logHandler=pR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}}const yR=(i,e)=>e.some(n=>i instanceof n);let D_,N_;function vR(){return D_||(D_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _R(){return N_||(N_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LE=new WeakMap,pm=new WeakMap,kE=new WeakMap,tm=new WeakMap,eg=new WeakMap;function ER(i){const e=new Promise((n,a)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(ya(i.result)),o()},f=()=>{a(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&LE.set(n,i)}).catch(()=>{}),eg.set(e,i),e}function TR(i){if(pm.has(i))return;const e=new Promise((n,a)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{a(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});pm.set(i,e)}let ym={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return pm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||kE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ya(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function bR(i){ym=i(ym)}function wR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=i.call(nm(this),e,...n);return kE.set(a,e.sort?e.sort():[e]),ya(a)}:_R().includes(i)?function(...e){return i.apply(nm(this),e),ya(LE.get(this))}:function(...e){return ya(i.apply(nm(this),e))}}function SR(i){return typeof i=="function"?wR(i):(i instanceof IDBTransaction&&TR(i),yR(i,vR())?new Proxy(i,ym):i)}function ya(i){if(i instanceof IDBRequest)return ER(i);if(tm.has(i))return tm.get(i);const e=SR(i);return e!==i&&(tm.set(i,e),eg.set(e,i)),e}const nm=i=>eg.get(i);function AR(i,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=ya(f);return a&&f.addEventListener("upgradeneeded",g=>{a(ya(f.result),g.oldVersion,g.newVersion,ya(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const RR=["get","getKey","getAll","getAllKeys","count"],CR=["put","add","delete","clear"],rm=new Map;function O_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(rm.get(e))return rm.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=CR.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||RR.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let p=g.store;return a&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return rm.set(e,u),u}bR(i=>({...i,get:(e,n,a)=>O_(e,n)||i.get(e,n,a),has:(e,n)=>!!O_(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(IR(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function IR(i){const e=i.getComponent();return e?.type==="VERSION"}const vm="@firebase/app",M_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=new Wm("@firebase/app"),DR="@firebase/app-compat",NR="@firebase/analytics-compat",OR="@firebase/analytics",MR="@firebase/app-check-compat",VR="@firebase/app-check",PR="@firebase/auth",LR="@firebase/auth-compat",kR="@firebase/database",UR="@firebase/data-connect",zR="@firebase/database-compat",jR="@firebase/functions",BR="@firebase/functions-compat",HR="@firebase/installations",qR="@firebase/installations-compat",FR="@firebase/messaging",GR="@firebase/messaging-compat",$R="@firebase/performance",YR="@firebase/performance-compat",KR="@firebase/remote-config",QR="@firebase/remote-config-compat",XR="@firebase/storage",ZR="@firebase/storage-compat",JR="@firebase/firestore",WR="@firebase/ai",e2="@firebase/firestore-compat",t2="firebase",n2="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="[DEFAULT]",r2={[vm]:"fire-core",[DR]:"fire-core-compat",[OR]:"fire-analytics",[NR]:"fire-analytics-compat",[VR]:"fire-app-check",[MR]:"fire-app-check-compat",[PR]:"fire-auth",[LR]:"fire-auth-compat",[kR]:"fire-rtdb",[UR]:"fire-data-connect",[zR]:"fire-rtdb-compat",[jR]:"fire-fn",[BR]:"fire-fn-compat",[HR]:"fire-iid",[qR]:"fire-iid-compat",[FR]:"fire-fcm",[GR]:"fire-fcm-compat",[$R]:"fire-perf",[YR]:"fire-perf-compat",[KR]:"fire-rc",[QR]:"fire-rc-compat",[XR]:"fire-gcs",[ZR]:"fire-gcs-compat",[JR]:"fire-fst",[e2]:"fire-fst-compat",[WR]:"fire-vertex","fire-js":"fire-js",[t2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new Map,i2=new Map,Em=new Map;function V_(i,e){try{i.container.addComponent(e)}catch(n){Ci.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function So(i){const e=i.name;if(Em.has(e))return Ci.debug(`There were multiple attempts to register component ${e}.`),!1;Em.set(e,i);for(const n of hh.values())V_(n,i);for(const n of i2.values())V_(n,i);return!0}function tg(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Tr(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},va=new fu("app","Firebase",a2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Es("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw va.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=n2;function UE(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const a=Object.assign({name:_m,automaticDataCollectionEnabled:!0},e),o=a.name;if(typeof o!="string"||!o)throw va.create("bad-app-name",{appName:String(o)});if(n||(n=OE()),!n)throw va.create("no-options");const u=hh.get(o);if(u){if(_s(n,u.options)&&_s(a,u.config))return u;throw va.create("duplicate-app",{appName:o})}const f=new fR(o);for(const g of Em.values())f.addComponent(g);const m=new s2(n,a,f);return hh.set(o,m),m}function zE(i=_m){const e=hh.get(i);if(!e&&i===_m&&OE())return UE();if(!e)throw va.create("no-app",{appName:i});return e}function _a(i,e,n){var a;let o=(a=r2[i])!==null&&a!==void 0?a:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ci.warn(m.join(" "));return}So(new Es(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="firebase-heartbeat-database",l2=1,ru="firebase-heartbeat-store";let im=null;function jE(){return im||(im=AR(o2,l2,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(ru)}catch(n){console.warn(n)}}}}).catch(i=>{throw va.create("idb-open",{originalErrorMessage:i.message})})),im}async function u2(i){try{const n=(await jE()).transaction(ru),a=await n.objectStore(ru).get(BE(i));return await n.done,a}catch(e){if(e instanceof Ni)Ci.warn(e.message);else{const n=va.create("idb-get",{originalErrorMessage:e?.message});Ci.warn(n.message)}}}async function P_(i,e){try{const a=(await jE()).transaction(ru,"readwrite");await a.objectStore(ru).put(e,BE(i)),await a.done}catch(n){if(n instanceof Ni)Ci.warn(n.message);else{const a=va.create("idb-set",{originalErrorMessage:n?.message});Ci.warn(a.message)}}}function BE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=1024,h2=30;class f2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new m2(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=L_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>h2){const f=g2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Ci.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=L_(),{heartbeatsToSend:a,unsentEntries:o}=d2(this._heartbeatsCache.heartbeats),u=ch(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Ci.warn(n),""}}}function L_(){return new Date().toISOString().substring(0,10)}function d2(i,e=c2){const n=[];let a=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),k_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),k_(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class m2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eR()?tR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await u2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return P_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return P_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function k_(i){return ch(JSON.stringify({version:2,heartbeats:i})).length}function g2(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let a=1;a<i.length;a++)i[a].date<n&&(n=i[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(i){So(new Es("platform-logger",e=>new xR(e),"PRIVATE")),So(new Es("heartbeat",e=>new f2(e),"PRIVATE")),_a(vm,M_,i),_a(vm,M_,"esm2017"),_a("fire-js","")}p2("");var U_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ea,HE;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,A){function R(){}R.prototype=A.prototype,x.D=A.prototype,x.prototype=new R,x.prototype.constructor=x,x.C=function(N,k,U){for(var C=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)C[Be-2]=arguments[Be];return A.prototype[k].apply(N,C)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,A,R){R||(R=0);var N=Array(16);if(typeof A=="string")for(var k=0;16>k;++k)N[k]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(k=0;16>k;++k)N[k]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=x.g[0],R=x.g[1],k=x.g[2];var U=x.g[3],C=A+(U^R&(k^U))+N[0]+3614090360&4294967295;A=R+(C<<7&4294967295|C>>>25),C=U+(k^A&(R^k))+N[1]+3905402710&4294967295,U=A+(C<<12&4294967295|C>>>20),C=k+(R^U&(A^R))+N[2]+606105819&4294967295,k=U+(C<<17&4294967295|C>>>15),C=R+(A^k&(U^A))+N[3]+3250441966&4294967295,R=k+(C<<22&4294967295|C>>>10),C=A+(U^R&(k^U))+N[4]+4118548399&4294967295,A=R+(C<<7&4294967295|C>>>25),C=U+(k^A&(R^k))+N[5]+1200080426&4294967295,U=A+(C<<12&4294967295|C>>>20),C=k+(R^U&(A^R))+N[6]+2821735955&4294967295,k=U+(C<<17&4294967295|C>>>15),C=R+(A^k&(U^A))+N[7]+4249261313&4294967295,R=k+(C<<22&4294967295|C>>>10),C=A+(U^R&(k^U))+N[8]+1770035416&4294967295,A=R+(C<<7&4294967295|C>>>25),C=U+(k^A&(R^k))+N[9]+2336552879&4294967295,U=A+(C<<12&4294967295|C>>>20),C=k+(R^U&(A^R))+N[10]+4294925233&4294967295,k=U+(C<<17&4294967295|C>>>15),C=R+(A^k&(U^A))+N[11]+2304563134&4294967295,R=k+(C<<22&4294967295|C>>>10),C=A+(U^R&(k^U))+N[12]+1804603682&4294967295,A=R+(C<<7&4294967295|C>>>25),C=U+(k^A&(R^k))+N[13]+4254626195&4294967295,U=A+(C<<12&4294967295|C>>>20),C=k+(R^U&(A^R))+N[14]+2792965006&4294967295,k=U+(C<<17&4294967295|C>>>15),C=R+(A^k&(U^A))+N[15]+1236535329&4294967295,R=k+(C<<22&4294967295|C>>>10),C=A+(k^U&(R^k))+N[1]+4129170786&4294967295,A=R+(C<<5&4294967295|C>>>27),C=U+(R^k&(A^R))+N[6]+3225465664&4294967295,U=A+(C<<9&4294967295|C>>>23),C=k+(A^R&(U^A))+N[11]+643717713&4294967295,k=U+(C<<14&4294967295|C>>>18),C=R+(U^A&(k^U))+N[0]+3921069994&4294967295,R=k+(C<<20&4294967295|C>>>12),C=A+(k^U&(R^k))+N[5]+3593408605&4294967295,A=R+(C<<5&4294967295|C>>>27),C=U+(R^k&(A^R))+N[10]+38016083&4294967295,U=A+(C<<9&4294967295|C>>>23),C=k+(A^R&(U^A))+N[15]+3634488961&4294967295,k=U+(C<<14&4294967295|C>>>18),C=R+(U^A&(k^U))+N[4]+3889429448&4294967295,R=k+(C<<20&4294967295|C>>>12),C=A+(k^U&(R^k))+N[9]+568446438&4294967295,A=R+(C<<5&4294967295|C>>>27),C=U+(R^k&(A^R))+N[14]+3275163606&4294967295,U=A+(C<<9&4294967295|C>>>23),C=k+(A^R&(U^A))+N[3]+4107603335&4294967295,k=U+(C<<14&4294967295|C>>>18),C=R+(U^A&(k^U))+N[8]+1163531501&4294967295,R=k+(C<<20&4294967295|C>>>12),C=A+(k^U&(R^k))+N[13]+2850285829&4294967295,A=R+(C<<5&4294967295|C>>>27),C=U+(R^k&(A^R))+N[2]+4243563512&4294967295,U=A+(C<<9&4294967295|C>>>23),C=k+(A^R&(U^A))+N[7]+1735328473&4294967295,k=U+(C<<14&4294967295|C>>>18),C=R+(U^A&(k^U))+N[12]+2368359562&4294967295,R=k+(C<<20&4294967295|C>>>12),C=A+(R^k^U)+N[5]+4294588738&4294967295,A=R+(C<<4&4294967295|C>>>28),C=U+(A^R^k)+N[8]+2272392833&4294967295,U=A+(C<<11&4294967295|C>>>21),C=k+(U^A^R)+N[11]+1839030562&4294967295,k=U+(C<<16&4294967295|C>>>16),C=R+(k^U^A)+N[14]+4259657740&4294967295,R=k+(C<<23&4294967295|C>>>9),C=A+(R^k^U)+N[1]+2763975236&4294967295,A=R+(C<<4&4294967295|C>>>28),C=U+(A^R^k)+N[4]+1272893353&4294967295,U=A+(C<<11&4294967295|C>>>21),C=k+(U^A^R)+N[7]+4139469664&4294967295,k=U+(C<<16&4294967295|C>>>16),C=R+(k^U^A)+N[10]+3200236656&4294967295,R=k+(C<<23&4294967295|C>>>9),C=A+(R^k^U)+N[13]+681279174&4294967295,A=R+(C<<4&4294967295|C>>>28),C=U+(A^R^k)+N[0]+3936430074&4294967295,U=A+(C<<11&4294967295|C>>>21),C=k+(U^A^R)+N[3]+3572445317&4294967295,k=U+(C<<16&4294967295|C>>>16),C=R+(k^U^A)+N[6]+76029189&4294967295,R=k+(C<<23&4294967295|C>>>9),C=A+(R^k^U)+N[9]+3654602809&4294967295,A=R+(C<<4&4294967295|C>>>28),C=U+(A^R^k)+N[12]+3873151461&4294967295,U=A+(C<<11&4294967295|C>>>21),C=k+(U^A^R)+N[15]+530742520&4294967295,k=U+(C<<16&4294967295|C>>>16),C=R+(k^U^A)+N[2]+3299628645&4294967295,R=k+(C<<23&4294967295|C>>>9),C=A+(k^(R|~U))+N[0]+4096336452&4294967295,A=R+(C<<6&4294967295|C>>>26),C=U+(R^(A|~k))+N[7]+1126891415&4294967295,U=A+(C<<10&4294967295|C>>>22),C=k+(A^(U|~R))+N[14]+2878612391&4294967295,k=U+(C<<15&4294967295|C>>>17),C=R+(U^(k|~A))+N[5]+4237533241&4294967295,R=k+(C<<21&4294967295|C>>>11),C=A+(k^(R|~U))+N[12]+1700485571&4294967295,A=R+(C<<6&4294967295|C>>>26),C=U+(R^(A|~k))+N[3]+2399980690&4294967295,U=A+(C<<10&4294967295|C>>>22),C=k+(A^(U|~R))+N[10]+4293915773&4294967295,k=U+(C<<15&4294967295|C>>>17),C=R+(U^(k|~A))+N[1]+2240044497&4294967295,R=k+(C<<21&4294967295|C>>>11),C=A+(k^(R|~U))+N[8]+1873313359&4294967295,A=R+(C<<6&4294967295|C>>>26),C=U+(R^(A|~k))+N[15]+4264355552&4294967295,U=A+(C<<10&4294967295|C>>>22),C=k+(A^(U|~R))+N[6]+2734768916&4294967295,k=U+(C<<15&4294967295|C>>>17),C=R+(U^(k|~A))+N[13]+1309151649&4294967295,R=k+(C<<21&4294967295|C>>>11),C=A+(k^(R|~U))+N[4]+4149444226&4294967295,A=R+(C<<6&4294967295|C>>>26),C=U+(R^(A|~k))+N[11]+3174756917&4294967295,U=A+(C<<10&4294967295|C>>>22),C=k+(A^(U|~R))+N[2]+718787259&4294967295,k=U+(C<<15&4294967295|C>>>17),C=R+(U^(k|~A))+N[9]+3951481745&4294967295,x.g[0]=x.g[0]+A&4294967295,x.g[1]=x.g[1]+(k+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+k&4294967295,x.g[3]=x.g[3]+U&4294967295}a.prototype.u=function(x,A){A===void 0&&(A=x.length);for(var R=A-this.blockSize,N=this.B,k=this.h,U=0;U<A;){if(k==0)for(;U<=R;)o(this,x,U),U+=this.blockSize;if(typeof x=="string"){for(;U<A;)if(N[k++]=x.charCodeAt(U++),k==this.blockSize){o(this,N),k=0;break}}else for(;U<A;)if(N[k++]=x[U++],k==this.blockSize){o(this,N),k=0;break}}this.h=k,this.o+=A},a.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var A=1;A<x.length-8;++A)x[A]=0;var R=8*this.o;for(A=x.length-8;A<x.length;++A)x[A]=R&255,R/=256;for(this.u(x),x=Array(16),A=R=0;4>A;++A)for(var N=0;32>N;N+=8)x[R++]=this.g[A]>>>N&255;return x};function u(x,A){var R=m;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=A(x)}function f(x,A){this.h=A;for(var R=[],N=!0,k=x.length-1;0<=k;k--){var U=x[k]|0;N&&U==A||(R[k]=U,N=!1)}this.g=R}var m={};function g(x){return-128<=x&&128>x?u(x,function(A){return new f([A|0],0>A?-1:0)}):new f([x|0],0>x?-1:0)}function p(x){if(isNaN(x)||!isFinite(x))return S;if(0>x)return X(p(-x));for(var A=[],R=1,N=0;x>=R;N++)A[N]=x/R|0,R*=4294967296;return new f(A,0)}function E(x,A){if(x.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(x.charAt(0)=="-")return X(E(x.substring(1),A));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=p(Math.pow(A,8)),N=S,k=0;k<x.length;k+=8){var U=Math.min(8,x.length-k),C=parseInt(x.substring(k,k+U),A);8>U?(U=p(Math.pow(A,U)),N=N.j(U).add(p(C))):(N=N.j(R),N=N.add(p(C)))}return N}var S=g(0),b=g(1),M=g(16777216);i=f.prototype,i.m=function(){if(J(this))return-X(this).m();for(var x=0,A=1,R=0;R<this.g.length;R++){var N=this.i(R);x+=(0<=N?N:4294967296+N)*A,A*=4294967296}return x},i.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(L(this))return"0";if(J(this))return"-"+X(this).toString(x);for(var A=p(Math.pow(x,6)),R=this,N="";;){var k=ge(R,A).g;R=Y(R,k.j(A));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(x);if(R=k,L(R))return U+N;for(;6>U.length;)U="0"+U;N=U+N}},i.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function L(x){if(x.h!=0)return!1;for(var A=0;A<x.g.length;A++)if(x.g[A]!=0)return!1;return!0}function J(x){return x.h==-1}i.l=function(x){return x=Y(this,x),J(x)?-1:L(x)?0:1};function X(x){for(var A=x.g.length,R=[],N=0;N<A;N++)R[N]=~x.g[N];return new f(R,~x.h).add(b)}i.abs=function(){return J(this)?X(this):this},i.add=function(x){for(var A=Math.max(this.g.length,x.g.length),R=[],N=0,k=0;k<=A;k++){var U=N+(this.i(k)&65535)+(x.i(k)&65535),C=(U>>>16)+(this.i(k)>>>16)+(x.i(k)>>>16);N=C>>>16,U&=65535,C&=65535,R[k]=C<<16|U}return new f(R,R[R.length-1]&-2147483648?-1:0)};function Y(x,A){return x.add(X(A))}i.j=function(x){if(L(this)||L(x))return S;if(J(this))return J(x)?X(this).j(X(x)):X(X(this).j(x));if(J(x))return X(this.j(X(x)));if(0>this.l(M)&&0>x.l(M))return p(this.m()*x.m());for(var A=this.g.length+x.g.length,R=[],N=0;N<2*A;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var k=0;k<x.g.length;k++){var U=this.i(N)>>>16,C=this.i(N)&65535,Be=x.i(k)>>>16,We=x.i(k)&65535;R[2*N+2*k]+=C*We,oe(R,2*N+2*k),R[2*N+2*k+1]+=U*We,oe(R,2*N+2*k+1),R[2*N+2*k+1]+=C*Be,oe(R,2*N+2*k+1),R[2*N+2*k+2]+=U*Be,oe(R,2*N+2*k+2)}for(N=0;N<A;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=A;N<2*A;N++)R[N]=0;return new f(R,0)};function oe(x,A){for(;(x[A]&65535)!=x[A];)x[A+1]+=x[A]>>>16,x[A]&=65535,A++}function se(x,A){this.g=x,this.h=A}function ge(x,A){if(L(A))throw Error("division by zero");if(L(x))return new se(S,S);if(J(x))return A=ge(X(x),A),new se(X(A.g),X(A.h));if(J(A))return A=ge(x,X(A)),new se(X(A.g),A.h);if(30<x.g.length){if(J(x)||J(A))throw Error("slowDivide_ only works with positive integers.");for(var R=b,N=A;0>=N.l(x);)R=de(R),N=de(N);var k=V(R,1),U=V(N,1);for(N=V(N,2),R=V(R,2);!L(N);){var C=U.add(N);0>=C.l(x)&&(k=k.add(R),U=C),N=V(N,1),R=V(R,1)}return A=Y(x,k.j(A)),new se(k,A)}for(k=S;0<=x.l(A);){for(R=Math.max(1,Math.floor(x.m()/A.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),U=p(R),C=U.j(A);J(C)||0<C.l(x);)R-=N,U=p(R),C=U.j(A);L(U)&&(U=b),k=k.add(U),x=Y(x,C)}return new se(k,x)}i.A=function(x){return ge(this,x).h},i.and=function(x){for(var A=Math.max(this.g.length,x.g.length),R=[],N=0;N<A;N++)R[N]=this.i(N)&x.i(N);return new f(R,this.h&x.h)},i.or=function(x){for(var A=Math.max(this.g.length,x.g.length),R=[],N=0;N<A;N++)R[N]=this.i(N)|x.i(N);return new f(R,this.h|x.h)},i.xor=function(x){for(var A=Math.max(this.g.length,x.g.length),R=[],N=0;N<A;N++)R[N]=this.i(N)^x.i(N);return new f(R,this.h^x.h)};function de(x){for(var A=x.g.length+1,R=[],N=0;N<A;N++)R[N]=x.i(N)<<1|x.i(N-1)>>>31;return new f(R,x.h)}function V(x,A){var R=A>>5;A%=32;for(var N=x.g.length-R,k=[],U=0;U<N;U++)k[U]=0<A?x.i(U+R)>>>A|x.i(U+R+1)<<32-A:x.i(U+R);return new f(k,x.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,HE=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=p,f.fromString=E,Ea=f}).apply(typeof U_<"u"?U_:typeof self<"u"?self:typeof window<"u"?window:{});var zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qE,Fl,FE,Qc,Tm,GE,$E,YE;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof zc=="object"&&zc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=n(this);function o(c,y){if(y)e:{var v=a;c=c.split(".");for(var w=0;w<c.length-1;w++){var B=c[w];if(!(B in v))break e;v=v[B]}c=c[c.length-1],w=v[c],y=y(w),y!=w&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,w=!1,B={next:function(){if(!w&&v<c.length){var Z=v++;return{value:y(Z,c[Z]),done:!1}}return w=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function S(c,y,v){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,w),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function b(c,y,v){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,b.apply(null,arguments)}function M(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function L(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(w,B,Z){for(var fe=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)fe[tt-2]=arguments[tt];return y.prototype[B].apply(w,fe)}}function J(c){const y=c.length;if(0<y){const v=Array(y);for(let w=0;w<y;w++)v[w]=c[w];return v}return[]}function X(c,y){for(let v=1;v<arguments.length;v++){const w=arguments[v];if(g(w)){const B=c.length||0,Z=w.length||0;c.length=B+Z;for(let fe=0;fe<Z;fe++)c[B+fe]=w[fe]}else c.push(w)}}class Y{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function oe(c){return/^[\s\xa0]*$/.test(c)}function se(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ge(c){return ge[" "](c),c}ge[" "]=function(){};var de=se().indexOf("Gecko")!=-1&&!(se().toLowerCase().indexOf("webkit")!=-1&&se().indexOf("Edge")==-1)&&!(se().indexOf("Trident")!=-1||se().indexOf("MSIE")!=-1)&&se().indexOf("Edge")==-1;function V(c,y,v){for(const w in c)y.call(v,c[w],w,c)}function x(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function A(c){const y={};for(const v in c)y[v]=c[v];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,y){let v,w;for(let B=1;B<arguments.length;B++){w=arguments[B];for(v in w)c[v]=w[v];for(let Z=0;Z<R.length;Z++)v=R[Z],Object.prototype.hasOwnProperty.call(w,v)&&(c[v]=w[v])}}function k(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function U(c){m.setTimeout(()=>{throw c},0)}function C(){var c=Ue;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Be{constructor(){this.h=this.g=null}add(y,v){const w=We.get();w.set(y,v),this.h?this.h.next=w:this.g=w,this.h=w}}var We=new Y(()=>new G,c=>c.reset());class G{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,pe=!1,Ue=new Be,D=()=>{const c=m.Promise.resolve(void 0);ce=()=>{c.then(te)}};var te=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(v){U(v)}var y=We;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}pe=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var we=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function ze(c,y){if(le.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(de){e:{try{ge(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:xe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ze.aa.h.call(this)}}L(ze,le);var xe={2:"touch",3:"pen",4:"mouse"};ze.prototype.h=function(){ze.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Pt="closure_listenable_"+(1e6*Math.random()|0),gt=0;function Qn(c,y,v,w,B){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!w,this.ha=B,this.key=++gt,this.da=this.fa=!1}function wt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function fn(c){this.src=c,this.g={},this.h=0}fn.prototype.add=function(c,y,v,w,B){var Z=c.toString();c=this.g[Z],c||(c=this.g[Z]=[],this.h++);var fe=ei(c,y,w,B);return-1<fe?(y=c[fe],v||(y.fa=!1)):(y=new Qn(y,this.src,Z,!!w,B),y.fa=v,c.push(y)),y};function Ar(c,y){var v=y.type;if(v in c.g){var w=c.g[v],B=Array.prototype.indexOf.call(w,y,void 0),Z;(Z=0<=B)&&Array.prototype.splice.call(w,B,1),Z&&(wt(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function ei(c,y,v,w){for(var B=0;B<c.length;++B){var Z=c[B];if(!Z.da&&Z.listener==y&&Z.capture==!!v&&Z.ha==w)return B}return-1}var Tn="closure_lm_"+(1e6*Math.random()|0),La={};function As(c,y,v,w,B){if(Array.isArray(y)){for(var Z=0;Z<y.length;Z++)As(c,y[Z],v,w,B);return null}return v=Vi(v),c&&c[Pt]?c.K(y,v,p(w)?!!w.capture:!1,B):bn(c,y,v,!1,w,B)}function bn(c,y,v,w,B,Z){if(!y)throw Error("Invalid event type");var fe=p(B)?!!B.capture:!!B,tt=Xn(c);if(tt||(c[Tn]=tt=new fn(c)),v=tt.add(y,v,w,fe,Z),v.proxy)return v;if(w=Uo(),v.proxy=w,w.src=c,w.listener=v,c.addEventListener)we||(B=fe),B===void 0&&(B=!1),c.addEventListener(y.toString(),w,B);else if(c.attachEvent)c.attachEvent(ti(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Uo(){function c(v){return y.call(c.src,c.listener,v)}const y=gr;return c}function ka(c,y,v,w,B){if(Array.isArray(y))for(var Z=0;Z<y.length;Z++)ka(c,y[Z],v,w,B);else w=p(w)?!!w.capture:!!w,v=Vi(v),c&&c[Pt]?(c=c.i,y=String(y).toString(),y in c.g&&(Z=c.g[y],v=ei(Z,v,w,B),-1<v&&(wt(Z[v]),Array.prototype.splice.call(Z,v,1),Z.length==0&&(delete c.g[y],c.h--)))):c&&(c=Xn(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ei(y,v,w,B)),(v=-1<c?y[c]:null)&&Oi(v))}function Oi(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Pt])Ar(y.i,c);else{var v=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(v,w,c.capture):y.detachEvent?y.detachEvent(ti(v),w):y.addListener&&y.removeListener&&y.removeListener(w),(v=Xn(y))?(Ar(v,c),v.h==0&&(v.src=null,y[Tn]=null)):wt(c)}}}function ti(c){return c in La?La[c]:La[c]="on"+c}function gr(c,y){if(c.da)c=!0;else{y=new ze(y,this);var v=c.listener,w=c.ha||c.src;c.fa&&Oi(c),c=v.call(w,y)}return c}function Xn(c){return c=c[Tn],c instanceof fn?c:null}var Mi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vi(c){return typeof c=="function"?c:(c[Mi]||(c[Mi]=function(y){return c.handleEvent(y)}),c[Mi])}function ut(){he.call(this),this.i=new fn(this),this.M=this,this.F=null}L(ut,he),ut.prototype[Pt]=!0,ut.prototype.removeEventListener=function(c,y,v,w){ka(this,c,y,v,w)};function qe(c,y){var v,w=c.F;if(w)for(v=[];w;w=w.F)v.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new le(y,c);else if(y instanceof le)y.target=y.target||c;else{var B=y;y=new le(w,c),N(y,B)}if(B=!0,v)for(var Z=v.length-1;0<=Z;Z--){var fe=y.g=v[Z];B=dn(fe,w,!0,y)&&B}if(fe=y.g=c,B=dn(fe,w,!0,y)&&B,B=dn(fe,w,!1,y)&&B,v)for(Z=0;Z<v.length;Z++)fe=y.g=v[Z],B=dn(fe,w,!1,y)&&B}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],w=0;w<v.length;w++)wt(v[w]);delete c.g[y],c.h--}}this.F=null},ut.prototype.K=function(c,y,v,w){return this.i.add(String(c),y,!1,v,w)},ut.prototype.L=function(c,y,v,w){return this.i.add(String(c),y,!0,v,w)};function dn(c,y,v,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,Z=0;Z<y.length;++Z){var fe=y[Z];if(fe&&!fe.da&&fe.capture==v){var tt=fe.listener,Gt=fe.ha||fe.src;fe.fa&&Ar(c.i,fe),B=tt.call(Gt,w)!==!1&&B}}return B&&!w.defaultPrevented}function Lt(c,y,v){if(typeof c=="function")v&&(c=b(c,v));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Rs(c){c.g=Lt(()=>{c.g=null,c.i&&(c.i=!1,Rs(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Zn extends he{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Rs(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rr(c){he.call(this),this.h=c,this.g={}}L(Rr,he);var Cr=[];function xr(c){V(c.g,function(y,v){this.g.hasOwnProperty(v)&&Oi(y)},c),c.g={}}Rr.prototype.N=function(){Rr.aa.N.call(this),xr(this)},Rr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pn=m.JSON.stringify,ni=m.JSON.parse,Jn=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Pi(){}Pi.prototype.h=null;function ri(c){return c.h||(c.h=c.i())}function Ua(){}var Wn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pr(){le.call(this,"d")}L(pr,le);function Li(){le.call(this,"c")}L(Li,le);var wn={},Ir=null;function Dr(){return Ir=Ir||new ut}wn.La="serverreachability";function ki(c){le.call(this,wn.La,c)}L(ki,le);function O(c){const y=Dr();qe(y,new ki(y))}wn.STAT_EVENT="statevent";function j(c,y){le.call(this,wn.STAT_EVENT,c),this.stat=y}L(j,le);function q(c){const y=Dr();qe(y,new j(y,c))}wn.Ma="timingevent";function ie(c,y){le.call(this,wn.Ma,c),this.size=y}L(ie,le);function ue(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function ye(){this.g=!0}ye.prototype.xa=function(){this.g=!1};function Re(c,y,v,w,B,Z){c.info(function(){if(c.g)if(Z)for(var fe="",tt=Z.split("&"),Gt=0;Gt<tt.length;Gt++){var nt=tt[Gt].split("=");if(1<nt.length){var Jt=nt[0];nt=nt[1];var $t=Jt.split("_");fe=2<=$t.length&&$t[1]=="type"?fe+(Jt+"="+nt+"&"):fe+(Jt+"=redacted&")}}else fe=null;else fe=Z;return"XMLHTTP REQ ("+w+") [attempt "+B+"]: "+y+`
`+v+`
`+fe})}function _e(c,y,v,w,B,Z,fe){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+B+"]: "+y+`
`+v+`
`+Z+" "+fe})}function be(c,y,v,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ne(c,v)+(w?" "+w:"")})}function Te(c,y){c.info(function(){return"TIMEOUT: "+y})}ye.prototype.info=function(){};function Ne(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var w=v[c];if(!(2>w.length)){var B=w[1];if(Array.isArray(B)&&!(1>B.length)){var Z=B[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var fe=1;fe<B.length;fe++)B[fe]=""}}}}return Pn(v)}catch{return y}}var Ce={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Me={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qe;function ht(){}L(ht,Pi),ht.prototype.g=function(){return new XMLHttpRequest},ht.prototype.i=function(){return{}},Qe=new ht;function ot(c,y,v,w){this.j=c,this.i=y,this.l=v,this.R=w||1,this.U=new Rr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new et}function et(){this.i=null,this.g="",this.h=!1}var Ge={},er={};function Ft(c,y,v){c.L=1,c.v=Ba(Un(y)),c.m=v,c.P=!0,Sn(c,null)}function Sn(c,y){c.F=Date.now(),Ln(c),c.A=Un(c.v);var v=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),qo(v.i,"t",w),c.C=0,v=c.j.J,c.h=new et,c.g=Mu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new Zn(b(c.Y,c,c.g),c.O)),y=c.U,v=c.g,w=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(Cr[0]=B.toString()),B=Cr);for(var Z=0;Z<B.length;Z++){var fe=As(v,B[Z],w||y.handleEvent,!1,y.h||y);if(!fe)break;y.g[fe.key]=fe}y=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),O(),Re(c.i,c.u,c.A,c.l,c.R,c.m)}ot.prototype.ca=function(c){c=c.target;const y=this.M;y&&ar(c)==3?y.j():this.Y(c)},ot.prototype.Y=function(c){try{if(c==this.g)e:{const $t=ar(this.g);var y=this.g.Ba();const hi=this.g.Z();if(!(3>$t)&&($t!=3||this.g&&(this.h.h||this.g.oa()||Au(this.g)))){this.J||$t!=4||y==7||(y==8||0>=hi?O(3):O(2)),mn(this);var v=this.g.Z();this.X=v;t:if(rn(this)){var w=Au(this.g);c="";var B=w.length,Z=ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Le(this),An(this);var fe="";break t}this.h.i=new m.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!(Z&&y==B-1)});w.length=0,this.h.g+=c,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=v==200,_e(this.i,this.u,this.A,this.l,this.R,$t,v),this.o){if(this.T&&!this.K){t:{if(this.g){var tt,Gt=this.g;if((tt=Gt.g?Gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!oe(tt)){var nt=tt;break t}}nt=null}if(v=nt)be(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kt(this,v);else{this.o=!1,this.s=3,q(12),Le(this),An(this);break e}}if(this.P){v=!0;let sn;for(;!this.J&&this.C<fe.length;)if(sn=Nr(this,fe),sn==er){$t==4&&(this.s=4,q(14),v=!1),be(this.i,this.l,null,"[Incomplete Response]");break}else if(sn==Ge){this.s=4,q(15),be(this.i,this.l,fe,"[Invalid Chunk]"),v=!1;break}else be(this.i,this.l,sn,null),kt(this,sn);if(rn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$t!=4||fe.length!=0||this.h.h||(this.s=1,q(16),v=!1),this.o=this.o&&v,!v)be(this.i,this.l,fe,"[Invalid Chunked Response]"),Le(this),An(this);else if(0<fe.length&&!this.W){this.W=!0;var Jt=this.j;Jt.g==this&&Jt.ba&&!Jt.M&&(Jt.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),Qa(Jt),Jt.M=!0,q(11))}}else be(this.i,this.l,fe,null),kt(this,fe);$t==4&&Le(this),this.o&&!this.J&&($t==4?Du(this.j,this):(this.o=!1,Ln(this)))}else Xh(this.g),v==400&&0<fe.indexOf("Unknown SID")?(this.s=3,q(12)):(this.s=0,q(13)),Le(this),An(this)}}}catch{}finally{}};function rn(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Nr(c,y){var v=c.C,w=y.indexOf(`
`,v);return w==-1?er:(v=Number(y.substring(v,w)),isNaN(v)?Ge:(w+=1,w+v>y.length?er:(y=y.slice(w,w+v),c.C=w+v,y)))}ot.prototype.cancel=function(){this.J=!0,Le(this)};function Ln(c){c.S=Date.now()+c.I,Ui(c,c.I)}function Ui(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ue(b(c.ba,c),y)}function mn(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ot.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Te(this.i,this.A),this.L!=2&&(O(),q(17)),Le(this),this.s=2,An(this)):Ui(this,this.S-c)};function An(c){c.j.G==0||c.J||Du(c.j,c)}function Le(c){mn(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,xr(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function kt(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||tr(v.h,c))){if(!c.K&&tr(v.h,c)&&v.G==3){try{var w=v.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var B=w;if(B[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Ps(v),Ms(v);else break e;Ko(v),q(18)}}else v.za=B[1],0<v.za-v.T&&37500>B[2]&&v.F&&v.v==0&&!v.C&&(v.C=ue(b(v.Za,v),6e3));if(1>=Et(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else ci(v,11)}else if((c.K||v.g==c)&&Ps(v),!oe(y))for(B=v.Da.g.parse(y),y=0;y<B.length;y++){let nt=B[y];if(v.T=nt[0],nt=nt[1],v.G==2)if(nt[0]=="c"){v.K=nt[1],v.ia=nt[2];const Jt=nt[3];Jt!=null&&(v.la=Jt,v.j.info("VER="+v.la));const $t=nt[4];$t!=null&&(v.Aa=$t,v.j.info("SVER="+v.Aa));const hi=nt[5];hi!=null&&typeof hi=="number"&&0<hi&&(w=1.5*hi,v.L=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const sn=c.g;if(sn){const zr=sn.g?sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zr){var Z=w.h;Z.g||zr.indexOf("spdy")==-1&&zr.indexOf("quic")==-1&&zr.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(ii(Z,Z.h),Z.h=null))}if(w.D){const Xo=sn.g?sn.g.getResponseHeader("X-HTTP-Session-Id"):null;Xo&&(w.ya=Xo,pt(w.I,w.D,Xo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),w=v;var fe=c;if(w.qa=Ou(w,w.J?w.ia:null,w.W),fe.K){an(w.h,fe);var tt=fe,Gt=w.L;Gt&&(tt.I=Gt),tt.B&&(mn(tt),Ln(tt)),w.g=fe}else xu(w);0<v.i.length&&Vs(v)}else nt[0]!="stop"&&nt[0]!="close"||ci(v,7);else v.G==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?ci(v,7):$o(v):nt[0]!="noop"&&v.l&&v.l.ta(nt),v.v=0)}}O(4)}catch{}}var kn=class{constructor(c,y){this.g=c,this.map=y}};function Dn(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Or(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Et(c){return c.h?1:c.g?c.g.size:0}function tr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ii(c,y){c.g?c.g.add(y):c.h=y}function an(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Dn.prototype.cancel=function(){if(this.i=zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function zo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return J(c.i)}function $h(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var y=[],v=c.length,w=0;w<v;w++)y.push(c[w]);return y}y=[],v=0;for(w in c)y[v++]=c[w];return y}function Cs(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const w in c)y[v++]=w;return y}}}function jo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=Cs(c),w=$h(c),B=w.length,Z=0;Z<B;Z++)y.call(void 0,w[Z],v&&v[Z],c)}var za=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yh(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var w=c[v].indexOf("="),B=null;if(0<=w){var Z=c[v].substring(0,w);B=c[v].substring(w+1)}else Z=c[v];y(Z,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Ut(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ut){this.h=c.h,ja(this,c.j),this.o=c.o,this.g=c.g,zi(this,c.s),this.l=c.l;var y=c.i,v=new si;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),ai(this,v),this.m=c.m}else c&&(y=String(c).match(za))?(this.h=!1,ja(this,y[1]||"",!0),this.o=nr(y[2]||""),this.g=nr(y[3]||"",!0),zi(this,y[4]),this.l=nr(y[5]||"",!0),ai(this,y[6]||"",!0),this.m=nr(y[7]||"")):(this.h=!1,this.i=new si(null,this.h))}Ut.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Ha(y,Bo,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ha(y,Bo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ha(v,v.charAt(0)=="/"?Kh:Ho,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ha(v,xs)),c.join("")};function Un(c){return new Ut(c)}function ja(c,y,v){c.j=v?nr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function zi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function ai(c,y,v){y instanceof si?(c.i=y,wu(c.i,c.h)):(v||(y=Ha(y,Qh)),c.i=new si(y,c.h))}function pt(c,y,v){c.i.set(y,v)}function Ba(c){return pt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function nr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ha(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,bu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function bu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Bo=/[#\/\?@]/g,Ho=/[#\?:]/g,Kh=/[#\?]/g,Qh=/[#\?@]/g,xs=/#/g;function si(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function rr(c){c.g||(c.g=new Map,c.h=0,c.i&&Yh(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=si.prototype,i.add=function(c,y){rr(this),this.i=null,c=Mr(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function oi(c,y){rr(c),y=Mr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function li(c,y){return rr(c),y=Mr(c,y),c.g.has(y)}i.forEach=function(c,y){rr(this),this.g.forEach(function(v,w){v.forEach(function(B){c.call(y,B,w,this)},this)},this)},i.na=function(){rr(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let w=0;w<y.length;w++){const B=c[w];for(let Z=0;Z<B.length;Z++)v.push(y[w])}return v},i.V=function(c){rr(this);let y=[];if(typeof c=="string")li(this,c)&&(y=y.concat(this.g.get(Mr(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},i.set=function(c,y){return rr(this),this.i=null,c=Mr(this,c),li(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function qo(c,y,v){oi(c,y),0<v.length&&(c.i=null,c.g.set(Mr(c,y),J(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var w=y[v];const Z=encodeURIComponent(String(w)),fe=this.V(w);for(w=0;w<fe.length;w++){var B=Z;fe[w]!==""&&(B+="="+encodeURIComponent(String(fe[w]))),c.push(B)}}return this.i=c.join("&")};function Mr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function wu(c,y){y&&!c.j&&(rr(c),c.i=null,c.g.forEach(function(v,w){var B=w.toLowerCase();w!=B&&(oi(this,w),qo(this,B,v))},c)),c.j=y}function qa(c,y){const v=new ye;if(m.Image){const w=new Image;w.onload=M(ir,v,"TestLoadImage: loaded",!0,y,w),w.onerror=M(ir,v,"TestLoadImage: error",!1,y,w),w.onabort=M(ir,v,"TestLoadImage: abort",!1,y,w),w.ontimeout=M(ir,v,"TestLoadImage: timeout",!1,y,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function yr(c,y){const v=new ye,w=new AbortController,B=setTimeout(()=>{w.abort(),ir(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(Z=>{clearTimeout(B),Z.ok?ir(v,"TestPingServer: ok",!0,y):ir(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),ir(v,"TestPingServer: error",!1,y)})}function ir(c,y,v,w,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),w(v)}catch{}}function Fa(){this.g=new Jn}function Vr(c,y,v){const w=v||"";try{jo(c,function(B,Z){let fe=B;p(B)&&(fe=Pn(B)),y.push(w+Z+"="+encodeURIComponent(fe))})}catch(B){throw y.push(w+"type="+encodeURIComponent("_badmap")),B}}function ji(c){this.l=c.Ub||null,this.j=c.eb||!1}L(ji,Pi),ji.prototype.g=function(){return new ui(this.l,this.j)},ji.prototype.i=function(c){return function(){return c}}({});function ui(c,y){ut.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(ui,ut),i=ui.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Lr(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pr(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Lr(this)),this.g&&(this.readyState=3,Lr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Pr(this):Lr(this),this.readyState==3&&Fo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,Pr(this))},i.Qa=function(c){this.g&&(this.response=c,Pr(this))},i.ga=function(){this.g&&Pr(this)};function Pr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Lr(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Lr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ui.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Go(c){let y="";return V(c,function(v,w){y+=w,y+=":",y+=v,y+=`\r
`}),y}function Zt(c,y,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=Go(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):pt(c,y,v))}function ft(c){ut.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(ft,ut);var Is=/^https?$/i,Ga=["POST","PUT"];i=ft.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qe.g(),this.v=this.o?ri(this.o):ri(Qe),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Z){Su(this,Z);return}if(c=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var B in w)v.set(B,w[B]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Z of w.keys())v.set(Z,w.get(Z));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(Z=>Z.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ga,y,void 0))||w||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,fe]of v)this.g.setRequestHeader(Z,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$a(this),this.u=!0,this.g.send(c),this.u=!1}catch(Z){Su(this,Z)}};function Su(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ds(c),kr(c)}function Ds(c){c.A||(c.A=!0,qe(c,"complete"),qe(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,qe(this,"complete"),qe(this,"abort"),kr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),kr(this,!0)),ft.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ns(this):this.bb())},i.bb=function(){Ns(this)};function Ns(c){if(c.h&&typeof f<"u"&&(!c.v[1]||ar(c)!=4||c.Z()!=2)){if(c.u&&ar(c)==4)Lt(c.Ea,0,c);else if(qe(c,"readystatechange"),ar(c)==4){c.h=!1;try{const fe=c.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var w;if(w=fe===0){var B=String(c.D).match(za)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),w=!Is.test(B?B.toLowerCase():"")}v=w}if(v)qe(c,"complete"),qe(c,"success");else{c.m=6;try{var Z=2<ar(c)?c.g.statusText:""}catch{Z=""}c.l=Z+" ["+c.Z()+"]",Ds(c)}}finally{kr(c)}}}}function kr(c,y){if(c.g){$a(c);const v=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||qe(c,"ready");try{v.onreadystatechange=w}catch{}}}function $a(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function ar(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<ar(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ni(y)}};function Au(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Xh(c){const y={};c=(c.g&&2<=ar(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(oe(c[w]))continue;var v=k(c[w]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Z=y[B]||[];y[B]=Z,Z.push(v)}x(y,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ya(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Os(c){this.Aa=0,this.i=[],this.j=new ye,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ya("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ya("baseRetryDelayMs",5e3,c),this.cb=Ya("retryDelaySeedMs",1e4,c),this.Wa=Ya("forwardChannelMaxRetries",2,c),this.wa=Ya("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Dn(c&&c.concurrentRequestLimit),this.Da=new Fa,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Os.prototype,i.la=8,i.G=1,i.connect=function(c,y,v,w){q(0),this.W=c,this.H=y||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.I=Ou(this,null,this.W),Vs(this)};function $o(c){if(Ru(c),c.G==3){var y=c.U++,v=Un(c.I);if(pt(v,"SID",c.K),pt(v,"RID",y),pt(v,"TYPE","terminate"),Ka(c,v),y=new ot(c,c.j,y),y.L=2,y.v=Ba(Un(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=Mu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ln(y)}Nu(c)}function Ms(c){c.g&&(Qa(c),c.g.cancel(),c.g=null)}function Ru(c){Ms(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ps(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Vs(c){if(!Or(c.h)&&!c.s){c.s=!0;var y=c.Ga;ce||D(),pe||(ce(),pe=!0),Ue.add(y,c),c.B=0}}function Zh(c,y){return Et(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ue(b(c.Ga,c,y),Qo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new ot(this,this.j,c);let Z=this.o;if(this.S&&(Z?(Z=A(Z),N(Z,this.S)):Z=this.S),this.m!==null||this.O||(B.H=Z,Z=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Cu(this,B,y),v=Un(this.I),pt(v,"RID",c),pt(v,"CVER",22),this.D&&pt(v,"X-HTTP-Session-Id",this.D),Ka(this,v),Z&&(this.O?y="headers="+encodeURIComponent(String(Go(Z)))+"&"+y:this.m&&Zt(v,this.m,Z)),ii(this.h,B),this.Ua&&pt(v,"TYPE","init"),this.P?(pt(v,"$req",y),pt(v,"SID","null"),B.T=!0,Ft(B,v,null)):Ft(B,v,y),this.G=2}}else this.G==3&&(c?Yo(this,c):this.i.length==0||Or(this.h)||Yo(this))};function Yo(c,y){var v;y?v=y.l:v=c.U++;const w=Un(c.I);pt(w,"SID",c.K),pt(w,"RID",v),pt(w,"AID",c.T),Ka(c,w),c.m&&c.o&&Zt(w,c.m,c.o),v=new ot(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Cu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ii(c.h,v),Ft(v,w,y)}function Ka(c,y){c.H&&V(c.H,function(v,w){pt(y,w,v)}),c.l&&jo({},function(v,w){pt(y,w,v)})}function Cu(c,y,v){v=Math.min(c.i.length,v);var w=c.l?b(c.l.Na,c.l,c):null;e:{var B=c.i;let Z=-1;for(;;){const fe=["count="+v];Z==-1?0<v?(Z=B[0].g,fe.push("ofs="+Z)):Z=0:fe.push("ofs="+Z);let tt=!0;for(let Gt=0;Gt<v;Gt++){let nt=B[Gt].g;const Jt=B[Gt].map;if(nt-=Z,0>nt)Z=Math.max(0,B[Gt].g-100),tt=!1;else try{Vr(Jt,fe,"req"+nt+"_")}catch{w&&w(Jt)}}if(tt){w=fe.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,w}function xu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ce||D(),pe||(ce(),pe=!0),Ue.add(y,c),c.v=0}}function Ko(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ue(b(c.Fa,c),Qo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Iu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ue(b(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,q(10),Ms(this),Iu(this))};function Qa(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Iu(c){c.g=new ot(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Un(c.qa);pt(y,"RID","rpc"),pt(y,"SID",c.K),pt(y,"AID",c.T),pt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&pt(y,"TO",c.ja),pt(y,"TYPE","xmlhttp"),Ka(c,y),c.m&&c.o&&Zt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Ba(Un(y)),v.m=null,v.P=!0,Sn(v,c)}i.Za=function(){this.C!=null&&(this.C=null,Ms(this),Ko(this),q(19))};function Ps(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Du(c,y){var v=null;if(c.g==y){Ps(c),Qa(c),c.g=null;var w=2}else if(tr(c.h,y))v=y.D,an(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;w=Dr(),qe(w,new ie(w,v)),Vs(c)}else xu(c);else if(B=y.s,B==3||B==0&&0<y.X||!(w==1&&Zh(c,y)||w==2&&Ko(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),B){case 1:ci(c,5);break;case 4:ci(c,10);break;case 3:ci(c,6);break;default:ci(c,2)}}}function Qo(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function ci(c,y){if(c.j.info("Error code "+y),y==2){var v=b(c.fb,c),w=c.Xa;const B=!w;w=new Ut(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ja(w,"https"),Ba(w),B?qa(w.toString(),v):yr(w.toString(),v)}else q(2);c.G=0,c.l&&c.l.sa(y),Nu(c),Ru(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),q(2)):(this.j.info("Failed to ping google.com"),q(1))};function Nu(c){if(c.G=0,c.ka=[],c.l){const y=zo(c.h);(y.length!=0||c.i.length!=0)&&(X(c.ka,y),X(c.ka,c.i),c.h.i.length=0,J(c.i),c.i.length=0),c.l.ra()}}function Ou(c,y,v){var w=v instanceof Ut?Un(v):new Ut(v);if(w.g!="")y&&(w.g=y+"."+w.g),zi(w,w.s);else{var B=m.location;w=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var Z=new Ut(null);w&&ja(Z,w),y&&(Z.g=y),B&&zi(Z,B),v&&(Z.l=v),w=Z}return v=c.D,y=c.ya,v&&y&&pt(w,v,y),pt(w,"VER",c.la),Ka(c,w),w}function Mu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new ft(new ji({eb:v})):new ft(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vu(){}i=Vu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ls(){}Ls.prototype.g=function(c,y){return new Rn(c,y)};function Rn(c,y){ut.call(this),this.g=new Os(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!oe(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!oe(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Ur(this)}L(Rn,ut),Rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){$o(this.g)},Rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Pn(c),c=v);y.i.push(new kn(y.Ya++,c)),y.G==3&&Vs(y)},Rn.prototype.N=function(){this.g.l=null,delete this.j,$o(this.g),delete this.g,Rn.aa.N.call(this)};function Pu(c){pr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}L(Pu,pr);function Lu(){Li.call(this),this.status=1}L(Lu,Li);function Ur(c){this.g=c}L(Ur,Vu),Ur.prototype.ua=function(){qe(this.g,"a")},Ur.prototype.ta=function(c){qe(this.g,new Pu(c))},Ur.prototype.sa=function(c){qe(this.g,new Lu)},Ur.prototype.ra=function(){qe(this.g,"b")},Ls.prototype.createWebChannel=Ls.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,YE=function(){return new Ls},$E=function(){return Dr()},GE=wn,Tm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ce.NO_ERROR=0,Ce.TIMEOUT=8,Ce.HTTP_ERROR=6,Qc=Ce,Me.COMPLETE="complete",FE=Me,Ua.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",ut.prototype.listen=ut.prototype.K,Fl=Ua,ft.prototype.listenOnce=ft.prototype.L,ft.prototype.getLastError=ft.prototype.Ka,ft.prototype.getLastErrorCode=ft.prototype.Ba,ft.prototype.getStatus=ft.prototype.Z,ft.prototype.getResponseJson=ft.prototype.Oa,ft.prototype.getResponseText=ft.prototype.oa,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Ha,qE=ft}).apply(typeof zc<"u"?zc:typeof self<"u"?self:typeof window<"u"?window:{});const z_="@firebase/firestore",j_="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=new Wm("@firebase/firestore");function fo(){return Ts.logLevel}function ve(i,...e){if(Ts.logLevel<=Je.DEBUG){const n=e.map(ng);Ts.debug(`Firestore (${Vo}): ${i}`,...n)}}function xi(i,...e){if(Ts.logLevel<=Je.ERROR){const n=e.map(ng);Ts.error(`Firestore (${Vo}): ${i}`,...n)}}function Aa(i,...e){if(Ts.logLevel<=Je.WARN){const n=e.map(ng);Ts.warn(`Firestore (${Vo}): ${i}`,...n)}}function ng(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(i,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,KE(i,a,n)}function KE(i,e,n){let a=`FIRESTORE (${Vo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw xi(a),new Error(a)}function Ct(i,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,i||KE(e,o,a)}function at(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends Ni{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class y2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(vn.UNAUTHENTICATED))}shutdown(){}}class v2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class _2{constructor(e){this.t=e,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ct(this.o===void 0,42304);let a=this.i;const o=g=>this.i!==a?(a=this.i,n(g)):Promise.resolve();let u=new ps;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ps,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ps)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ct(typeof a.accessToken=="string",31837,{l:a}),new QE(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ct(e===null||typeof e=="string",2055,{h:e}),new vn(e)}}class E2{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class T2{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new E2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(vn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class B_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class b2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Tr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ct(this.o===void 0,3512);const a=u=>{u.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ve("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>a(u))};const o=u=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new B_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ct(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new B_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<i;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=w2(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function Ye(i,e){return i<e?-1:i>e?1:0}function bm(i,e){let n=0;for(;n<i.length&&n<e.length;){const a=i.codePointAt(n),o=e.codePointAt(n);if(a!==o){if(a<128&&o<128)return Ye(a,o);{const u=XE(),f=S2(u.encode(H_(i,n)),u.encode(H_(e,n)));return f!==0?f:Ye(a,o)}}n+=a>65535?2:1}return Ye(i.length,e.length)}function H_(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function S2(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return Ye(i[n],e[n]);return Ye(i.length,e.length)}function Ao(i,e,n){return i.length===e.length&&i.every((a,o)=>n(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="__name__";class Gr{constructor(e,n,a){n===void 0?n=0:n>e.length&&je(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&je(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Gr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gr?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=Gr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ye(e.length,n.length)}static compareSegments(e,n){const a=Gr.isNumericId(e),o=Gr.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?Gr.extractNumericId(e).compare(Gr.extractNumericId(n)):bm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ea.fromString(e.substring(4,e.length-2))}}class Rt extends Gr{construct(e,n,a){return new Rt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new Ae(me.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(o=>o.length>0))}return new Rt(n)}static emptyPath(){return new Rt([])}}const A2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xn extends Gr{construct(e,n,a){return new xn(e,n,a)}static isValidIdentifier(e){return A2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===q_}static keyField(){return new xn([q_])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new Ae(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new Ae(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Ae(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(a+=m,o++):(u(),o++)}if(u(),f)throw new Ae(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xn(n)}static emptyPath(){return new xn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(Rt.fromString(e))}static fromName(e){return new De(Rt.fromString(e).popFirst(5))}static empty(){return new De(Rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new Rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(i,e,n){if(!n)throw new Ae(me.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function C2(i,e,n,a){if(e===!0&&a===!0)throw new Ae(me.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function F_(i){if(!De.isDocumentKey(i))throw new Ae(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function x2(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function I2(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":je(12329,{type:typeof i})}function wm(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ae(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=I2(i);throw new Ae(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(i,e){const n={typeString:i};return e&&(n.value=e),n}function mu(i,e){if(!x2(i))throw new Ae(me.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const o=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in i)){n=`JSON missing required field: '${a}'`;break}const f=i[a];if(o&&typeof f!==o){n=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${a}' field to equal '${u.value}'`;break}}if(n)throw new Ae(me.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_=-62135596800,$_=1e6;class Ht{static now(){return Ht.fromMillis(Date.now())}static fromDate(e){return Ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*$_);return new Ht(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ae(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ae(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<G_)throw new Ae(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$_}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mu(e,Ht._jsonSchema))return new Ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-G_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ht._jsonSchemaVersion="firestore/timestamp/1.0",Ht._jsonSchema={type:qt("string",Ht._jsonSchemaVersion),seconds:qt("number"),nanoseconds:qt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Ht(0,0))}static max(){return new ke(new Ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=-1;function D2(i,e){const n=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,o=ke.fromTimestamp(a===1e9?new Ht(n+1,0):new Ht(n,a));return new Ra(o,De.empty(),e)}function N2(i){return new Ra(i.readTime,i.key,iu)}class Ra{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Ra(ke.min(),De.empty(),iu)}static max(){return new Ra(ke.max(),De.empty(),iu)}}function O2(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=De.comparator(i.documentKey,e.documentKey),n!==0?n:Ye(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class V2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nh(i){if(i.code!==me.FAILED_PRECONDITION||i.message!==M2)throw i;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&je(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.reject(n)}static resolve(e){return new ae((n,a)=>{n(e)})}static reject(e){return new ae((n,a)=>{a(e)})}static waitFor(e){return new ae((n,a)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},g=>a(g))}),f=!0,u===o&&n()})}static or(e){let n=ae.resolve(!1);for(const a of e)n=n.next(o=>o?ae.resolve(o):a());return n}static forEach(e,n){const a=[];return e.forEach((o,u)=>{a.push(n.call(this,o,u))}),this.waitFor(a)}static mapArray(e,n){return new ae((a,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next(E=>{f[p]=E,++m,m===u&&a(f)},E=>o(E))}})}static doWhile(e,n){return new ae((a,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):a()};u()})}}function P2(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Po(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this._e(a),this.ae=a=>n.writeSequenceNumber(a))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Oh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=-1;function Mh(i){return i==null}function Sm(i){return i===0&&1/i==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="";function k2(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Y_(e)),e=U2(i.get(n),e);return Y_(e)}function U2(i,e){let n=e;const a=i.length;for(let o=0;o<a;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case ZE:n+="";break;default:n+=u}}return n}function Y_(i){return i+ZE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function gu(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function z2(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){this.comparator=e,this.root=n||cn.EMPTY}insert(e,n){return new Vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jc(this.root,e,this.comparator,!1)}getReverseIterator(){return new jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jc(this.root,e,this.comparator,!0)}}class jc{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??cn.RED,this.left=o??cn.EMPTY,this.right=u??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new cn(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return cn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw je(43730,{key:this.key,value:this.value});if(this.right.isRed())throw je(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw je(27949);return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw je(57766)}get value(){throw je(16141)}get color(){throw je(16727)}get left(){throw je(29726)}get right(){throw je(36894)}copy(e,n,a,o,u){return this}insert(e,n,a){return new cn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Q_(this.data.getIterator())}getIteratorFrom(e){return new Q_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xt(this.comparator);return n.data=e,n}}class Q_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this.fields=e,e.sort(xn.comparator)}static empty(){return new ga([])}unionWith(e){let n=new Xt(xn.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new ga(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ao(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new JE("Invalid base64 string: "+u):u}}(e);return new hn(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const j2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ca(i){if(Ct(!!i,39018),typeof i=="string"){let e=0;const n=j2.exec(i);if(Ct(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Ot(i.seconds),nanos:Ot(i.nanos)}}function Ot(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function xa(i){return typeof i=="string"?hn.fromBase64String(i):hn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="server_timestamp",eT="__type__",tT="__previous_value__",nT="__local_write_time__";function ig(i){var e,n;return((n=(((e=i?.mapValue)===null||e===void 0?void 0:e.fields)||{})[eT])===null||n===void 0?void 0:n.stringValue)===WE}function Vh(i){const e=i.mapValue.fields[tT];return ig(e)?Vh(e):e}function au(i){const e=Ca(i.mapValue.fields[nT].timestampValue);return new Ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e,n,a,o,u,f,m,g,p,E){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=E}}const fh="(default)";class su{constructor(e,n){this.projectId=e,this.database=n||fh}static empty(){return new su("","")}get isDefaultDatabase(){return this.database===fh}isEqual(e){return e instanceof su&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2="__type__",q2="__max__",Bc={mapValue:{}},F2="__vector__",Am="value";function Ia(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ig(i)?4:$2(i)?9007199254740991:G2(i)?10:11:je(28295,{value:i})}function Jr(i,e){if(i===e)return!0;const n=Ia(i);if(n!==Ia(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return au(i).isEqual(au(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Ca(o.timestampValue),m=Ca(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return xa(o.bytesValue).isEqual(xa(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Ot(o.geoPointValue.latitude)===Ot(u.geoPointValue.latitude)&&Ot(o.geoPointValue.longitude)===Ot(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Ot(o.integerValue)===Ot(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Ot(o.doubleValue),m=Ot(u.doubleValue);return f===m?Sm(f)===Sm(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return Ao(i.arrayValue.values||[],e.arrayValue.values||[],Jr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(K_(f)!==K_(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Jr(f[g],m[g])))return!1;return!0}(i,e);default:return je(52216,{left:i})}}function ou(i,e){return(i.values||[]).find(n=>Jr(n,e))!==void 0}function Ro(i,e){if(i===e)return 0;const n=Ia(i),a=Ia(e);if(n!==a)return Ye(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ye(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=Ot(u.integerValue||u.doubleValue),g=Ot(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(i,e);case 3:return X_(i.timestampValue,e.timestampValue);case 4:return X_(au(i),au(e));case 5:return bm(i.stringValue,e.stringValue);case 6:return function(u,f){const m=xa(u),g=xa(f);return m.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),g=f.split("/");for(let p=0;p<m.length&&p<g.length;p++){const E=Ye(m[p],g[p]);if(E!==0)return E}return Ye(m.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ye(Ot(u.latitude),Ot(f.latitude));return m!==0?m:Ye(Ot(u.longitude),Ot(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return Z_(i.arrayValue,e.arrayValue);case 10:return function(u,f){var m,g,p,E;const S=u.fields||{},b=f.fields||{},M=(m=S[Am])===null||m===void 0?void 0:m.arrayValue,L=(g=b[Am])===null||g===void 0?void 0:g.arrayValue,J=Ye(((p=M?.values)===null||p===void 0?void 0:p.length)||0,((E=L?.values)===null||E===void 0?void 0:E.length)||0);return J!==0?J:Z_(M,L)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===Bc.mapValue&&f===Bc.mapValue)return 0;if(u===Bc.mapValue)return 1;if(f===Bc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=f.fields||{},E=Object.keys(p);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const b=bm(g[S],E[S]);if(b!==0)return b;const M=Ro(m[g[S]],p[E[S]]);if(M!==0)return M}return Ye(g.length,E.length)}(i.mapValue,e.mapValue);default:throw je(23264,{le:n})}}function X_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ye(i,e);const n=Ca(i),a=Ca(e),o=Ye(n.seconds,a.seconds);return o!==0?o:Ye(n.nanos,a.nanos)}function Z_(i,e){const n=i.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=Ro(n[o],a[o]);if(u)return u}return Ye(n.length,a.length)}function Co(i){return Rm(i)}function Rm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const a=Ca(n);return`time(${a.seconds},${a.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return xa(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return De.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=Rm(u);return a+"]"}(i.arrayValue):"mapValue"in i?function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of a)u?u=!1:o+=",",o+=`${f}:${Rm(n.fields[f])}`;return o+"}"}(i.mapValue):je(61005,{value:i})}function Xc(i){switch(Ia(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vh(i);return e?16+Xc(e):16;case 5:return 2*i.stringValue.length;case 6:return xa(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+Xc(u),0)}(i.arrayValue);case 10:case 11:return function(a){let o=0;return gu(a.fields,(u,f)=>{o+=u.length+Xc(f)}),o}(i.mapValue);default:throw je(13486,{value:i})}}function Cm(i){return!!i&&"integerValue"in i}function ag(i){return!!i&&"arrayValue"in i}function J_(i){return!!i&&"nullValue"in i}function W_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function am(i){return!!i&&"mapValue"in i}function G2(i){var e,n;return((n=(((e=i?.mapValue)===null||e===void 0?void 0:e.fields)||{})[H2])===null||n===void 0?void 0:n.stringValue)===F2}function Ql(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return gu(i.mapValue.fields,(n,a)=>e.mapValue.fields[n]=Ql(a)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ql(i.arrayValue.values[n]);return e}return Object.assign({},i)}function $2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===q2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this.value=e}static empty(){return new $r({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!am(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ql(n)}setAll(e){let n=xn.emptyPath(),a={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,a,o),a={},o=[],n=m.popLast()}f?a[m.lastSegment()]=Ql(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());am(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Jr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];am(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){gu(n,(o,u)=>e[o]=u);for(const o of a)delete e[o]}clone(){return new $r(Ql(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,n,a,o,u,f,m){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new _n(e,0,ke.min(),ke.min(),ke.min(),$r.empty(),0)}static newFoundDocument(e,n,a,o){return new _n(e,1,n,ke.min(),a,o,0)}static newNoDocument(e,n){return new _n(e,2,n,ke.min(),ke.min(),$r.empty(),0)}static newUnknownDocument(e,n){return new _n(e,3,n,ke.min(),ke.min(),$r.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$r.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n){this.position=e,this.inclusive=n}}function e0(i,e,n){let a=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?a=De.comparator(De.fromName(f.referenceValue),n.key):a=Ro(f,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function t0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Jr(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n="asc"){this.field=e,this.dir=n}}function Y2(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{}class Qt extends rT{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new Q2(e,n,a):n==="array-contains"?new J2(e,a):n==="in"?new W2(e,a):n==="not-in"?new eC(e,a):n==="array-contains-any"?new tC(e,a):new Qt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new X2(e,a):new Z2(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ro(n,this.value)):n!==null&&Ia(this.value)===Ia(n)&&this.matchesComparison(Ro(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return je(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wr extends rT{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Wr(e,n)}matches(e){return iT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function iT(i){return i.op==="and"}function aT(i){return K2(i)&&iT(i)}function K2(i){for(const e of i.filters)if(e instanceof Wr)return!1;return!0}function xm(i){if(i instanceof Qt)return i.field.canonicalString()+i.op.toString()+Co(i.value);if(aT(i))return i.filters.map(e=>xm(e)).join(",");{const e=i.filters.map(n=>xm(n)).join(",");return`${i.op}(${e})`}}function sT(i,e){return i instanceof Qt?function(a,o){return o instanceof Qt&&a.op===o.op&&a.field.isEqual(o.field)&&Jr(a.value,o.value)}(i,e):i instanceof Wr?function(a,o){return o instanceof Wr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,f,m)=>u&&sT(f,o.filters[m]),!0):!1}(i,e):void je(19439)}function oT(i){return i instanceof Qt?function(n){return`${n.field.canonicalString()} ${n.op} ${Co(n.value)}`}(i):i instanceof Wr?function(n){return n.op.toString()+" {"+n.getFilters().map(oT).join(" ,")+"}"}(i):"Filter"}class Q2 extends Qt{constructor(e,n,a){super(e,n,a),this.key=De.fromName(a.referenceValue)}matches(e){const n=De.comparator(e.key,this.key);return this.matchesComparison(n)}}class X2 extends Qt{constructor(e,n){super(e,"in",n),this.keys=lT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Z2 extends Qt{constructor(e,n){super(e,"not-in",n),this.keys=lT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function lT(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>De.fromName(a.referenceValue))}class J2 extends Qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ag(n)&&ou(n.arrayValue,this.value)}}class W2 extends Qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ou(this.value.arrayValue,n)}}class eC extends Qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ou(this.value.arrayValue,n)}}class tC extends Qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ag(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>ou(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,n=null,a=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Pe=null}}function n0(i,e=null,n=[],a=[],o=null,u=null,f=null){return new nC(i,e,n,a,o,u,f)}function sg(i){const e=at(i);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>xm(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),Mh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>Co(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>Co(a)).join(",")),e.Pe=n}return e.Pe}function og(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!Y2(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!sT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!t0(i.startAt,e.startAt)&&t0(i.endAt,e.endAt)}function Im(i){return De.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n=null,a=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function rC(i,e,n,a,o,u,f,m){return new Ph(i,e,n,a,o,u,f,m)}function lg(i){return new Ph(i)}function r0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function iC(i){return i.collectionGroup!==null}function Xl(i){const e=at(i);if(e.Te===null){e.Te=[];const n=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Xt(xn.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(p=>{p.isInequality()&&(m=m.add(p.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Te.push(new mh(u,a))}),n.has(xn.keyField().canonicalString())||e.Te.push(new mh(xn.keyField(),a))}return e.Te}function Qr(i){const e=at(i);return e.Ie||(e.Ie=aC(e,Xl(i))),e.Ie}function aC(i,e){if(i.limitType==="F")return n0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new mh(o.field,u)});const n=i.endAt?new dh(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new dh(i.startAt.position,i.startAt.inclusive):null;return n0(i.path,i.collectionGroup,e,i.filters,i.limit,n,a)}}function Dm(i,e,n){return new Ph(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Lh(i,e){return og(Qr(i),Qr(e))&&i.limitType===e.limitType}function uT(i){return`${sg(Qr(i))}|lt:${i.limitType}`}function mo(i){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(o=>oT(o)).join(", ")}]`),Mh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(o=>Co(o)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(o=>Co(o)).join(",")),`Target(${a})`}(Qr(i))}; limitType=${i.limitType})`}function kh(i,e){return e.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):De.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(i,e)&&function(a,o){for(const u of Xl(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(a,o){return!(a.startAt&&!function(f,m,g){const p=e0(f,m,g);return f.inclusive?p<=0:p<0}(a.startAt,Xl(a),o)||a.endAt&&!function(f,m,g){const p=e0(f,m,g);return f.inclusive?p>=0:p>0}(a.endAt,Xl(a),o))}(i,e)}function sC(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function cT(i){return(e,n)=>{let a=!1;for(const o of Xl(i)){const u=oC(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function oC(i,e,n){const a=i.field.isKeyField()?De.comparator(e.key,n.key):function(u,f,m){const g=f.data.field(u),p=m.data.field(u);return g!==null&&p!==null?Ro(g,p):je(42886)}(i.field,e,n);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return je(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){gu(this.inner,(n,a)=>{for(const[o,u]of a)e(o,u)})}isEmpty(){return z2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=new Vt(De.comparator);function Da(){return lC}const hT=new Vt(De.comparator);function Gl(...i){let e=hT;for(const n of i)e=e.insert(n.key,n);return e}function uC(i){let e=hT;return i.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function ms(){return Zl()}function fT(){return Zl()}function Zl(){return new Ss(i=>i.toString(),(i,e)=>i.isEqual(e))}const cC=new Xt(De.comparator);function st(...i){let e=cC;for(const n of i)e=e.add(n);return e}const hC=new Xt(Ye);function fC(){return hC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sm(e)?"-0":e}}function mC(i){return{integerValue:""+i}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(){this._=void 0}}function gC(i,e,n){return i instanceof Nm?function(o,u){const f={fields:{[eT]:{stringValue:WE},[nT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ig(u)&&(u=Vh(u)),u&&(f.fields[tT]=u),{mapValue:f}}(n,e):i instanceof gh?dT(i,e):i instanceof ph?mT(i,e):function(o,u){const f=yC(o,u),m=i0(f)+i0(o.Ee);return Cm(f)&&Cm(o.Ee)?mC(m):dC(o.serializer,m)}(i,e)}function pC(i,e,n){return i instanceof gh?dT(i,e):i instanceof ph?mT(i,e):n}function yC(i,e){return i instanceof Om?function(a){return Cm(a)||function(u){return!!u&&"doubleValue"in u}(a)}(e)?e:{integerValue:0}:null}class Nm extends Uh{}class gh extends Uh{constructor(e){super(),this.elements=e}}function dT(i,e){const n=gT(e);for(const a of i.elements)n.some(o=>Jr(o,a))||n.push(a);return{arrayValue:{values:n}}}class ph extends Uh{constructor(e){super(),this.elements=e}}function mT(i,e){let n=gT(e);for(const a of i.elements)n=n.filter(o=>!Jr(o,a));return{arrayValue:{values:n}}}class Om extends Uh{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function i0(i){return Ot(i.integerValue||i.doubleValue)}function gT(i){return ag(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function vC(i,e){return i.field.isEqual(e.field)&&function(a,o){return a instanceof gh&&o instanceof gh||a instanceof ph&&o instanceof ph?Ao(a.elements,o.elements,Jr):a instanceof Om&&o instanceof Om?Jr(a.Ee,o.Ee):a instanceof Nm&&o instanceof Nm}(i.transform,e.transform)}class ys{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ys}static exists(e){return new ys(void 0,e)}static updateTime(e){return new ys(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zc(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class ug{}function pT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new EC(i.key,ys.none()):new cg(i.key,i.data,ys.none());{const n=i.data,a=$r.empty();let o=new Xt(xn.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?a.delete(u):a.set(u,f),o=o.add(u)}return new zh(i.key,a,new ga(o.toArray()),ys.none())}}function _C(i,e,n){i instanceof cg?function(o,u,f){const m=o.value.clone(),g=s0(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof zh?function(o,u,f){if(!Zc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=s0(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(yT(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(i,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Jl(i,e,n,a){return i instanceof cg?function(u,f,m,g){if(!Zc(u.precondition,f))return m;const p=u.value.clone(),E=o0(u.fieldTransforms,g,f);return p.setAll(E),f.convertToFoundDocument(f.version,p).setHasLocalMutations(),null}(i,e,n,a):i instanceof zh?function(u,f,m,g){if(!Zc(u.precondition,f))return m;const p=o0(u.fieldTransforms,g,f),E=f.data;return E.setAll(yT(u)),E.setAll(p),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(i,e,n,a):function(u,f,m){return Zc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function a0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Ao(a,o,(u,f)=>vC(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class cg extends ug{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class zh extends ug{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function yT(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=i.data.field(n);e.set(n,a)}}),e}function s0(i,e,n){const a=new Map;Ct(i.length===n.length,32656,{Ae:n.length,Re:i.length});for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);a.set(u.field,pC(f,m,n[o]))}return a}function o0(i,e,n){const a=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);a.set(o.field,gC(u,f,e))}return a}class EC extends ug{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&_C(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Jl(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Jl(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=fT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=pT(f,m);g!==null&&a.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(ke.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),st())}isEqual(e){return this.batchId===e.batchId&&Ao(this.mutations,e.mutations,(n,a)=>a0(n,a))&&Ao(this.baseMutations,e.baseMutations,(n,a)=>a0(n,a))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt,it;function vT(i){if(i===void 0)return xi("GRPC error has no .code"),me.UNKNOWN;switch(i){case Bt.OK:return me.OK;case Bt.CANCELLED:return me.CANCELLED;case Bt.UNKNOWN:return me.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return me.INTERNAL;case Bt.UNAVAILABLE:return me.UNAVAILABLE;case Bt.UNAUTHENTICATED:return me.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case Bt.NOT_FOUND:return me.NOT_FOUND;case Bt.ALREADY_EXISTS:return me.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return me.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case Bt.ABORTED:return me.ABORTED;case Bt.OUT_OF_RANGE:return me.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return me.UNIMPLEMENTED;case Bt.DATA_LOSS:return me.DATA_LOSS;default:return je(39323,{code:i})}}(it=Bt||(Bt={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=new Ea([4294967295,4294967295],0);function l0(i){const e=XE().encode(i),n=new HE;return n.update(e),new Uint8Array(n.digest())}function u0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ea([n,a],0),new Ea([o,u],0)]}class hg{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new $l(`Invalid padding: ${n}`);if(a<0)throw new $l(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new $l(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new $l(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Ea.fromNumber(this.fe)}pe(e,n,a){let o=e.add(n.multiply(Ea.fromNumber(a)));return o.compare(SC)===1&&(o=new Ea([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=l0(e),[a,o]=u0(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(a,o,u);if(!this.ye(f))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new hg(u,o,n);return a.forEach(m=>f.insert(m)),f}insert(e){if(this.fe===0)return;const n=l0(e),[a,o]=u0(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(a,o,u);this.we(f)}}we(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class $l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,pu.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new jh(ke.min(),o,new Vt(Ye),Da(),st())}}class pu{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new pu(a,n,st(),st(),st())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n,a,o){this.Se=e,this.removedTargetIds=n,this.key=a,this.be=o}}class _T{constructor(e,n){this.targetId=e,this.De=n}}class ET{constructor(e,n,a=hn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class c0{constructor(){this.ve=0,this.Ce=h0(),this.Fe=hn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=st(),n=st(),a=st();return this.Ce.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:je(38017,{changeType:u})}}),new pu(this.Fe,this.Me,e,n,a)}ke(){this.xe=!1,this.Ce=h0()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ct(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class AC{constructor(e){this.We=e,this.Ge=new Map,this.ze=Da(),this.je=Hc(),this.Je=Hc(),this.He=new Vt(Ye)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const a=this.tt(n);switch(e.state){case 0:this.nt(n)&&a.Be(e.resumeToken);break;case 1:a.Ue(),a.Oe||a.ke(),a.Be(e.resumeToken);break;case 2:a.Ue(),a.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(a.Ke(),a.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),a.Be(e.resumeToken));break;default:je(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((a,o)=>{this.nt(o)&&n(o)})}it(e){const n=e.targetId,a=e.De.count,o=this.st(n);if(o){const u=o.target;if(Im(u))if(a===0){const f=new De(u.path);this.Xe(n,f,_n.newNoDocument(f,ke.min()))}else Ct(a===1,20013,{expectedCount:a});else{const f=this.ot(n);if(f!==a){const m=this._t(e),g=m?this.ut(m,e,f):1;if(g!==0){this.rt(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,p)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=xa(a).toUint8Array()}catch(g){if(g instanceof JE)return Aa("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new hg(f,o,u)}catch(g){return Aa(g instanceof $l?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.fe===0?null:m}ut(e,n,a){return n.De.count===a-this.ht(e,n.targetId)?0:2}ht(e,n){const a=this.We.getRemoteKeysForTarget(n);let o=0;return a.forEach(u=>{const f=this.We.lt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Xe(n,u,null),o++)}),o}Pt(e){const n=new Map;this.Ge.forEach((u,f)=>{const m=this.st(f);if(m){if(u.current&&Im(m.target)){const g=new De(m.target.path);this.Tt(g).has(f)||this.It(f,g)||this.Xe(f,g,_n.newNoDocument(g,e))}u.Ne&&(n.set(f,u.Le()),u.ke())}});let a=st();this.Je.forEach((u,f)=>{let m=!0;f.forEachWhile(g=>{const p=this.st(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(u))}),this.ze.forEach((u,f)=>f.setReadTime(e));const o=new jh(e,n,this.He,this.ze,a);return this.ze=Da(),this.je=Hc(),this.Je=Hc(),this.He=new Vt(Ye),o}Ze(e,n){if(!this.nt(e))return;const a=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,a),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,a){if(!this.nt(e))return;const o=this.tt(e);this.It(e,n)?o.qe(n,1):o.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),a&&(this.ze=this.ze.insert(n,a))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new c0,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Xt(Ye),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Xt(Ye),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new c0),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Hc(){return new Vt(De.comparator)}function h0(){return new Vt(De.comparator)}const RC={asc:"ASCENDING",desc:"DESCENDING"},CC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xC={and:"AND",or:"OR"};class IC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Mm(i,e){return i.useProto3Json||Mh(e)?e:{value:e}}function DC(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NC(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function _o(i){return Ct(!!i,49232),ke.fromTimestamp(function(n){const a=Ca(n);return new Ht(a.seconds,a.nanos)}(i))}function OC(i,e){return Vm(i,e).canonicalString()}function Vm(i,e){const n=function(o){return new Rt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function TT(i){const e=Rt.fromString(i);return Ct(RT(e),10190,{key:e.toString()}),e}function sm(i,e){const n=TT(e);if(n.get(1)!==i.databaseId.projectId)throw new Ae(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Ae(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new De(wT(n))}function bT(i,e){return OC(i.databaseId,e)}function MC(i){const e=TT(i);return e.length===4?Rt.emptyPath():wT(e)}function f0(i){return new Rt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function wT(i){return Ct(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function VC(i,e){let n;if("targetChange"in e){e.targetChange;const a=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:je(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(p,E){return p.useProto3Json?(Ct(E===void 0||typeof E=="string",58123),hn.fromBase64String(E||"")):(Ct(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),hn.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(p){const E=p.code===void 0?me.UNKNOWN:vT(p.code);return new Ae(E,p.message||"")}(f);n=new ET(a,o,u,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=sm(i,a.document.name),u=_o(a.document.updateTime),f=a.document.createTime?_o(a.document.createTime):ke.min(),m=new $r({mapValue:{fields:a.document.fields}}),g=_n.newFoundDocument(o,u,f,m),p=a.targetIds||[],E=a.removedTargetIds||[];n=new Jc(p,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=sm(i,a.document),u=a.readTime?_o(a.readTime):ke.min(),f=_n.newNoDocument(o,u),m=a.removedTargetIds||[];n=new Jc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=sm(i,a.document),u=a.removedTargetIds||[];n=new Jc([],u,o,null)}else{if(!("filter"in e))return je(11601,{At:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,f=new wC(o,u),m=a.targetId;n=new _T(m,f)}}return n}function PC(i,e){return{documents:[bT(i,e.path)]}}function LC(i,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=bT(i,o);const u=function(p){if(p.length!==0)return AT(Wr.create(p,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(p){if(p.length!==0)return p.map(E=>function(b){return{field:go(b.field),direction:zC(b.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Mm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{Vt:n,parent:o}}function kC(i){let e=MC(i.parent);const n=i.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){Ct(a===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(S){const b=ST(S);return b instanceof Wr&&aT(b)?b.getFilters():[b]}(n.where));let f=[];n.orderBy&&(f=function(S){return S.map(b=>function(L){return new mh(po(L.field),function(X){switch(X){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(b))}(n.orderBy));let m=null;n.limit&&(m=function(S){let b;return b=typeof S=="object"?S.value:S,Mh(b)?null:b}(n.limit));let g=null;n.startAt&&(g=function(S){const b=!!S.before,M=S.values||[];return new dh(M,b)}(n.startAt));let p=null;return n.endAt&&(p=function(S){const b=!S.before,M=S.values||[];return new dh(M,b)}(n.endAt)),rC(e,o,f,u,m,"F",g,p)}function UC(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ST(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=po(n.unaryFilter.field);return Qt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=po(n.unaryFilter.field);return Qt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=po(n.unaryFilter.field);return Qt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=po(n.unaryFilter.field);return Qt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return je(61313);default:return je(60726)}}(i):i.fieldFilter!==void 0?function(n){return Qt.create(po(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return je(58110);default:return je(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Wr.create(n.compositeFilter.filters.map(a=>ST(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return je(1026)}}(n.compositeFilter.op))}(i):je(30097,{filter:i})}function zC(i){return RC[i]}function jC(i){return CC[i]}function BC(i){return xC[i]}function go(i){return{fieldPath:i.canonicalString()}}function po(i){return xn.fromServerFormat(i.fieldPath)}function AT(i){return i instanceof Qt?function(n){if(n.op==="=="){if(W_(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NAN"}};if(J_(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(W_(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NOT_NAN"}};if(J_(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:go(n.field),op:jC(n.op),value:n.value}}}(i):i instanceof Wr?function(n){const a=n.getFilters().map(o=>AT(o));return a.length===1?a[0]:{compositeFilter:{op:BC(n.op),filters:a}}}(i):je(54877,{filter:i})}function RT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n,a,o,u=ke.min(),f=ke.min(),m=hn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new pa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e){this.gt=e}}function qC(i){const e=kC({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Dm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(){this.Dn=new GC}addToCollectionParentIndex(e,n){return this.Dn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(Ra.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(Ra.min())}updateCollectionGroup(e,n,a){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class GC{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new Xt(Rt.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Xt(Rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},CT=41943040;class Vn{static withCacheSize(e){return new Vn(e,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(CT,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new xo(0)}static ur(){return new xo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="LruGarbageCollector",$C=1048576;function g0([i,e],[n,a]){const o=Ye(i,n);return o===0?Ye(e,a):o}class YC{constructor(e){this.Tr=e,this.buffer=new Xt(g0),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();g0(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class KC{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ve(m0,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Po(n)?ve(m0,"Ignoring IndexedDB error during garbage collection: ",n):await Nh(n)}await this.Rr(3e5)})}}class QC{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(Oh.ue);const a=new YC(n);return this.Vr.forEachTarget(e,o=>a.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>a.Er(o))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.Vr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(d0)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),d0):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let a,o,u,f,m,g,p;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(a=S,m=Date.now(),this.removeTargets(e,a,n))).next(S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,a))).next(S=>(p=Date.now(),fo()<=Je.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(p-g)+`ms
Total Duration: ${p-E}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function XC(i,e){return new QC(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(){this.changes=new Ss(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ae.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(a!==null&&Jl(a.mutation,o,ga.empty(),Ht.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,st()).next(()=>a))}getLocalViewOfDocuments(e,n,a=st()){const o=ms();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,a).next(u=>{let f=Gl();return u.forEach((m,g)=>{f=f.insert(m,g.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const a=ms();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,st()))}populateOverlays(e,n,a){const o=[];return a.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,a,o){let u=Da();const f=Zl(),m=function(){return Zl()}();return n.forEach((g,p)=>{const E=a.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof zh)?u=u.insert(p.key,p):E!==void 0?(f.set(p.key,E.mutation.getFieldMask()),Jl(E.mutation,p,E.mutation.getFieldMask(),Ht.now())):f.set(p.key,ga.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((p,E)=>f.set(p,E)),n.forEach((p,E)=>{var S;return m.set(p,new JC(E,(S=f.get(p))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(e,n){const a=Zl();let o=new Vt((f,m)=>f-m),u=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(g=>{const p=n.get(g);if(p===null)return;let E=a.get(g)||ga.empty();E=m.applyToLocalView(p,E),a.set(g,E);const S=(o.get(m.batchId)||st()).add(g);o=o.insert(m.batchId,S)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,E=g.value,S=fT();E.forEach(b=>{if(!u.has(b)){const M=pT(n.get(b),a.get(b));M!==null&&S.set(b,M),u=u.add(b)}}),f.push(this.documentOverlayCache.saveOverlays(e,p,S))}return ae.waitFor(f)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,o){return function(f){return De.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):ae.resolve(ms());let m=iu,g=u;return f.next(p=>ae.forEach(p,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?ae.resolve():this.remoteDocumentCache.getEntry(e,E).next(b=>{g=g.insert(E,b)}))).next(()=>this.populateOverlays(e,p,u)).next(()=>this.computeViews(e,g,p,st())).next(E=>({batchId:m,changes:uC(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new De(n)).next(a=>{let o=Gl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let f=Gl();return this.indexManager.getCollectionParents(e,u).next(m=>ae.forEach(m,g=>{const p=function(S,b){return new Ph(b,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,a,o).next(E=>{E.forEach((S,b)=>{f=f.insert(S,b)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o))).next(f=>{u.forEach((g,p)=>{const E=p.getKey();f.get(E)===null&&(f=f.insert(E,_n.newInvalidDocument(E)))});let m=Gl();return f.forEach((g,p)=>{const E=u.get(g);E!==void 0&&Jl(E.mutation,p,ga.empty(),Ht.now()),kh(n,p)&&(m=m.insert(g,p))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return ae.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(o){return{id:o.id,version:o.version,createTime:_o(o.createTime)}}(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(o){return{name:o.name,query:qC(o.bundledQuery),readTime:_o(o.readTime)}}(n)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(){this.overlays=new Vt(De.comparator),this.kr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const a=ms();return ae.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((o,u)=>{this.wt(e,n,u)}),ae.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.kr.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.kr.delete(a)),ae.resolve()}getOverlaysForCollection(e,n,a){const o=ms(),u=n.length+1,f=new De(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>a&&o.set(g.getKey(),g)}return ae.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new Vt((p,E)=>p-E);const f=this.overlays.getIterator();for(;f.hasNext();){const p=f.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>a){let E=u.get(p.largestBatchId);E===null&&(E=ms(),u=u.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const m=ms(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((p,E)=>m.set(p,E)),!(m.size()>=o)););return ae.resolve(m)}wt(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.kr.get(o.largestBatchId).delete(a.key);this.kr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new bC(n,a));let u=this.kr.get(n);u===void 0&&(u=st(),this.kr.set(n,u)),this.kr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(){this.qr=new Xt(nn.Qr),this.$r=new Xt(nn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const a=new nn(e,n);this.qr=this.qr.add(a),this.$r=this.$r.add(a)}Kr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.Wr(new nn(e,n))}Gr(e,n){e.forEach(a=>this.removeReference(a,n))}zr(e){const n=new De(new Rt([])),a=new nn(n,e),o=new nn(n,e+1),u=[];return this.$r.forEachInRange([a,o],f=>{this.Wr(f),u.push(f.key)}),u}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new De(new Rt([])),a=new nn(n,e),o=new nn(n,e+1);let u=st();return this.$r.forEachInRange([a,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new nn(e,0),a=this.qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class nn{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return De.comparator(e.key,n.key)||Ye(e.Hr,n.Hr)}static Ur(e,n){return Ye(e.Hr,n.Hr)||De.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Xt(nn.Qr)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new TC(u,n,a,o);this.mutationQueue.push(f);for(const m of o)this.Yr=this.Yr.add(new nn(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ae.resolve(f)}lookupMutationBatch(e,n){return ae.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.Xr(a),u=o<0?0:o;return ae.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?L2:this.er-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new nn(n,0),o=new nn(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([a,o],f=>{const m=this.Zr(f.Hr);u.push(m)}),ae.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Xt(Ye);return n.forEach(o=>{const u=new nn(o,0),f=new nn(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,f],m=>{a=a.add(m.Hr)})}),ae.resolve(this.ei(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;De.isDocumentKey(u)||(u=u.child(""));const f=new nn(new De(u),0);let m=new Xt(Ye);return this.Yr.forEachWhile(g=>{const p=g.key.path;return!!a.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Hr)),!0)},f),ae.resolve(this.ei(m))}ei(e){const n=[];return e.forEach(a=>{const o=this.Zr(a);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ct(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Yr;return ae.forEach(n.mutations,o=>{const u=new nn(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=a})}rr(e){}containsKey(e,n){const a=new nn(n,0),o=this.Yr.firstAfterOrEqual(a);return ae.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e){this.ni=e,this.docs=function(){return new Vt(De.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,f=this.ni(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return ae.resolve(a?a.document.mutableCopy():_n.newInvalidDocument(n))}getEntries(e,n){let a=Da();return n.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():_n.newInvalidDocument(o))}),ae.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=Da();const f=n.path,m=new De(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:E}}=g.getNext();if(!f.isPrefixOf(p.path))break;p.path.length>f.length+1||O2(N2(E),a)<=0||(o.has(E.key)||kh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ae.resolve(u)}getAllFromCollectionGroup(e,n,a,o){je(9500)}ri(e,n){return ae.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new ax(this)}getSize(e){return ae.resolve(this.size)}}class ax extends ZC{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?n.push(this.Or.addEntry(e,o)):this.Or.removeEntry(a)}),ae.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e){this.persistence=e,this.ii=new Ss(n=>sg(n),og),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.si=0,this.oi=new fg,this.targetCount=0,this._i=xo.ar()}forEachTarget(e,n){return this.ii.forEach((a,o)=>n(o)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.si&&(this.si=n),ae.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new xo(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.hr(n),ae.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.ii.forEach((f,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.ii.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ae.waitFor(u).next(()=>o)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const a=this.ii.get(n)||null;return ae.resolve(a)}addMatchingKeys(e,n,a){return this.oi.Kr(n,a),ae.resolve()}removeMatchingKeys(e,n,a){this.oi.Gr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ae.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const a=this.oi.Jr(n);return ae.resolve(a)}containsKey(e,n){return ae.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,n){this.ai={},this.overlays={},this.ui=new Oh(0),this.ci=!1,this.ci=!0,this.li=new nx,this.referenceDelegate=e(this),this.hi=new sx(this),this.indexManager=new FC,this.remoteDocumentCache=function(o){return new ix(o)}(a=>this.referenceDelegate.Pi(a)),this.serializer=new HC(n),this.Ti=new ex(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new tx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ai[e.toKey()];return a||(a=new rx(n,this.referenceDelegate),this.ai[e.toKey()]=a),a}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,a){ve("MemoryPersistence","Starting transaction:",e);const o=new ox(this.ui.next());return this.referenceDelegate.Ii(),a(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ei(e,n){return ae.or(Object.values(this.ai).map(a=>()=>a.containsKey(e,n)))}}class ox extends V2{constructor(e){super(),this.currentSequenceNumber=e}}class dg{constructor(e){this.persistence=e,this.Ai=new fg,this.Ri=null}static Vi(e){return new dg(e)}get mi(){if(this.Ri)return this.Ri;throw je(60996)}addReference(e,n,a){return this.Ai.addReference(a,n),this.mi.delete(a.toString()),ae.resolve()}removeReference(e,n,a){return this.Ai.removeReference(a,n),this.mi.add(a.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(o=>this.mi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.mi.add(u.toString()))}).next(()=>a.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.mi,a=>{const o=De.fromPath(a);return this.fi(e,o).next(u=>{u||n.removeEntry(o,ke.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(a=>{a?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return ae.or([()=>ae.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class yh{constructor(e,n){this.persistence=e,this.gi=new Ss(a=>k2(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=XC(this,n)}static Vi(e,n){return new yh(e,n)}Ii(){}di(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>n.next(o=>a+o))}yr(e){let n=0;return this.gr(e,a=>{n++}).next(()=>n)}gr(e,n){return ae.forEach(this.gi,(a,o)=>this.Sr(e,a,o).next(u=>u?ae.resolve():n(o)))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,f=>this.Sr(e,f,n).next(m=>{m||(a++,u.removeEntry(f,ke.min()))})).next(()=>u.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.gi.set(a,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,a){return this.gi.set(a,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),ae.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Xc(e.data.value)),n}Sr(e,n,a){return ae.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.gi.get(n);return ae.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Is=a,this.ds=o}static Es(e,n){let a=st(),o=st();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new mg(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return WA()?8:P2(En())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.ps(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ys(e,n,o,a).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new lx;return this.ws(e,n,f).next(m=>{if(u.result=m,this.Rs)return this.Ss(e,n,f,m.size)})}).next(()=>u.result)}Ss(e,n,a,o){return a.documentReadCount<this.Vs?(fo()<=Je.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",mo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ae.resolve()):(fo()<=Je.DEBUG&&ve("QueryEngine","Query:",mo(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.fs*o?(fo()<=Je.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",mo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qr(n))):ae.resolve())}ps(e,n){if(r0(n))return ae.resolve(null);let a=Qr(n);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Dm(n,null,"F"),a=Qr(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(u=>{const f=st(...u);return this.gs.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,a).next(g=>{const p=this.bs(n,m);return this.Ds(n,p,f,g.readTime)?this.ps(e,Dm(n,null,"F")):this.vs(e,p,n,g)}))})))}ys(e,n,a,o){return r0(n)||o.isEqual(ke.min())?ae.resolve(null):this.gs.getDocuments(e,a).next(u=>{const f=this.bs(n,u);return this.Ds(n,f,a,o)?ae.resolve(null):(fo()<=Je.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),mo(n)),this.vs(e,f,n,D2(o,iu)).next(m=>m))})}bs(e,n){let a=new Xt(cT(e));return n.forEach((o,u)=>{kh(e,u)&&(a=a.add(u))}),a}Ds(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,n,a){return fo()<=Je.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",mo(n)),this.gs.getDocumentsMatchingQuery(e,n,Ra.min(),a)}vs(e,n,a,o){return this.gs.getDocumentsMatchingQuery(e,a,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="LocalStore",cx=3e8;class hx{constructor(e,n,a,o){this.persistence=e,this.Cs=n,this.serializer=o,this.Fs=new Vt(Ye),this.Ms=new Ss(u=>sg(u),og),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(a)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WC(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function fx(i,e,n,a){return new hx(i,e,n,a)}async function IT(i,e){const n=at(i);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,n.Ns(e),n.mutationQueue.getAllMutationBatches(a))).next(u=>{const f=[],m=[];let g=st();for(const p of o){f.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}for(const p of u){m.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(a,g).next(p=>({Bs:p,removedBatchIds:f,addedBatchIds:m}))})})}function DT(i){const e=at(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function dx(i,e){const n=at(i),a=e.snapshotVersion;let o=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Os.newChangeBuffer({trackRemovals:!0});o=n.Fs;const m=[];e.targetChanges.forEach((E,S)=>{const b=o.get(S);if(!b)return;m.push(n.hi.removeMatchingKeys(u,E.removedDocuments,S).next(()=>n.hi.addMatchingKeys(u,E.addedDocuments,S)));let M=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?M=M.withResumeToken(hn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):E.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(E.resumeToken,a)),o=o.insert(S,M),function(J,X,Y){return J.resumeToken.approximateByteSize()===0||X.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=cx?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(b,M,E)&&m.push(n.hi.updateTargetData(u,M))});let g=Da(),p=st();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(mx(u,f,e.documentUpdates).next(E=>{g=E.Ls,p=E.ks})),!a.isEqual(ke.min())){const E=n.hi.getLastRemoteSnapshotVersion(u).next(S=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,a));m.push(E)}return ae.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,p)).next(()=>g)}).then(u=>(n.Fs=o,u))}function mx(i,e,n){let a=st(),o=st();return n.forEach(u=>a=a.add(u)),e.getEntries(i,a).next(u=>{let f=Da();return n.forEach((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(ke.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):ve(gg,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)}),{Ls:f,ks:o}})}function gx(i,e){const n=at(i);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return n.hi.getTargetData(a,e).next(u=>u?(o=u,ae.resolve(o)):n.hi.allocateTargetId(a).next(f=>(o=new pa(e,f,"TargetPurposeListen",a.currentSequenceNumber),n.hi.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=n.Fs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(a.targetId,a),n.Ms.set(e,a.targetId)),a})}async function Pm(i,e,n){const a=at(i),o=a.Fs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,f=>a.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Po(f))throw f;ve(gg,`Failed to update sequence numbers for target ${e}: ${f}`)}a.Fs=a.Fs.remove(e),a.Ms.delete(o.target)}function p0(i,e,n){const a=at(i);let o=ke.min(),u=st();return a.persistence.runTransaction("Execute query","readwrite",f=>function(g,p,E){const S=at(g),b=S.Ms.get(E);return b!==void 0?ae.resolve(S.Fs.get(b)):S.hi.getTargetData(p,E)}(a,f,Qr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.hi.getMatchingKeysForTargetId(f,m.targetId).next(g=>{u=g})}).next(()=>a.Cs.getDocumentsMatchingQuery(f,e,n?o:ke.min(),n?u:st())).next(m=>(px(a,sC(e),m),{documents:m,qs:u})))}function px(i,e,n){let a=i.xs.get(e)||ke.min();n.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),i.xs.set(e,a)}class y0{constructor(){this.activeTargetIds=fC()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yx{constructor(){this.Fo=new y0,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,a){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new y0,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="ConnectivityMonitor";class _0{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ve(v0,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ve(v0,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qc=null;function Lm(){return qc===null?qc=function(){return 268435456+Math.round(2147483648*Math.random())}():qc++,"0x"+qc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om="RestConnection",_x={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ex{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${a}/databases/${o}`,this.Ko=this.databaseId.database===fh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(e,n,a,o,u){const f=Lm(),m=this.Go(e,n.toUriEncodedString());ve(om,`Sending RPC '${e}' ${f}:`,m,a);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(g,o,u);const{host:p}=new URL(m),E=Oo(p);return this.jo(e,m,g,a,E).then(S=>(ve(om,`Received RPC '${e}' ${f}: `,S),S),S=>{throw Aa(om,`RPC '${e}' ${f} failed with error: `,S,"url: ",m,"request:",a),S})}Jo(e,n,a,o,u,f){return this.Wo(e,n,a,o,u)}zo(e,n,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),a&&a.headers.forEach((o,u)=>e[u]=o)}Go(e,n){const a=_x[e];return`${this.$o}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn="WebChannelConnection";class bx extends Ex{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,a,o,u){const f=Lm();return new Promise((m,g)=>{const p=new qE;p.setWithCredentials(!0),p.listenOnce(FE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Qc.NO_ERROR:const S=p.getResponseJson();ve(yn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),m(S);break;case Qc.TIMEOUT:ve(yn,`RPC '${e}' ${f} timed out`),g(new Ae(me.DEADLINE_EXCEEDED,"Request time out"));break;case Qc.HTTP_ERROR:const b=p.getStatus();if(ve(yn,`RPC '${e}' ${f} failed with status:`,b,"response text:",p.getResponseText()),b>0){let M=p.getResponseJson();Array.isArray(M)&&(M=M[0]);const L=M?.error;if(L&&L.status&&L.message){const J=function(Y){const oe=Y.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(oe)>=0?oe:me.UNKNOWN}(L.status);g(new Ae(J,L.message))}else g(new Ae(me.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new Ae(me.UNAVAILABLE,"Connection failed."));break;default:je(9055,{c_:e,streamId:f,l_:p.getLastErrorCode(),h_:p.getLastError()})}}finally{ve(yn,`RPC '${e}' ${f} completed.`)}});const E=JSON.stringify(o);ve(yn,`RPC '${e}' ${f} sending request:`,o),p.send(n,"POST",E,a,15)})}P_(e,n,a){const o=Lm(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=YE(),m=$E(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.zo(g.initMessageHeaders,n,a),g.encodeInitMessageHeaders=!0;const E=u.join("");ve(yn,`Creating RPC '${e}' stream ${o}: ${E}`,g);const S=f.createWebChannel(E,g);this.T_(S);let b=!1,M=!1;const L=new Tx({Ho:X=>{M?ve(yn,`Not sending because RPC '${e}' stream ${o} is closed:`,X):(b||(ve(yn,`Opening RPC '${e}' stream ${o} transport.`),S.open(),b=!0),ve(yn,`RPC '${e}' stream ${o} sending:`,X),S.send(X))},Yo:()=>S.close()}),J=(X,Y,oe)=>{X.listen(Y,se=>{try{oe(se)}catch(ge){setTimeout(()=>{throw ge},0)}})};return J(S,Fl.EventType.OPEN,()=>{M||(ve(yn,`RPC '${e}' stream ${o} transport opened.`),L.s_())}),J(S,Fl.EventType.CLOSE,()=>{M||(M=!0,ve(yn,`RPC '${e}' stream ${o} transport closed`),L.__(),this.I_(S))}),J(S,Fl.EventType.ERROR,X=>{M||(M=!0,Aa(yn,`RPC '${e}' stream ${o} transport errored. Name:`,X.name,"Message:",X.message),L.__(new Ae(me.UNAVAILABLE,"The operation could not be completed")))}),J(S,Fl.EventType.MESSAGE,X=>{var Y;if(!M){const oe=X.data[0];Ct(!!oe,16349);const se=oe,ge=se?.error||((Y=se[0])===null||Y===void 0?void 0:Y.error);if(ge){ve(yn,`RPC '${e}' stream ${o} received error:`,ge);const de=ge.status;let V=function(R){const N=Bt[R];if(N!==void 0)return vT(N)}(de),x=ge.message;V===void 0&&(V=me.INTERNAL,x="Unknown error status: "+de+" with message "+ge.message),M=!0,L.__(new Ae(V,x)),S.close()}else ve(yn,`RPC '${e}' stream ${o} received:`,oe),L.a_(oe)}}),J(m,GE.STAT_EVENT,X=>{X.stat===Tm.PROXY?ve(yn,`RPC '${e}' stream ${o} detected buffering proxy`):X.stat===Tm.NOPROXY&&ve(yn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{L.o_()},0),L}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function lm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(i){return new IC(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,n,a=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=n,this.d_=a,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),a=Math.max(0,Date.now()-this.m_),o=Math.max(0,n-a);o>0&&ve("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="PersistentStream";class wx{constructor(e,n,a,o,u,f,m,g){this.Fi=e,this.w_=a,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new OT(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(xi(n.toString()),xi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.b_===n&&this.W_(a,o)},a=>{e(()=>{const o=new Ae(me.UNKNOWN,"Fetching auth token failed: "+a.message);return this.G_(o)})})}W_(e,n){const a=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{a(()=>this.listener.Zo())}),this.stream.e_(()=>{a(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{a(()=>this.G_(o))}),this.stream.onMessage(o=>{a(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ve(E0,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(ve(E0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Sx extends wx{constructor(e,n,a,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=VC(this.serializer,e),a=function(u){if(!("targetChange"in u))return ke.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?ke.min():f.readTime?_o(f.readTime):ke.min()}(e);return this.listener.J_(n,a)}H_(e){const n={};n.database=f0(this.serializer),n.addTarget=function(u,f){let m;const g=f.target;if(m=Im(g)?{documents:PC(u,g)}:{query:LC(u,g).Vt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=NC(u,f.resumeToken);const p=Mm(u,f.expectedCount);p!==null&&(m.expectedCount=p)}else if(f.snapshotVersion.compareTo(ke.min())>0){m.readTime=DC(u,f.snapshotVersion.toTimestamp());const p=Mm(u,f.expectedCount);p!==null&&(m.expectedCount=p)}return m}(this.serializer,e);const a=UC(this.serializer,e);a&&(n.labels=a),this.k_(n)}Y_(e){const n={};n.database=f0(this.serializer),n.removeTarget=e,this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{}class Rx extends Ax{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new Ae(me.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,a,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Wo(e,Vm(n,a),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ae(me.UNKNOWN,u.toString())})}Jo(e,n,a,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Jo(e,Vm(n,a),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Ae(me.UNKNOWN,f.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class Cx{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(xi(n),this._a=!1):ve("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io="RemoteStore";class xx{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo(f=>{a.enqueueAndForget(async()=>{vu(this)&&(ve(Io,"Restarting streams for network reachability change."),await async function(g){const p=at(g);p.Ia.add(4),await yu(p),p.Aa.set("Unknown"),p.Ia.delete(4),await Bh(p)}(this))})}),this.Aa=new Cx(a,o)}}async function Bh(i){if(vu(i))for(const e of i.da)await e(!0)}async function yu(i){for(const e of i.da)await e(!1)}function MT(i,e){const n=at(i);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),_g(n)?vg(n):Lo(n).x_()&&yg(n,e))}function pg(i,e){const n=at(i),a=Lo(n);n.Ta.delete(e),a.x_()&&VT(n,e),n.Ta.size===0&&(a.x_()?a.B_():vu(n)&&n.Aa.set("Unknown"))}function yg(i,e){if(i.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Lo(i).H_(e)}function VT(i,e){i.Ra.$e(e),Lo(i).Y_(e)}function vg(i){i.Ra=new AC({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.Ta.get(e)||null,lt:()=>i.datastore.serializer.databaseId}),Lo(i).start(),i.Aa.aa()}function _g(i){return vu(i)&&!Lo(i).M_()&&i.Ta.size>0}function vu(i){return at(i).Ia.size===0}function PT(i){i.Ra=void 0}async function Ix(i){i.Aa.set("Online")}async function Dx(i){i.Ta.forEach((e,n)=>{yg(i,e)})}async function Nx(i,e){PT(i),_g(i)?(i.Aa.la(e),vg(i)):i.Aa.set("Unknown")}async function Ox(i,e,n){if(i.Aa.set("Online"),e instanceof ET&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ta.delete(m),o.Ra.removeTarget(m))}(i,e)}catch(a){ve(Io,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await T0(i,a)}else if(e instanceof Jc?i.Ra.Ye(e):e instanceof _T?i.Ra.it(e):i.Ra.et(e),!n.isEqual(ke.min()))try{const a=await DT(i.localStore);n.compareTo(a)>=0&&await function(u,f){const m=u.Ra.Pt(f);return m.targetChanges.forEach((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ta.get(p);E&&u.Ta.set(p,E.withResumeToken(g.resumeToken,f))}}),m.targetMismatches.forEach((g,p)=>{const E=u.Ta.get(g);if(!E)return;u.Ta.set(g,E.withResumeToken(hn.EMPTY_BYTE_STRING,E.snapshotVersion)),VT(u,g);const S=new pa(E.target,g,p,E.sequenceNumber);yg(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(a){ve(Io,"Failed to raise snapshot:",a),await T0(i,a)}}async function T0(i,e,n){if(!Po(e))throw e;i.Ia.add(1),await yu(i),i.Aa.set("Offline"),n||(n=()=>DT(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ve(Io,"Retrying IndexedDB access"),await n(),i.Ia.delete(1),await Bh(i)})}async function b0(i,e){const n=at(i);n.asyncQueue.verifyOperationInProgress(),ve(Io,"RemoteStore received new credentials");const a=vu(n);n.Ia.add(3),await yu(n),a&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Bh(n)}async function Mx(i,e){const n=at(i);e?(n.Ia.delete(2),await Bh(n)):e||(n.Ia.add(2),await yu(n),n.Aa.set("Unknown"))}function Lo(i){return i.Va||(i.Va=function(n,a,o){const u=at(n);return u.ia(),new Sx(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Zo:Ix.bind(null,i),e_:Dx.bind(null,i),n_:Nx.bind(null,i),J_:Ox.bind(null,i)}),i.da.push(async e=>{e?(i.Va.N_(),_g(i)?vg(i):i.Aa.set("Unknown")):(await i.Va.stop(),PT(i))})),i.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const f=Date.now()+a,m=new Eg(e,n,f,o,u);return m.start(a),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function LT(i,e){if(xi("AsyncQueue",`${e}: ${i}`),Po(i))return new Ae(me.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{static emptySet(e){return new Eo(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||De.comparator(n.key,a.key):(n,a)=>De.comparator(n.key,a.key),this.keyedMap=Gl(),this.sortedSet=new Vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Eo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new Eo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(){this.fa=new Vt(De.comparator)}track(e){const n=e.doc.key,a=this.fa.get(n);a?e.type!==0&&a.type===3?this.fa=this.fa.insert(n,e):e.type===3&&a.type!==1?this.fa=this.fa.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.fa=this.fa.remove(n):e.type===1&&a.type===2?this.fa=this.fa.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):je(63341,{At:e,ga:a}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,a)=>{e.push(a)}),e}}class Do{constructor(e,n,a,o,u,f,m,g,p){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,a,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Do(e,n,Eo.emptySet(n),f,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class Px{constructor(){this.queries=S0(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,a){const o=at(n),u=o.queries;o.queries=S0(),u.forEach((f,m)=>{for(const g of m.wa)g.onError(a)})})(this,new Ae(me.ABORTED,"Firestore shutting down"))}}function S0(){return new Ss(i=>uT(i),Lh)}async function Lx(i,e){const n=at(i);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.ba()&&(a=2):(u=new Vx,a=e.ba()?0:1);try{switch(a){case 0:u.ya=await n.onListen(o,!0);break;case 1:u.ya=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=LT(f,`Initialization of query '${mo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.wa.push(e),e.va(n.onlineState),u.ya&&e.Ca(u.ya)&&Tg(n)}async function kx(i,e){const n=at(i),a=e.query;let o=3;const u=n.queries.get(a);if(u){const f=u.wa.indexOf(e);f>=0&&(u.wa.splice(f,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function Ux(i,e){const n=at(i);let a=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.wa)m.Ca(o)&&(a=!0);f.ya=o}}a&&Tg(n)}function zx(i,e,n){const a=at(i),o=a.queries.get(e);if(o)for(const u of o.wa)u.onError(n);a.queries.delete(e)}function Tg(i){i.Da.forEach(e=>{e.next()})}var km,A0;(A0=km||(km={})).Fa="default",A0.Cache="cache";class jx{constructor(e,n,a){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=a||{}}Ca(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Do(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const a=n!=="Offline";return(!this.options.ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Do.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==km.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e){this.key=e}}class UT{constructor(e){this.key=e}}class Bx{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=st(),this.mutatedKeys=st(),this.Xa=cT(e),this.eu=new Eo(this.Xa)}get tu(){return this.Ha}nu(e,n){const a=n?n.ru:new w0,o=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const b=o.get(E),M=kh(this.query,S)?S:null,L=!!b&&this.mutatedKeys.has(b.key),J=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let X=!1;b&&M?b.data.isEqual(M.data)?L!==J&&(a.track({type:3,doc:M}),X=!0):this.iu(b,M)||(a.track({type:2,doc:M}),X=!0,(g&&this.Xa(M,g)>0||p&&this.Xa(M,p)<0)&&(m=!0)):!b&&M?(a.track({type:0,doc:M}),X=!0):b&&!M&&(a.track({type:1,doc:b}),X=!0,(g||p)&&(m=!0)),X&&(M?(f=f.add(M),u=J?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),a.track({type:1,doc:E})}return{eu:f,ru:a,Ds:m,mutatedKeys:u}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const f=e.ru.pa();f.sort((E,S)=>function(M,L){const J=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je(20277,{At:X})}};return J(M)-J(L)}(E.type,S.type)||this.Xa(E.doc,S.doc)),this.su(a),o=o!=null&&o;const m=n&&!o?this.ou():[],g=this.Za.size===0&&this.current&&!o?1:0,p=g!==this.Ya;return this.Ya=g,f.length!==0||p?{snapshot:new Do(this.query,e.eu,u,f,e.mutatedKeys,g===0,p,!1,!!a&&a.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new w0,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=st(),this.eu.forEach(a=>{this.au(a.key)&&(this.Za=this.Za.add(a.key))});const n=[];return e.forEach(a=>{this.Za.has(a)||n.push(new UT(a))}),this.Za.forEach(a=>{e.has(a)||n.push(new kT(a))}),n}uu(e){this.Ha=e.qs,this.Za=st();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Do.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const bg="SyncEngine";class Hx{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class qx{constructor(e){this.key=e,this.lu=!1}}class Fx{constructor(e,n,a,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.hu={},this.Pu=new Ss(m=>uT(m),Lh),this.Tu=new Map,this.Iu=new Set,this.du=new Vt(De.comparator),this.Eu=new Map,this.Au=new fg,this.Ru={},this.Vu=new Map,this.mu=xo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function Gx(i,e,n=!0){const a=qT(i);let o;const u=a.Pu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await zT(a,e,n,!0),o}async function $x(i,e){const n=qT(i);await zT(n,e,!0,!1)}async function zT(i,e,n,a){const o=await gx(i.localStore,Qr(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return a&&(m=await Yx(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&MT(i.remoteStore,o),m}async function Yx(i,e,n,a,o){i.gu=(S,b,M)=>async function(J,X,Y,oe){let se=X.view.nu(Y);se.Ds&&(se=await p0(J.localStore,X.query,!1).then(({documents:x})=>X.view.nu(x,se)));const ge=oe&&oe.targetChanges.get(X.targetId),de=oe&&oe.targetMismatches.get(X.targetId)!=null,V=X.view.applyChanges(se,J.isPrimaryClient,ge,de);return C0(J,X.targetId,V._u),V.snapshot}(i,S,b,M);const u=await p0(i.localStore,e,!0),f=new Bx(e,u.qs),m=f.nu(u.documents),g=pu.createSynthesizedTargetChangeForCurrentChange(n,a&&i.onlineState!=="Offline",o),p=f.applyChanges(m,i.isPrimaryClient,g);C0(i,n,p._u);const E=new Hx(e,n,f);return i.Pu.set(e,E),i.Tu.has(n)?i.Tu.get(n).push(e):i.Tu.set(n,[e]),p.snapshot}async function Kx(i,e,n){const a=at(i),o=a.Pu.get(e),u=a.Tu.get(o.targetId);if(u.length>1)return a.Tu.set(o.targetId,u.filter(f=>!Lh(f,e))),void a.Pu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Pm(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),n&&pg(a.remoteStore,o.targetId),Um(a,o.targetId)}).catch(Nh)):(Um(a,o.targetId),await Pm(a.localStore,o.targetId,!0))}async function Qx(i,e){const n=at(i),a=n.Pu.get(e),o=n.Tu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),pg(n.remoteStore,a.targetId))}async function jT(i,e){const n=at(i);try{const a=await dx(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Eu.get(u);f&&(Ct(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.lu=!0:o.modifiedDocuments.size>0?Ct(f.lu,14607):o.removedDocuments.size>0&&(Ct(f.lu,42227),f.lu=!1))}),await HT(n,a,e)}catch(a){await Nh(a)}}function R0(i,e,n){const a=at(i);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Pu.forEach((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const g=at(f);g.onlineState=m;let p=!1;g.queries.forEach((E,S)=>{for(const b of S.wa)b.va(m)&&(p=!0)}),p&&Tg(g)}(a.eventManager,e),o.length&&a.hu.J_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function Xx(i,e,n){const a=at(i);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Eu.get(e),u=o&&o.key;if(u){let f=new Vt(De.comparator);f=f.insert(u,_n.newNoDocument(u,ke.min()));const m=st().add(u),g=new jh(ke.min(),new Map,new Vt(Ye),f,m);await jT(a,g),a.du=a.du.remove(u),a.Eu.delete(e),wg(a)}else await Pm(a.localStore,e,!1).then(()=>Um(a,e,n)).catch(Nh)}function Um(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.Tu.get(e))i.Pu.delete(a),n&&i.hu.pu(a,n);i.Tu.delete(e),i.isPrimaryClient&&i.Au.zr(e).forEach(a=>{i.Au.containsKey(a)||BT(i,a)})}function BT(i,e){i.Iu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(pg(i.remoteStore,n),i.du=i.du.remove(e),i.Eu.delete(n),wg(i))}function C0(i,e,n){for(const a of n)a instanceof kT?(i.Au.addReference(a.key,e),Zx(i,a)):a instanceof UT?(ve(bg,"Document no longer in limbo: "+a.key),i.Au.removeReference(a.key,e),i.Au.containsKey(a.key)||BT(i,a.key)):je(19791,{yu:a})}function Zx(i,e){const n=e.key,a=n.path.canonicalString();i.du.get(n)||i.Iu.has(a)||(ve(bg,"New document in limbo: "+n),i.Iu.add(a),wg(i))}function wg(i){for(;i.Iu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Iu.values().next().value;i.Iu.delete(e);const n=new De(Rt.fromString(e)),a=i.mu.next();i.Eu.set(a,new qx(n)),i.du=i.du.insert(n,a),MT(i.remoteStore,new pa(Qr(lg(n.path)),a,"TargetPurposeLimboResolution",Oh.ue))}}async function HT(i,e,n){const a=at(i),o=[],u=[],f=[];a.Pu.isEmpty()||(a.Pu.forEach((m,g)=>{f.push(a.gu(g,e,n).then(p=>{var E;if((p||n)&&a.isPrimaryClient){const S=p?!p.fromCache:(E=n?.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;a.sharedClientState.updateQueryState(g.targetId,S?"current":"not-current")}if(p){o.push(p);const S=mg.Es(g.targetId,p);u.push(S)}}))}),await Promise.all(f),a.hu.J_(o),await async function(g,p){const E=at(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>ae.forEach(p,b=>ae.forEach(b.Is,M=>E.persistence.referenceDelegate.addReference(S,b.targetId,M)).next(()=>ae.forEach(b.ds,M=>E.persistence.referenceDelegate.removeReference(S,b.targetId,M)))))}catch(S){if(!Po(S))throw S;ve(gg,"Failed to update sequence numbers: "+S)}for(const S of p){const b=S.targetId;if(!S.fromCache){const M=E.Fs.get(b),L=M.snapshotVersion,J=M.withLastLimboFreeSnapshotVersion(L);E.Fs=E.Fs.insert(b,J)}}}(a.localStore,u))}async function Jx(i,e){const n=at(i);if(!n.currentUser.isEqual(e)){ve(bg,"User change. New user:",e.toKey());const a=await IT(n.localStore,e);n.currentUser=e,function(u,f){u.Vu.forEach(m=>{m.forEach(g=>{g.reject(new Ae(me.CANCELLED,f))})}),u.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await HT(n,a.Bs)}}function Wx(i,e){const n=at(i),a=n.Eu.get(e);if(a&&a.lu)return st().add(a.key);{let o=st();const u=n.Tu.get(e);if(!u)return o;for(const f of u){const m=n.Pu.get(f);o=o.unionWith(m.view.tu)}return o}}function qT(i){const e=at(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=jT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Xx.bind(null,e),e.hu.J_=Ux.bind(null,e.eventManager),e.hu.pu=zx.bind(null,e.eventManager),e}class vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=NT(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return fx(this.persistence,new ux,e.initialUser,this.serializer)}Du(e){return new xT(dg.Vi,this.serializer)}bu(e){return new yx}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vh.provider={build:()=>new vh};class eI extends vh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Ct(this.persistence.referenceDelegate instanceof yh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new KC(a,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new xT(a=>yh.Vi(a,n),this.serializer)}}class zm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>R0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=Jx.bind(null,this.syncEngine),await Mx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Px}()}createDatastore(e){const n=NT(e.databaseInfo.databaseId),a=function(u){return new bx(u)}(e.databaseInfo);return function(u,f,m,g){return new Rx(u,f,m,g)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,o,u,f,m){return new xx(a,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>R0(this.syncEngine,n,0),function(){return _0.C()?new _0:new vx}())}createSyncEngine(e,n){return function(o,u,f,m,g,p,E){const S=new Fx(o,u,f,m,g,p);return E&&(S.fu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=at(o);ve(Io,"RemoteStore shutting down."),u.Ia.add(5),await yu(u),u.Ea.shutdown(),u.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}zm.provider={build:()=>new zm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):xi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="FirestoreClient";class nI{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=vn.UNAUTHENTICATED,this.clientId=rg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async f=>{ve(Na,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(a,f=>(ve(Na,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=LT(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function um(i,e){i.asyncQueue.verifyOperationInProgress(),ve(Na,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let a=n.initialUser;i.setCredentialChangeListener(async o=>{a.isEqual(o)||(await IT(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>{Aa("Terminating Firestore due to IndexedDb database deletion"),i.terminate().then(()=>{ve("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{Aa("Terminating Firestore due to IndexedDb database deletion failed",o)})}),i._offlineComponents=e}async function x0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await rI(i);ve(Na,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(a=>b0(e.remoteStore,a)),i.setAppCheckTokenChangeListener((a,o)=>b0(e.remoteStore,o)),i._onlineComponents=e}async function rI(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ve(Na,"Using user provided OfflineComponentProvider");try{await um(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===me.FAILED_PRECONDITION||o.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Aa("Error using user provided cache. Falling back to memory cache: "+n),await um(i,new vh)}}else ve(Na,"Using default OfflineComponentProvider"),await um(i,new eI(void 0));return i._offlineComponents}async function iI(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ve(Na,"Using user provided OnlineComponentProvider"),await x0(i,i._uninitializedComponentsProvider._online)):(ve(Na,"Using default OnlineComponentProvider"),await x0(i,new zm))),i._onlineComponents}async function aI(i){const e=await iI(i),n=e.eventManager;return n.onListen=Gx.bind(null,e.syncEngine),n.onUnlisten=Kx.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$x.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Qx.bind(null,e.syncEngine),n}function sI(i,e,n={}){const a=new ps;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,g,p){const E=new tI({next:b=>{E.Ou(),f.enqueueAndForget(()=>kx(u,S));const M=b.docs.has(m);!M&&b.fromCache?p.reject(new Ae(me.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&b.fromCache&&g&&g.source==="server"?p.reject(new Ae(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),S=new jx(lg(m.path),E,{includeMetadataChanges:!0,ka:!0});return Lx(u,S)}(await aI(i),i.asyncQueue,e,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="firestore.googleapis.com",D0=!0;class N0{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=GT,this.ssl=D0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:D0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=CT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$C)throw new Ae(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}C2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FT((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Ae(me.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Ae(me.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Ae(me.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sg{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new N0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new y2;switch(a.type){case"firstParty":return new T2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Ae(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=I0.get(n);a&&(ve("ComponentProvider","Removing Datastore"),I0.delete(n),a.terminate())}(this),Promise.resolve()}}function oI(i,e,n,a={}){var o;i=wm(i,Sg);const u=Oo(e),f=i._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:i._getEmulatorOptions()}),g=`${e}:${n}`;u&&(VE(`https://${g}`),PE("Firestore",!0)),f.host!==GT&&f.host!==g&&Aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},f),{host:g,ssl:u,emulatorOptions:a});if(!_s(p,m)&&(i._setSettings(p),a.mockUserToken)){let E,S;if(typeof a.mockUserToken=="string")E=a.mockUserToken,S=vn.MOCK_USER;else{E=FA(a.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new Ae(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new vn(b)}i._authCredentials=new v2(new QE(E,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Ag(this.firestore,e,this._query)}}class In{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new In(this.firestore,e,this._key)}toJSON(){return{type:In._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(mu(n,In._jsonSchema))return new In(e,a||null,new De(Rt.fromString(n.referencePath)))}}In._jsonSchemaVersion="firestore/documentReference/1.0",In._jsonSchema={type:qt("string",In._jsonSchemaVersion),referencePath:qt("string")};class lu extends Ag{constructor(e,n,a){super(e,n,lg(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new In(this.firestore,null,new De(e))}withConverter(e){return new lu(this.firestore,e,this._path)}}function lI(i,e,...n){if(i=Pa(i),arguments.length===1&&(e=rg.newId()),R2("doc","path",e),i instanceof Sg){const a=Rt.fromString(e,...n);return F_(a),new In(i,null,new De(a))}{if(!(i instanceof In||i instanceof lu))throw new Ae(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(Rt.fromString(e,...n));return F_(a),new In(i.firestore,i instanceof lu?i.converter:null,new De(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="AsyncQueue";class M0{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new OT(this,"async_queue_retry"),this.oc=()=>{const a=lm();a&&ve(O0,"Visibility state changed to "+a.visibilityState),this.F_.y_()},this._c=e;const n=lm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=lm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new ps;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Po(e))throw e;ve(O0,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(a=>{throw this.tc=a,this.nc=!1,xi("INTERNAL UNHANDLED ERROR: ",V0(a)),a}).then(a=>(this.nc=!1,a))));return this._c=n,n}enqueueAfterDelay(e,n,a){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const o=Eg.createAndSchedule(this,e,n,a,u=>this.lc(u));return this.ec.push(o),o}ac(){this.tc&&je(47125,{hc:V0(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function V0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class $T extends Sg{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new M0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new M0(e),this._firestoreClient=void 0,await e}}}function uI(i,e){const n=typeof i=="object"?i:zE(),a=typeof i=="string"?i:fh,o=tg(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=HA("firestore");u&&oI(o,...u)}return o}function cI(i){if(i._terminated)throw new Ae(me.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||hI(i),i._firestoreClient}function hI(i){var e,n,a;const o=i._freezeSettings(),u=function(m,g,p,E){return new B2(m,g,p,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,FT(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new nI(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const g=m?._online.build();return{_offline:m?._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yr(hn.fromBase64String(e))}catch(n){throw new Ae(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yr(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mu(e,Yr._jsonSchema))return Yr.fromBase64String(e.bytes)}}Yr._jsonSchemaVersion="firestore/bytes/1.0",Yr._jsonSchema={type:qt("string",Yr._jsonSchemaVersion),bytes:qt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ae(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ae(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ae(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ta._jsonSchemaVersion}}static fromJSON(e){if(mu(e,Ta._jsonSchema))return new Ta(e.latitude,e.longitude)}}Ta._jsonSchemaVersion="firestore/geoPoint/1.0",Ta._jsonSchema={type:qt("string",Ta._jsonSchemaVersion),latitude:qt("number"),longitude:qt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ba._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mu(e,ba._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ba(e.vectorValues);throw new Ae(me.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ba._jsonSchemaVersion="firestore/vectorValue/1.0",ba._jsonSchema={type:qt("string",ba._jsonSchemaVersion),vectorValues:qt("object")};const fI=new RegExp("[~\\*/\\[\\]]");function dI(i,e,n){if(e.search(fI)>=0)throw P0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i);try{return new YT(...e.split("."))._internalPath}catch{throw P0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i)}}function P0(i,e,n,a,o){let u=`Function ${e}() called with invalid data`;u+=". ";let f="";return new Ae(me.INVALID_ARGUMENT,u+i+f)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new In(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(QT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mI extends KT{data(){return super.data()}}function QT(i,e){return typeof e=="string"?dI(i,e):e instanceof YT?e._internalPath:e._delegate._internalPath}class gI{convertValue(e,n="none"){switch(Ia(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw je(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return gu(e,(o,u)=>{a[o]=this.convertValue(u,n)}),a}convertVectorValue(e){var n,a,o;const u=(o=(a=(n=e.fields)===null||n===void 0?void 0:n[Am].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(f=>Ot(f.doubleValue));return new ba(u)}convertGeoPoint(e){return new Ta(Ot(e.latitude),Ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=Vh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(au(e));default:return null}}convertTimestamp(e){const n=Ca(e);return new Ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=Rt.fromString(e);Ct(RT(a),9688,{name:e});const o=new su(a.get(1),a.get(3)),u=new De(a.popFirst(5));return o.isEqual(n)||xi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class Yl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vs extends KT{constructor(e,n,a,o,u,f){super(e,n,a,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Wc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(QT("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(me.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=vs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}vs._jsonSchemaVersion="firestore/documentSnapshot/1.0",vs._jsonSchema={type:qt("string",vs._jsonSchemaVersion),bundleSource:qt("string","DocumentSnapshot"),bundleName:qt("string"),bundle:qt("string")};class Wc extends vs{data(e={}){return super.data(e)}}class Wl{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Yl(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(a=>{e.call(n,new Wc(this._firestore,this._userDataWriter,a.key,a,new Yl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ae(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const g=new Wc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Yl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new Wc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Yl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return m.type!==0&&(p=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:pI(m.type),doc:g,oldIndex:p,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(me.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Wl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=rg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function pI(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(i){i=wm(i,In);const e=wm(i.firestore,$T);return sI(cI(e),i._key).then(n=>_I(e,i,n))}Wl._jsonSchemaVersion="firestore/querySnapshot/1.0",Wl._jsonSchema={type:qt("string",Wl._jsonSchemaVersion),bundleSource:qt("string","QuerySnapshot"),bundleName:qt("string"),bundle:qt("string")};class vI extends gI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new In(this.firestore,null,n)}}function _I(i,e,n){const a=n.docs.get(e._key),o=new vI(i);return new vs(i,o,e._key,a,new Yl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Vo=o})(Mo),So(new Es("firestore",(a,{instanceIdentifier:o,options:u})=>{const f=a.getProvider("app").getImmediate(),m=new $T(new _2(a.getProvider("auth-internal")),new b2(f,a.getProvider("app-check-internal")),function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Ae(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new su(p.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),_a(z_,j_,e),_a(z_,j_,"esm2017")})();var EI="firebase",TI="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_a(EI,TI,"app");function Rg(i,e){var n={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&e.indexOf(a)<0&&(n[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(i);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(i,a[o])&&(n[a[o]]=i[a[o]]);return n}function XT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bI=XT,ZT=new fu("auth","Firebase",XT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=new Wm("@firebase/auth");function wI(i,...e){_h.logLevel<=Je.WARN&&_h.warn(`Auth (${Mo}): ${i}`,...e)}function eh(i,...e){_h.logLevel<=Je.ERROR&&_h.error(`Auth (${Mo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(i,...e){throw Cg(i,...e)}function Xr(i,...e){return Cg(i,...e)}function JT(i,e,n){const a=Object.assign(Object.assign({},bI()),{[e]:n});return new fu("auth","Firebase",a).create(e,{appName:i.name})}function wa(i){return JT(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cg(i,...e){if(typeof i!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=i.name),i._errorFactory.create(n,...a)}return ZT.create(i,...e)}function Pe(i,e,...n){if(!i)throw Cg(e,...n)}function Ai(i){const e="INTERNAL ASSERTION FAILED: "+i;throw eh(e),new Error(e)}function Di(i,e){i||Ai(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function SI(){return L0()==="http:"||L0()==="https:"}function L0(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SI()||XA()||"connection"in navigator)?navigator.onLine:!0}function RI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n){this.shortDelay=e,this.longDelay=n,Di(n>e,"Short delay should be less than long delay!"),this.isMobile=YA()||ZA()}get(){return AI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(i,e){Di(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],II=new _u(3e4,6e4);function Hh(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function ko(i,e,n,a,o={}){return eb(i,o,async()=>{let u={},f={};a&&(e==="GET"?f=a:u={body:JSON.stringify(a)});const m=du(Object.assign({key:i.config.apiKey},f)).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const p=Object.assign({method:e,headers:g},u);return QA()||(p.referrerPolicy="no-referrer"),i.emulatorConfig&&Oo(i.emulatorConfig.host)&&(p.credentials="include"),WT.fetch()(await nb(i,i.config.apiHost,n,m),p)})}async function eb(i,e,n){i._canInitEmulator=!1;const a=Object.assign(Object.assign({},CI),e);try{const o=new DI(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Fc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fc(i,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Fc(i,"email-already-in-use",f);if(g==="USER_DISABLED")throw Fc(i,"user-disabled",f);const E=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw JT(i,E,p);Ii(i,E)}}catch(o){if(o instanceof Ni)throw o;Ii(i,"network-request-failed",{message:String(o)})}}async function tb(i,e,n,a,o={}){const u=await ko(i,e,n,a,o);return"mfaPendingCredential"in u&&Ii(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function nb(i,e,n,a){const o=`${e}${n}?${a}`,u=i,f=u.config.emulator?xg(i.config,o):`${i.config.apiScheme}://${o}`;return xI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class DI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Xr(this.auth,"network-request-failed")),II.get())})}}function Fc(i,e,n){const a={appName:i.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=Xr(i,e,a);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NI(i,e){return ko(i,"POST","/v1/accounts:delete",e)}async function Eh(i,e){return ko(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function OI(i,e=!1){const n=Pa(i),a=await n.getIdToken(e),o=Ig(a);Pe(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:a,authTime:eu(cm(o.auth_time)),issuedAtTime:eu(cm(o.iat)),expirationTime:eu(cm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function cm(i){return Number(i)*1e3}function Ig(i){const[e,n,a]=i.split(".");if(e===void 0||n===void 0||a===void 0)return eh("JWT malformed, contained fewer than 3 sections"),null;try{const o=DE(n);return o?JSON.parse(o):(eh("Failed to decode base64 JWT payload"),null)}catch(o){return eh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function k0(i){const e=Ig(i);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uu(i,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof Ni&&MI(a)&&i.auth.currentUser===i&&await i.auth.signOut(),a}}function MI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Th(i){var e;const n=i.auth,a=await i.getIdToken(),o=await uu(i,Eh(n,{idToken:a}));Pe(o?.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?rb(u.providerUserInfo):[],m=LI(i.providerData,f),g=i.isAnonymous,p=!(i.email&&u.passwordHash)&&!m?.length,E=g?p:!1,S={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Bm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,S)}async function PI(i){const e=Pa(i);await Th(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function LI(i,e){return[...i.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function rb(i){return i.map(e=>{var{providerId:n}=e,a=Rg(e,["providerId"]);return{providerId:n,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kI(i,e){const n=await eb(i,{},async()=>{const a=du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await nb(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:a};return i.emulatorConfig&&Oo(i.emulatorConfig.host)&&(g.credentials="include"),WT.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function UI(i,e){return ko(i,"POST","/v2/accounts:revokeToken",Hh(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):k0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const n=k0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await kI(e,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,f=new To;return a&&(Pe(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),o&&(Pe(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Pe(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new To,this.toJSON())}_performRefresh(){return Ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(i,e){Pe(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class br{constructor(e){var{uid:n,auth:a,stsTokenManager:o}=e,u=Rg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new VI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Bm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await uu(this,this.stsTokenManager.getToken(this.auth,e));return Pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return OI(this,e)}reload(){return PI(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new br(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await Th(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tr(this.auth.app))return Promise.reject(wa(this.auth));const e=await this.getIdToken();return await uu(this,NI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var a,o,u,f,m,g,p,E;const S=(a=n.displayName)!==null&&a!==void 0?a:void 0,b=(o=n.email)!==null&&o!==void 0?o:void 0,M=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,L=(f=n.photoURL)!==null&&f!==void 0?f:void 0,J=(m=n.tenantId)!==null&&m!==void 0?m:void 0,X=(g=n._redirectEventId)!==null&&g!==void 0?g:void 0,Y=(p=n.createdAt)!==null&&p!==void 0?p:void 0,oe=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:se,emailVerified:ge,isAnonymous:de,providerData:V,stsTokenManager:x}=n;Pe(se&&x,e,"internal-error");const A=To.fromJSON(this.name,x);Pe(typeof se=="string",e,"internal-error"),la(S,e.name),la(b,e.name),Pe(typeof ge=="boolean",e,"internal-error"),Pe(typeof de=="boolean",e,"internal-error"),la(M,e.name),la(L,e.name),la(J,e.name),la(X,e.name),la(Y,e.name),la(oe,e.name);const R=new br({uid:se,auth:e,email:b,emailVerified:ge,displayName:S,isAnonymous:de,photoURL:L,phoneNumber:M,tenantId:J,stsTokenManager:A,createdAt:Y,lastLoginAt:oe});return V&&Array.isArray(V)&&(R.providerData=V.map(N=>Object.assign({},N))),X&&(R._redirectEventId=X),R}static async _fromIdTokenResponse(e,n,a=!1){const o=new To;o.updateFromServerResponse(n);const u=new br({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Th(u),u}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];Pe(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?rb(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new To;m.updateFromIdToken(a);const g=new br({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Bm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,p),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0=new Map;function Ri(i){Di(i instanceof Function,"Expected a class definition");let e=U0.get(i);return e?(Di(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,U0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ib.type="NONE";const z0=ib;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(i,e,n){return`firebase:${i}:${e}:${n}`}class bo{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=th(this.userKey,o.apiKey,u),this.fullPersistenceKey=th("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Eh(this.auth,{idToken:e}).catch(()=>{});return n?br._fromGetAccountInfoResponse(this.auth,n,e):null}return br._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new bo(Ri(z0),e,a);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||Ri(z0);const f=th(a,e.config.apiKey,e.name);let m=null;for(const p of n)try{const E=await p._get(f);if(E){let S;if(typeof E=="string"){const b=await Eh(e,{idToken:E}).catch(()=>{});if(!b)break;S=await br._fromGetAccountInfoResponse(e,b,E)}else S=br._fromJSON(e,E);p!==u&&(m=S),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new bo(u,e,a):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(f)}catch{}})),new bo(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ab(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cb(e))return"Blackberry";if(hb(e))return"Webos";if(sb(e))return"Safari";if((e.includes("chrome/")||ob(e))&&!e.includes("edge/"))return"Chrome";if(ub(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=i.match(n);if(a?.length===2)return a[1]}return"Other"}function ab(i=En()){return/firefox\//i.test(i)}function sb(i=En()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ob(i=En()){return/crios\//i.test(i)}function lb(i=En()){return/iemobile/i.test(i)}function ub(i=En()){return/android/i.test(i)}function cb(i=En()){return/blackberry/i.test(i)}function hb(i=En()){return/webos/i.test(i)}function Dg(i=En()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function zI(i=En()){var e;return Dg(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function jI(){return JA()&&document.documentMode===10}function fb(i=En()){return Dg(i)||ub(i)||hb(i)||cb(i)||/windows phone/i.test(i)||lb(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(i,e=[]){let n;switch(i){case"Browser":n=j0(En());break;case"Worker":n=`${j0(En())}-${i}`;break;default:n=i}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Mo}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HI(i,e={}){return ko(i,"GET","/v2/passwordPolicy",Hh(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=6;class FI{constructor(e){var n,a,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:qI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,a,o,u,f,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(n=g.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),g.isValid&&(g.isValid=(a=g.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(f=g.containsNumericCharacter)!==null&&f!==void 0?f:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new B0(this),this.idTokenSubscription=new B0(this),this.beforeStateQueue=new BI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ri(n)),this._initializationPromise=this.queue(async()=>{var a,o,u;if(!this._deleted&&(this.persistenceManager=await bo.create(this,e),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Eh(this,{idToken:e}),a=await br._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Tr(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o?._redirectEventId,g=await this.tryRedirectSignIn(e);(!f||f===m)&&g?.user&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Th(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tr(this.app))return Promise.reject(wa(this));const n=e?Pa(e):null;return n&&Pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tr(this.app)?Promise.reject(wa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tr(this.app)?Promise.reject(wa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await HI(this),n=new FI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fu("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await UI(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ri(e)||this._popupRedirectResolver;Pe(n,this,"argument-error"),this.redirectPersistenceManager=await bo.create(this,[Ri(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,a,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=db(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(n["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Tr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&wI(`Error while retrieving App Check token: ${n.error}`),n?.token}}function qh(i){return Pa(i)}class B0{constructor(e){this.auth=e,this.observer=null,this.addObserver=sR(n=>this.observer=n)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ng={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $I(i){Ng=i}function YI(i){return Ng.loadJS(i)}function KI(){return Ng.gapiScript}function QI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(i,e){const n=tg(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(_s(u,e??{}))return o;Ii(o,"already-initialized")}return n.initialize({options:e})}function ZI(i,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map(Ri);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(a,e?.popupRedirectResolver)}function JI(i,e,n){const a=qh(i);Pe(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=mb(e),{host:f,port:m}=WI(e),g=m===null?"":`:${m}`,p={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Pe(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Pe(_s(p,a.config.emulator)&&_s(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=p,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,Oo(f)?(VE(`${u}//${f}${g}`),PE("Auth",!0)):eD()}function mb(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function WI(i){const e=mb(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:H0(a.substr(u.length+1))}}else{const[u,f]=a.split(":");return{host:u,port:H0(f)}}}function H0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function eD(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ai("not implemented")}_getIdTokenResponse(e){return Ai("not implemented")}_linkToIdToken(e,n){return Ai("not implemented")}_getReauthenticationResolver(e){return Ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(i,e){return tb(i,"POST","/v1/accounts:signInWithIdp",Hh(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD="http://localhost";class bs extends gb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new bs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ii("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=n,u=Rg(n,["providerId","signInMethod"]);if(!a||!o)return null;const f=new bs(a,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return wo(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,wo(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wo(e,n)}buildRequest(){const e={requestUri:tD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=du(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends pb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha extends Eu{constructor(){super("facebook.com")}static credential(e){return bs._fromParams({providerId:ha.PROVIDER_ID,signInMethod:ha.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ha.credentialFromTaggedObject(e)}static credentialFromError(e){return ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ha.credential(e.oauthAccessToken)}catch{return null}}}ha.FACEBOOK_SIGN_IN_METHOD="facebook.com";ha.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa extends Eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return bs._fromParams({providerId:fa.PROVIDER_ID,signInMethod:fa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fa.credentialFromTaggedObject(e)}static credentialFromError(e){return fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return fa.credential(n,a)}catch{return null}}}fa.GOOGLE_SIGN_IN_METHOD="google.com";fa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da extends Eu{constructor(){super("github.com")}static credential(e){return bs._fromParams({providerId:da.PROVIDER_ID,signInMethod:da.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return da.credentialFromTaggedObject(e)}static credentialFromError(e){return da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return da.credential(e.oauthAccessToken)}catch{return null}}}da.GITHUB_SIGN_IN_METHOD="github.com";da.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma extends Eu{constructor(){super("twitter.com")}static credential(e,n){return bs._fromParams({providerId:ma.PROVIDER_ID,signInMethod:ma.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ma.credentialFromTaggedObject(e)}static credentialFromError(e){return ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return ma.credential(n,a)}catch{return null}}}ma.TWITTER_SIGN_IN_METHOD="twitter.com";ma.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nD(i,e){return tb(i,"POST","/v1/accounts:signUp",Hh(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const u=await br._fromIdTokenResponse(e,a,o),f=q0(a);return new Oa({user:u,providerId:f,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=q0(a);return new Oa({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function q0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rD(i){var e;if(Tr(i.app))return Promise.reject(wa(i));const n=qh(i);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Oa({user:n.currentUser,providerId:null,operationType:"signIn"});const a=await nD(n,{returnSecureToken:!0}),o=await Oa._fromIdTokenResponse(n,"signIn",a,!0);return await n._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh extends Ni{constructor(e,n,a,o){var u;super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,bh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new bh(e,n,a,o)}}function yb(i,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?bh._fromErrorAndOperation(i,u,e,a):u})}async function iD(i,e,n=!1){const a=await uu(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Oa._forOperation(i,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD(i,e,n=!1){const{auth:a}=i;if(Tr(a.app))return Promise.reject(wa(a));const o="reauthenticate";try{const u=await uu(i,yb(a,o,e,i),n);Pe(u.idToken,a,"internal-error");const f=Ig(u.idToken);Pe(f,a,"internal-error");const{sub:m}=f;return Pe(i.uid===m,a,"user-mismatch"),Oa._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Ii(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sD(i,e,n=!1){if(Tr(i.app))return Promise.reject(wa(i));const a="signIn",o=await yb(i,a,e),u=await Oa._fromIdTokenResponse(i,a,o);return n||await i._updateCurrentUser(u.user),u}function oD(i,e,n,a){return Pa(i).onIdTokenChanged(e,n,a)}function lD(i,e,n){return Pa(i).beforeAuthStateChanged(e,n)}function uD(i,e,n,a){return Pa(i).onAuthStateChanged(e,n,a)}const wh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wh,"1"),this.storage.removeItem(wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=1e3,hD=10;class _b extends vb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!n&&this.localCache[a]===f||this.notifyListeners(a,f)},u=this.storage.getItem(a);jI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,hD):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},cD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_b.type="LOCAL";const fD=_b;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb extends vb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Eb.type="SESSION";const Tb=Eb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new Fh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(f).map(async p=>p(n.origin,u)),g=await dD(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(i="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const p=Og("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(S){const b=S;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(){return window}function gD(i){Zr().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(){return typeof Zr().WorkerGlobalScope<"u"&&typeof Zr().importScripts=="function"}async function pD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yD(){var i;return((i=navigator?.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function vD(){return bb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="firebaseLocalStorageDb",_D=1,Sh="firebaseLocalStorage",Sb="fbase_key";class Tu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Gh(i,e){return i.transaction([Sh],e?"readwrite":"readonly").objectStore(Sh)}function ED(){const i=indexedDB.deleteDatabase(wb);return new Tu(i).toPromise()}function Hm(){const i=indexedDB.open(wb,_D);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const a=i.result;try{a.createObjectStore(Sh,{keyPath:Sb})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const a=i.result;a.objectStoreNames.contains(Sh)?e(a):(a.close(),await ED(),e(await Hm()))})})}async function F0(i,e,n){const a=Gh(i,!0).put({[Sb]:e,value:n});return new Tu(a).toPromise()}async function TD(i,e){const n=Gh(i,!1).get(e),a=await new Tu(n).toPromise();return a===void 0?null:a.value}function G0(i,e){const n=Gh(i,!0).delete(e);return new Tu(n).toPromise()}const bD=800,wD=3;class Ab{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>wD)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fh._getInstance(vD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await pD(),!this.activeServiceWorker)return;this.sender=new mD(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((n=a[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hm();return await F0(e,wh,"1"),await G0(e,wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>F0(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>TD(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>G0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Gh(o,!1).getAll();return new Tu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ab.type="LOCAL";const SD=Ab;new _u(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(i,e){return e?Ri(e):(Pe(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg extends gb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function RD(i){return sD(i.auth,new Mg(i),i.bypassAuthState)}function CD(i){const{auth:e,user:n}=i;return Pe(n,e,"internal-error"),aD(n,new Mg(i),i.bypassAuthState)}async function xD(i){const{auth:e,user:n}=i;return Pe(n,e,"internal-error"),iD(n,new Mg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,n,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RD;case"linkViaPopup":case"linkViaRedirect":return xD;case"reauthViaPopup":case"reauthViaRedirect":return CD;default:Ii(this.auth,"internal-error")}}resolve(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=new _u(2e3,1e4);class yo extends Rb{constructor(e,n,a,o,u){super(e,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,yo.currentPopupAction&&yo.currentPopupAction.cancel(),yo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){Di(this.filter.length===1,"Popup operations only handle one event");const e=Og();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Xr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if(!((a=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ID.get())};e()}}yo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD="pendingRedirect",nh=new Map;class ND extends Rb{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=nh.get(this.auth._key());if(!e){try{const a=await OD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}nh.set(this.auth._key(),e)}return this.bypassAuthState||nh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OD(i,e){const n=PD(e),a=VD(i);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function MD(i,e){nh.set(i._key(),e)}function VD(i){return Ri(i._redirectPersistence)}function PD(i){return th(DD,i.config.apiKey,i.name)}async function LD(i,e,n=!1){if(Tr(i.app))return Promise.reject(wa(i));const a=qh(i),o=AD(a,e),f=await new ND(a,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=10*60*1e3;class UD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!Cb(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";n.onError(Xr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kD&&this.cachedEventUids.clear(),this.cachedEventUids.has($0(e))}saveEventToCache(e){this.cachedEventUids.add($0(e)),this.lastProcessedEventTime=Date.now()}}function $0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Cb({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function zD(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cb(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jD(i,e={}){return ko(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HD=/^https?/;async function qD(i){if(i.config.emulator)return;const{authorizedDomains:e}=await jD(i);for(const n of e)try{if(FD(n))return}catch{}Ii(i,"unauthorized-domain")}function FD(i){const e=jm(),{protocol:n,hostname:a}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&a===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===a}if(!HD.test(n))return!1;if(BD.test(i))return a===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=new _u(3e4,6e4);function Y0(){const i=Zr().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function $D(i){return new Promise((e,n)=>{var a,o,u;function f(){Y0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Y0(),n(Xr(i,"network-request-failed"))},timeout:GD.get()})}if(!((o=(a=Zr().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Zr().gapi)===null||u===void 0)&&u.load)f();else{const m=QI("iframefcb");return Zr()[m]=()=>{gapi.load?f():n(Xr(i,"network-request-failed"))},YI(`${KI()}?onload=${m}`).catch(g=>n(g))}}).catch(e=>{throw rh=null,e})}let rh=null;function YD(i){return rh=rh||$D(i),rh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=new _u(5e3,15e3),QD="__/auth/iframe",XD="emulator/auth/iframe",ZD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WD(i){const e=i.config;Pe(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?xg(e,XD):`https://${i.config.authDomain}/${QD}`,a={apiKey:e.apiKey,appName:i.name,v:Mo},o=JD.get(i.config.apiHost);o&&(a.eid=o);const u=i._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${du(a).slice(1)}`}async function eN(i){const e=await YD(i),n=Zr().gapi;return Pe(n,i,"internal-error"),e.open({where:document.body,url:WD(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZD,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const f=Xr(i,"network-request-failed"),m=Zr().setTimeout(()=>{u(f)},KD.get());function g(){Zr().clearTimeout(m),o(a)}a.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nN=500,rN=600,iN="_blank",aN="http://localhost";class K0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sN(i,e,n,a=nN,o=rN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const g=Object.assign(Object.assign({},tN),{width:a.toString(),height:o.toString(),top:u,left:f}),p=En().toLowerCase();n&&(m=ob(p)?iN:n),ab(p)&&(e=e||aN,g.scrollbars="yes");const E=Object.entries(g).reduce((b,[M,L])=>`${b}${M}=${L},`,"");if(zI(p)&&m!=="_self")return oN(e||"",m),new K0(null);const S=window.open(e||"",m,E);Pe(S,i,"popup-blocked");try{S.focus()}catch{}return new K0(S)}function oN(i,e){const n=document.createElement("a");n.href=i,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN="__/auth/handler",uN="emulator/auth/handler",cN=encodeURIComponent("fac");async function Q0(i,e,n,a,o,u){Pe(i.config.authDomain,i,"auth-domain-config-required"),Pe(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:a,v:Mo,eventId:o};if(e instanceof pb){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",aR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(e instanceof Eu){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await i._getAppCheckToken(),p=g?`#${cN}=${encodeURIComponent(g)}`:"";return`${hN(i)}?${du(m).slice(1)}${p}`}function hN({config:i}){return i.emulator?xg(i,uN):`https://${i.authDomain}/${lN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="webStorageSupport";class fN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Tb,this._completeRedirectFn=LD,this._overrideRedirectResult=MD}async _openPopup(e,n,a,o){var u;Di((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await Q0(e,n,a,jm(),o);return sN(e,f,Og())}async _openRedirect(e,n,a,o){await this._originValidation(e);const u=await Q0(e,n,a,jm(),o);return gD(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Di(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await eN(e),a=new UD(e);return n.register("authEvent",o=>(Pe(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hm,{type:hm},o=>{var u;const f=(u=o?.[0])===null||u===void 0?void 0:u[hm];f!==void 0&&n(!!f),Ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return fb()||sb()||Dg()}}const dN=fN;var X0="@firebase/auth",Z0="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pN(i){So(new Es("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=a.options;Pe(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:db(i)},p=new GI(a,o,u,g);return ZI(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),So(new Es("auth-internal",e=>{const n=qh(e.getProvider("auth").getImmediate());return(a=>new mN(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_a(X0,Z0,gN(i)),_a(X0,Z0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=5*60,vN=ME("authIdTokenMaxAge")||yN;let J0=null;const _N=i=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>vN)return;const o=n?.token;J0!==o&&(J0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function EN(i=zE()){const e=tg(i,"auth");if(e.isInitialized())return e.getImmediate();const n=XI(i,{popupRedirectResolver:dN,persistence:[SD,fD,Tb]}),a=ME("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const f=_N(u.toString());lD(n,f,()=>f(n.currentUser)),oD(n,m=>f(m))}}const o=NE("auth");return o&&JI(n,`http://${o}`),n}function TN(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}$I({loadJS(i){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",i),a.onload=e,a.onerror=o=>{const u=Xr("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",TN().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pN("Browser");const bN={apiKey:"AIzaSyA6c_Ze6KiLQdxSnlSgY1q6nQqIuC-3G4k",authDomain:"card-unity.firebaseapp.com",projectId:"card-unity",storageBucket:"card-unity.firebasestorage.app",messagingSenderId:"979726633961",appId:"1:979726633961:web:32b6838b4ebf71d41b9978",measurementId:"G-YG5W9SKT1D"},xb=UE(bN),wN=uI(xb),W0=EN(xb),SN=async()=>new Promise(i=>{uD(W0,e=>{e?i():rD(W0).then(()=>{console.log("Signed in anonymously"),i()}).catch(n=>{console.error("Error signing in anonymously:",n),i()})})}),AN=i=>{const[e,n]=Q.useState(null),[a,o]=Q.useState(!0),[u,f]=Q.useState(null);return Q.useEffect(()=>{(async()=>{if(!i){f("UID no proporcionado"),o(!1);return}try{o(!0),await SN();const g=lI(wN,"users",i),p=await yI(g);if(p.exists()){const E=p.data();n(E),f(null)}else f("Usuario no encontrado"),n(null)}catch(g){console.error("Error fetching user:",g),f("Error al cargar usuario"),n(null)}finally{o(!1)}})()},[i]),{userData:e,loading:a,error:u}},Ah=({message:i="Usuario no encontrado",showBackButton:e=!0})=>{const n=Km();return ee.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center px-4",children:ee.jsxs("div",{className:"text-center",children:[ee.jsxs("div",{className:"mb-8",children:[ee.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-gray-100 dark:bg-gray-700 rounded-full mb-4",children:ee.jsx(Kc,{className:"w-12 h-12 text-gray-400 dark:text-gray-500"})}),ee.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:i}),ee.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"No se pudo encontrar la informacin del usuario solicitado."})]}),e&&ee.jsxs("button",{onClick:()=>n("/"),className:"inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors duration-200 shadow-lg hover:shadow-xl",children:[ee.jsx(SA,{className:"w-5 h-5 mr-2"}),"Volver al inicio"]})]})})},RN=({isDarkMode:i})=>{const e=i?"/white_logo.svg":"/black_logo.svg";return ee.jsxs("div",{className:"flex items-center justify-center",children:[ee.jsx("img",{src:"/white_logo.svg",alt:"Unity Logo",height:40,width:40,onError:n=>{console.error(" Error cargando logo Unity:",n.currentTarget.src),console.error(" isDarkMode:",i,"Path:",e),n.currentTarget.style.display="none"},onLoad:()=>{console.log(" Logo Unity cargado exitosamente:",e)}}),ee.jsx("span",{className:`text-sm font-bold ${i?"text-white":"text-gray-800"}`,style:{display:"none"},id:"unity-fallback",children:"UNITY"})]})},CN=({userData:i,isDarkMode:e,displayValue:n})=>{const[a,o]=Q.useState(!1),[u,f]=Q.useState(!0),m=p=>{if(!p||p.trim()===""||p==="-------")return!1;try{const E=decodeURIComponent(p);return new URL(E),!0}catch{try{return new URL(p),!0}catch{return!1}}};Q.useEffect(()=>{o(!1),f(!0)},[i?.PhotoUrl]);const g=i?.PhotoUrl;return m(g)?a?ee.jsx(Kc,{className:"w-16 h-16 sm:w-14 sm:h-14 md:w-16 md:h-16 lg:w-20 lg:h-20 xl:w-24 xl:h-24 text-white"}):ee.jsxs(ee.Fragment,{children:[u&&ee.jsx("div",{className:"w-full h-full flex items-center justify-center",children:ee.jsx("div",{className:"animate-spin",children:ee.jsx(Kc,{className:"w-16 h-16 sm:w-14 sm:h-14 md:w-16 md:h-16 lg:w-20 lg:h-20 xl:w-24 xl:h-24 opacity-50 text-white"})})}),ee.jsx("img",{src:g,alt:`${n(i?.Nombres)} ${n(i?.Apellidos)}`,className:`w-full h-full object-cover rounded-full transition-opacity duration-300 ${u?"opacity-0 absolute":"opacity-100"}`,onLoad:()=>{console.log(" Imagen cargada exitosamente:",g),f(!1),o(!1)},onError:()=>{console.log(" Error cargando imagen:",g),o(!0),f(!1)},style:{imageRendering:"auto",objectFit:"cover",backgroundColor:"transparent"}})]}):ee.jsx(Kc,{className:"w-16 h-16 sm:w-14 sm:h-14 md:w-16 md:h-16 lg:w-20 lg:h-20 xl:w-24 xl:h-24 text-white"})},xN=()=>{const{uid:i}=dS(),e=i==="demo"?"QcsoVRnPirWZeFWgwm2Q":i,{userData:n,loading:a,error:o}=AN(e),[u,f]=Q.useState(!1),[m,g]=Q.useState("contact"),[p,E]=Q.useState(!0);Q.useEffect(()=>{console.log(" isDarkMode cambi a:",p,"Logo a usar:",p?"black_logo.svg":"white_logo.svg")},[p]);const S=V=>{V.stopPropagation(),f(!u)},b=(V,x)=>{V.stopPropagation(),g(x)},M=async V=>{V.stopPropagation();const x=n?.NroCelular;if(!x||x.trim()===""||x==="-------"){alert(" No hay nmero de telfono disponible para agregar a contactos.");return}const A=`${oe(n?.Nombres)} ${oe(n?.Apellidos)}`.trim(),R=oe(n?.Empresa,""),N=n?.Email||"";try{const k=L({name:A,organization:R,tel:x,email:N,url:n?.LinkedInUrl||n?.WebSyte||""});J(k,A);const U=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);alert(U?` Perfecto! Se ha descargado el contacto "${A}.vcf".

 Para agregarlo:
 Busca el archivo en tu carpeta de Descargas
 Tcalo para abrirlo
 Confirma para agregar a tus contactos`:` Listo! Se ha descargado el archivo "${A}.vcf".

 Para agregarlo:
 Abre el archivo descargado
 Se abrir tu aplicacin de contactos
 Confirma para agregar el contacto`)}catch(k){console.error("Error al crear vCard:",k),alert(" Hubo un error al crear el archivo de contacto. Por favor, intenta nuevamente.")}},L=V=>{const x=V.name.split(" "),A=x[0]||"",R=x.slice(1).join(" ")||"";return`BEGIN:VCARD
VERSION:3.0
FN:${V.name}
N:${R};${A};;;
ORG:${V.organization}
TITLE:${oe(n?.Cargo,"")}
TEL;TYPE=CELL:${V.tel}
EMAIL;TYPE=WORK:${V.email}
URL:${V.url}
NOTE:Contacto agregado desde tarjeta digital AJE JOBS
END:VCARD`},J=(V,x)=>{const A=new Blob([V],{type:"text/vcard"}),R=window.URL.createObjectURL(A),N=document.createElement("a");N.href=R,N.download=`${x.replace(/\s+/g,"_")}.vcf`,document.body.appendChild(N),N.click(),document.body.removeChild(N),window.URL.revokeObjectURL(R)},X=V=>{V.stopPropagation();const x=n?.LinkedInUrl||"https://www.linkedin.com/";window.open(x,"_blank")},Y=V=>{V.stopPropagation(),E(!p)},oe=(V,x="-------")=>V||x,se=V=>{if(!V||V==="-------")return"2019";try{const x=parseInt(V);return isNaN(x)?V:new Date(x>9999999999?x:x*1e3).toLocaleDateString("es-ES",{year:"numeric",month:"long"})}catch(x){return console.error("Error formateando fecha:",x),V}},ge=V=>{if(!V||V.trim()===""||V==="-------")return!1;try{return new URL(V),!0}catch{return!1}};if(Q.useEffect(()=>{n?.PhotoUrl},[n?.PhotoUrl]),Q.useEffect(()=>{const V=localStorage.getItem("isDarkMode");if(console.log(" Cargando modo desde localStorage:",V),V!==null){const x=JSON.parse(V);console.log(" Aplicando modo desde localStorage:",x),E(x)}},[]),Q.useEffect(()=>{console.log(" Guardando modo en localStorage:",p),localStorage.setItem("isDarkMode",JSON.stringify(p))},[p]),a)return ee.jsx("div",{className:`min-h-screen transition-colors duration-300 ${p?"bg-gradient-to-br from-gray-900 to-black":"bg-gradient-to-br from-gray-100 to-gray-200"} flex items-center justify-center p-0 md:p-6 lg:p-8 xl:p-12`,children:ee.jsx("div",{className:"card-container w-full h-full min-h-screen md:min-h-0",children:ee.jsx("div",{className:"card",children:ee.jsx("div",{className:"card-face card-front",children:ee.jsx("div",{className:`h-full min-h-screen md:min-h-0 flex flex-col items-center justify-center relative px-1 sm:px-4 md:px-6 lg:px-8 xl:px-12 py-1 sm:py-6 md:py-8 lg:py-10 xl:py-12 transition-colors duration-300 ${p?"bg-black text-white":"bg-white text-gray-800"}`,children:ee.jsxs("div",{className:"animate-pulse text-center",children:[ee.jsx("div",{className:"w-16 h-16 bg-gray-300 rounded-2xl mx-auto mb-8"}),ee.jsx("div",{className:"h-8 bg-gray-300 rounded w-48 mx-auto mb-4"}),ee.jsx("div",{className:"h-4 bg-gray-300 rounded w-32 mx-auto"})]})})})})})});if(o==="Usuario no encontrado")return ee.jsx(Ah,{message:"Usuario no encontrado"});if(o&&!a)return ee.jsx(Ah,{message:"Error al cargar la informacin"});const de=()=>{switch(m){case"contact":return ee.jsx("div",{className:"text-center space-y-2 sm:space-y-4 flex-1 flex flex-col justify-center info-section",children:ee.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[ee.jsxs("h1",{className:`text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-bold leading-tight ${p?"text-white":"text-gray-800"}`,children:[oe(n?.Nombres)," ",oe(n?.Apellidos)]}),ee.jsx("p",{className:`text-lg sm:text-xl md:text-2xl lg:text-3xl xl:text-4xl font-medium opacity-90 ${p?"text-white":"text-gray-600"}`,children:oe(n?.Cargo,"Cargo no disponible")}),ee.jsxs("div",{className:"birthday-info inline-flex items-center space-x-3 mt-4",children:[ee.jsx(IA,{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl text-yellow-400"}),ee.jsxs("div",{className:"text-left",children:[ee.jsx("p",{className:`text-sm sm:text-base md:text-lg lg:text-xl opacity-70 ${p?"text-gray-300":"text-gray-500"}`,children:"Cumpleaos"}),ee.jsx("p",{className:`text-base sm:text-lg md:text-xl lg:text-2xl xl:text-3xl ${p?"text-white":"text-gray-800"}`,children:oe(n?.FechaNac,"No disponible")})]})]})]})});case"company":return ee.jsx("div",{className:"text-center space-y-2 sm:space-y-4 flex-1 flex flex-col justify-center info-section",children:ee.jsxs("div",{className:"space-y-2 sm:space-y-4",children:[ee.jsxs("div",{className:"space-y-2",children:[ee.jsx("p",{className:`text-sm sm:text-base md:text-lg lg:text-xl opacity-70 ${p?"text-gray-300":"text-gray-500"}`,children:"Empresa"}),ee.jsx("h2",{className:`text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-medium ${p?"text-white":"text-gray-800"}`,children:oe(n?.Empresa,"Empresa no disponible")})]}),ee.jsxs("div",{className:"space-y-2",children:[ee.jsx("p",{className:`text-sm sm:text-base md:text-lg lg:text-xl opacity-70 ${p?"text-gray-300":"text-gray-500"}`,children:"Cargo"}),ee.jsx("p",{className:`text-lg sm:text-xl md:text-2xl lg:text-3xl xl:text-4xl font-light ${p?"text-white":"text-gray-800"}`,children:oe(n?.Cargo,"Cargo no disponible")})]}),ee.jsx("div",{className:`mt-6 pt-4 border-t ${p?"border-white/20":"border-gray-800/20"}`,children:ee.jsxs("p",{className:`text-sm sm:text-base md:text-lg opacity-60 ${p?"text-gray-300":"text-gray-500"}`,children:["Miembro desde ",se(n?.CreatedAt)]})})]})});case"socials":return ee.jsx("div",{className:"text-center space-y-2 sm:space-y-4 flex-1 flex flex-col justify-center info-section",children:ee.jsxs("div",{className:"space-y-2 sm:space-y-4",children:[ee.jsx("div",{children:ee.jsx("p",{className:`text-sm sm:text-base opacity-70 mb-4 ${p?"text-gray-300":"text-gray-500"}`,children:"Redes Sociales"})}),ge(n?.LinkedInUrl)&&ee.jsxs("button",{onClick:X,className:`linkedin-button flex items-center justify-center space-x-3 w-full rounded-lg transition-all border py-3 ${p?"bg-white/10 border-white/20 hover:bg-white/20 text-white":"bg-gray-800/10 border-gray-800/20 hover:bg-gray-800/20 text-gray-800"}`,children:[ee.jsx(A_,{className:"w-8 h-8 sm:w-10 sm:h-10"}),ee.jsxs("div",{className:"text-left flex-1",children:[ee.jsx("p",{className:"text-base sm:text-lg font-medium",children:"LinkedIn"}),ee.jsx("p",{className:"text-sm sm:text-base opacity-70",children:n?.LinkedInUrl})]}),ee.jsx(AA,{className:"w-5 h-5 opacity-60"})]}),!ge(n?.LinkedInUrl)&&ee.jsxs("div",{className:`text-center py-4 ${p?"text-gray-400":"text-gray-500"}`,children:[ee.jsx(A_,{className:"w-10 h-10 sm:w-12 sm:h-12 mx-auto mb-2 opacity-40"}),ee.jsx("p",{className:"text-base sm:text-lg opacity-70",children:"LinkedIn no disponible"})]}),ee.jsxs("button",{onClick:M,className:`contact-button flex items-center justify-center space-x-3 w-full rounded-lg transition-all border py-3 ${n?.NroCelular&&n.NroCelular!=="-------"?"bg-green-500/20 hover:bg-green-500/30 border-green-400/30":"bg-gray-500/20 hover:bg-gray-500/30 border-gray-400/30"}`,children:[ee.jsx(CA,{className:`w-6 h-6 sm:w-8 sm:h-8 ${n?.NroCelular&&n.NroCelular!=="-------"?"text-green-400":"text-gray-400"}`}),ee.jsx("div",{className:"text-center",children:ee.jsx("p",{className:`text-base sm:text-lg font-medium ${n?.NroCelular&&n.NroCelular!=="-------"?"text-green-400":"text-gray-400"}`,children:n?.NroCelular&&n.NroCelular!=="-------"?"Agregar Contacto":"Sin telfono disponible"})})]})]})});default:return null}};return ee.jsx("div",{className:`min-h-screen transition-colors duration-300 ${p?"bg-gradient-to-br from-gray-900 to-black":"bg-gradient-to-br from-gray-100 to-gray-200"} flex items-center justify-center p-0 md:p-6 lg:p-8 xl:p-12`,children:ee.jsx("div",{className:"card-container w-full h-full min-h-screen md:min-h-0",children:ee.jsxs("div",{className:`card ${u?"flipped":""}`,children:[ee.jsxs("div",{className:"card-face card-front",children:[ee.jsx("button",{onClick:Y,className:`theme-button absolute top-2 left-2 sm:top-4 sm:left-4 w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center transition-all border z-10 ${p?"bg-white/20 hover:bg-white/30 border-white/30 text-white":"bg-gray-800/80 hover:bg-gray-800 border-gray-700 text-white"}`,children:p?ee.jsx(xA,{className:"w-4 h-4 sm:w-5 sm:h-5"}):ee.jsx(RA,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),ee.jsx("button",{onClick:S,className:`flip-button absolute top-2 right-2 sm:top-4 sm:right-4 w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center transition-all border z-10 ${p?"bg-white/20 hover:bg-white/30 border-white/30 text-white":"bg-gray-800/80 hover:bg-gray-800 border-gray-700 text-white"}`,children:ee.jsx(R_,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),!1,ee.jsxs("div",{className:`h-full min-h-screen md:min-h-0 flex flex-col items-center justify-between relative px-2 sm:px-4 md:px-6 lg:px-8 xl:px-12 py-2 sm:py-6 md:py-8 lg:py-10 xl:py-12 transition-colors duration-300 ${p?"bg-black text-white":"bg-white text-gray-800"}`,children:[ee.jsx("div",{className:"flex items-center justify-center mt-3 sm:mt-4 md:mt-5 lg:mt-6 mb-4 sm:mb-5 md:mb-6 lg:mb-7",children:ee.jsx(RN,{isDarkMode:p})}),ee.jsx("div",{className:"flex flex-col items-center mt-50 md:mt-0 xl:mt-0 mb-1 sm:mb-4 md:mb-5 lg:mb-6",children:ee.jsx("div",{className:`w-62 h-62 sm:w-32 sm:h-52 md:w-52 md:h-52 lg:w-70 lg:h-70 xl:w-80 xl:h-80 person-icon-container rounded-full flex items-center justify-center ${p?"bg-gradient-to-br from-gray-700 to-gray-800 border-2 border-gray-600":"bg-gradient-to-br from-gray-600 to-gray-700 border-2 border-gray-500"} overflow-hidden shadow-lg`,children:ee.jsx(CN,{userData:n,isDarkMode:p,displayValue:oe})})}),ee.jsx("div",{className:"flex-1 flex flex-col justify-center items-center px-2",children:de()}),ee.jsx("div",{className:"w-full pb-2 sm:pb-0",children:ee.jsxs("div",{className:`tab-container flex justify-center space-x-1 rounded-lg p-1.5 mx-2 sm:mx-0 ${p?"bg-white/10 border border-white/20":"bg-gray-300/80 border border-gray-400/50"}`,children:[ee.jsx("button",{onClick:V=>b(V,"contact"),className:`flex-1 rounded-md font-medium py-3 px-3 sm:px-4 transition-all text-sm sm:text-base ${m==="contact"?p?"bg-white text-black shadow-sm":"bg-white text-gray-800 shadow-sm border border-gray-200":p?"text-white/70 hover:text-white hover:bg-white/10":"text-gray-800 hover:text-gray-900 hover:bg-white/70 font-medium"}`,children:"Contact"}),ee.jsx("button",{onClick:V=>b(V,"company"),className:`flex-1 rounded-md font-medium py-3 px-3 sm:px-4 transition-all text-sm sm:text-base ${m==="company"?p?"bg-white text-black shadow-sm":"bg-white text-gray-800 shadow-sm border border-gray-200":p?"text-white/70 hover:text-white hover:bg-white/10":"text-gray-800 hover:text-gray-900 hover:bg-white/70 font-medium"}`,children:"Company"}),ee.jsx("button",{onClick:V=>b(V,"socials"),className:`flex-1 rounded-md font-medium py-3 px-3 sm:px-4 transition-all text-sm sm:text-base ${m==="socials"?p?"bg-white text-black shadow-sm":"bg-white text-gray-800 shadow-sm border border-gray-200":p?"text-white/70 hover:text-white hover:bg-white/10":"text-gray-800 hover:text-gray-900 hover:bg-white/70 font-medium"}`,children:"Socials"})]})})]})]}),ee.jsxs("div",{className:"card-face card-back",children:[ee.jsx("button",{onClick:S,className:`flip-button absolute top-2 right-2 sm:top-4 sm:right-4 w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center transition-all border z-10 ${p?"bg-white/20 hover:bg-white/30 border-white/30 text-white":"bg-gray-800/80 hover:bg-gray-800 border-gray-700 text-white"}`,children:ee.jsx(R_,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),ee.jsxs("div",{className:`h-full min-h-screen md:min-h-0 flex flex-col items-center justify-center p-1 sm:p-4 md:p-6 lg:p-8 xl:p-12 transition-colors duration-300 ${p?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[ee.jsxs("div",{className:"mb-4 sm:mb-6 md:mb-8 lg:mb-10",children:[ee.jsx("h2",{className:`text-lg sm:text-xl md:text-2xl lg:text-3xl xl:text-4xl font-bold tracking-wider mb-2 ${p?"text-white":"text-gray-800"}`,children:oe(n?.Empresa,"AJE JOBS")}),ee.jsx("p",{className:`text-xs sm:text-sm md:text-base lg:text-lg tracking-widest text-center ${p?"text-gray-300":"text-gray-500"}`,children:"PROFESSIONAL SERVICES"})]}),ee.jsxs("div",{className:"space-y-2 sm:space-y-3 text-center w-full max-w-xs sm:max-w-sm",children:[ee.jsxs("div",{className:"flex items-center justify-center space-x-2 sm:space-x-3",children:[ee.jsx("div",{className:`w-4 h-4 sm:w-5 sm:h-5 rounded-full flex items-center justify-center flex-shrink-0 ${p?"bg-white":"bg-gray-800"}`,children:ee.jsx(DA,{className:`text-xs ${p?"text-gray-900":"text-white"}`})}),ee.jsx("span",{className:`text-xs sm:text-sm lg:text-base truncate ${p?"text-gray-300":"text-gray-700"}`,children:oe(n?.Email,"info@ajejobs.com")})]}),ee.jsxs("div",{className:"flex items-center justify-center space-x-2 sm:space-x-3",children:[ee.jsx("div",{className:`w-4 h-4 sm:w-5 sm:h-5 rounded-full flex items-center justify-center flex-shrink-0 ${p?"bg-white":"bg-gray-800"}`,children:ee.jsx(OA,{className:`text-xs ${p?"text-gray-900":"text-white"}`})}),ee.jsx("span",{className:`text-xs sm:text-sm lg:text-base ${p?"text-gray-300":"text-gray-700"}`,children:oe(n?.NroCelular,"+1 (555) 123-4567")})]}),ee.jsxs("div",{className:"flex items-center justify-center space-x-2 sm:space-x-3",children:[ee.jsx("div",{className:`w-4 h-4 sm:w-5 sm:h-5 rounded-full flex items-center justify-center flex-shrink-0 ${p?"bg-white":"bg-gray-800"}`,children:ee.jsx(MA,{className:`text-xs ${p?"text-gray-900":"text-white"}`})}),ee.jsx("span",{className:`text-xs sm:text-sm lg:text-base truncate ${p?"text-gray-300":"text-gray-700"}`,children:oe(n?.WebSyte,"www.ajejobs.com")})]}),ee.jsxs("div",{className:"flex items-center justify-center space-x-2 sm:space-x-3",children:[ee.jsx("div",{className:`w-4 h-4 sm:w-5 sm:h-5 rounded-full flex items-center justify-center flex-shrink-0 ${p?"bg-white":"bg-gray-800"}`,children:ee.jsx(NA,{className:`text-xs ${p?"text-gray-900":"text-white"}`})}),ee.jsx("span",{className:`text-xs sm:text-sm lg:text-base text-center leading-tight ${p?"text-gray-300":"text-gray-700"}`,children:oe(n?.City,"Ciudad no disponible")})]})]})]})]})]})})})},IN=rA([{path:"/",element:ee.jsx(OS,{to:"/card/demo",replace:!0}),errorElement:ee.jsx(Ah,{})},{path:"/card/:uid",element:ee.jsx(xN,{}),errorElement:ee.jsx(Ah,{})}]);lw.createRoot(document.getElementById("root")).render(ee.jsx(Q.StrictMode,{children:ee.jsx(pA,{router:IN})}));
